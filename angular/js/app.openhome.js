if(function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=_.type(a);return"function"!==c&&!_.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ha.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=na[a]={};return _.each(a.match(ma)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ta,"-$1").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:sa.test(c)?_.parseJSON(c):c)}catch(a){}ra.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Ja.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;c<d;c++)qa.set(a[c],"globalEval",!b||qa.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(qa.hasData(a)&&(f=qa.access(a),g=qa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)_.event.add(b,e,j[e][c])}ra.hasData(a)&&(h=ra.access(a),i=_.extend({},h),ra.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&xa.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Na[a];return c||(c=t(a,b),"none"!==c&&c||(Ma=(Ma||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Ma[0].contentDocument,b.write(),b.close(),c=t(a,b),Ma.detach()),Na[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Qa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Pa.test(g)&&Oa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Wa.length;e--;)if((b=Wa[e]+c)in a)return b;return d}function y(a,b,c){var d=Sa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=_.css(a,c+va[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+va[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+va[f]+"Width",!0,e))):(g+=_.css(a,"padding"+va[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+va[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Qa(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=v(a,b,f),(e<0||null==e)&&(e=a.style[b]),Pa.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=qa.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&wa(d)&&(f[g]=qa.access(d,"olddisplay",u(d.nodeName)))):(e=wa(d),"none"===c&&e||qa.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Xa=void 0}),Xa=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=va[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(bb[b]||[]).concat(bb["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&wa(a),o=qa.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=_.css(a,"display"),"inline"===("none"===j?qa.get(a,"olddisplay")||u(a.nodeName):j)&&"none"===_.css(a,"float")&&(m.display="inline-block")),c.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Za.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!o||void 0===o[d])continue;n=!0}l[d]=o&&o[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(l))"inline"===("none"===j?u(a.nodeName):j)&&(m.display=j);else{o?"hidden"in o&&(n=o.hidden):o=qa.access(a,"fxshow",{}),f&&(o.hidden=!n),n?_(a).show():k.done(function(){_(a).hide()}),k.done(function(){var b;qa.remove(a,"fxshow");for(b in l)_.style(a,b,l[b])});for(d in l)g=F(n?o[d]:0,d,k),d in o||(o[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=_.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=ab.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Xa||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Xa||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);f<g;f++)if(d=ab[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ma)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===sb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||xb.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.4",_=function(a,b){return new _.fn.init(a,b)},aa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ba=/^-ms-/,ca=/-([\da-z])/gi,da=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"===_.type(a)&&!a.nodeType&&!_.isWindow(a)&&!(a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;(a=_.trim(a))&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ba,"ms-").replace(ca,da)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e=0,f=a.length,g=c(a);if(d){if(g)for(;e<f&&!1!==b.apply(a[e],d);e++);else for(e in a)if(!1===b.apply(a[e],d))break}else if(g)for(;e<f&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(aa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;f<g;f++)null!=(e=b(a[f],f,d))&&i.push(e);else for(f in a)null!=(e=b(a[f],f,d))&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a))return d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var ea=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(!(f=b.getElementById(g))||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(a){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&void 0!==a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(a){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if(void 0!==b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){if(I)return b.getElementsByClassName(a)},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c||(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),v.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return(m-=e)===d||m%d==0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do{if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[c<0?c+b:c]}),even:j(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){d&&!(e=ja.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(!(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0]))return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&m(f)))return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=ea,_.expr=ea.selectors,_.expr[":"]=_.expr.pseudos,_.unique=ea.uniqueSort,_.text=ea.getText,_.isXMLDoc=ea.isXML,_.contains=ea.contains;var fa=_.expr.match.needsContext,ga=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ha=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){for(b=0;b<c;b++)if(_.contains(e[b],this))return!0}));for(b=0;b<c;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fa.test(a)?_(a):a||[],!1).length}});var ia,ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(!(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ja.exec(a))||!c[1]&&b)return!b||b.jquery?(b||ia).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),ga.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?void 0!==ia.ready?ia.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))}).prototype=_.fn,ia=_(Z);var ka=/^(?:parents|prev(?:Until|All))/,la={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fa.test(a)||"string"!=typeof a?_(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(la[a]||_.unique(e),ka.test(a)&&e.reverse()),this.pushStack(e)}});var ma=/\S+/g,na={};_.Callbacks=function(a){a="string"==typeof a?na[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&h<g;h++)if(!1===i[h].apply(f[0],f[1])&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function b(c){_.each(c,function(c,d){var e=_.type(d);"function"===e?a.unique&&l.has(d)||i.push(d):d&&d.length&&"string"!==e&&b(d)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(c<=g&&g--,c<=h&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var oa;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(!0===a?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==a&&--_.readyWait>0||(oa.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return oa||(oa=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),oa.promise(b)},_.ready.promise();var pa=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(ma)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var qa=new h,ra=new h,sa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ta=/([A-Z])/g;_.extend({hasData:function(a){return ra.hasData(a)||qa.hasData(a)},data:function(a,b,c){return ra.access(a,b,c)},removeData:function(a,b){ra.remove(a,b)},_data:function(a,b,c){return qa.access(a,b,c)},_removeData:function(a,b){qa.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=ra.get(f),1===f.nodeType&&!qa.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));qa.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){ra.set(this,a)}):pa(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(void 0!==(c=ra.get(f,a)))return c;if(void 0!==(c=ra.get(f,d)))return c;if(void 0!==(c=i(f,d,void 0)))return c}else this.each(function(){var c=ra.get(this,d);ra.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&ra.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){ra.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=qa.get(a,b),c&&(!d||_.isArray(c)?d=qa.access(a,b,_.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return qa.get(a,c)||qa.access(a,c,{empty:_.Callbacks("once memory").add(function(){qa.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=qa.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var ua=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,va=["Top","Right","Bottom","Left"],wa=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},xa=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var ya="undefined";Y.focusinBubbles="onfocusin"in a;var za=/^key/,Aa=/^(?:mouse|pointer|contextmenu)|click/,Ba=/^(?:focusinfocus|focusoutblur)$/,Ca=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=qa.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==ya&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(ma)||[""],j=b.length;j--;)h=Ca.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,o,g)||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=qa.hasData(a)&&qa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(ma)||[""],j=b.length;j--;)if(h=Ca.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,qa.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Ba.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||!1!==l.trigger.apply(d,c))){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Ba.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(qa.get(g,"events")||{})[b.type]&&qa.get(g,"handle"),k&&k.apply(g,c),(k=j&&g[j])&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),!1===b.result&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(m.pop(),c)||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(qa.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||!1!==j.preDispatch.call(this,a)){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(f.namespace)||(a.handleObj=f,a.data=f.data,void 0!==(d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h))&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(!0!==i.disabled||"click"!==a.type){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Aa.test(e)?this.mouseHooks:za.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==l()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===l()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&_.nodeName(this,"input"))return this.click(),!1},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){if(!(this instanceof _.Event))return new _.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),this[_.expando]=!0},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||_.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=qa.access(d,b);e||d.addEventListener(a,c,!0),qa.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=qa.access(d,b)-1;e?qa.access(d,b,e):(d.removeEventListener(a,c,!0),qa.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),!1===d)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return _.event.trigger(a,b,c,!0)}});var Da=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ea=/<([\w:]+)/,Fa=/<|&#?\w+;/,Ga=/<(?:script|style|link)/i,Ha=/checked\s*(?:[^=]|=\s*.checked.)/i,Ia=/^$|\/(?:java|ecma)script/i,Ja=/^true\/(.*)/,Ka=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,La={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};La.optgroup=La.option,La.tbody=La.tfoot=La.colgroup=La.caption=La.thead,La.th=La.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;d<e;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;d<e;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;m<n;m++)if((e=a[m])||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Fa.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Ea.exec(e)||["",""])[1].toLowerCase(),h=La[g]||La._default,f.innerHTML=h[1]+e.replace(Da,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Ia.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[qa.expando])&&(b=qa.cache[e])){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);qa.cache[e]&&delete qa.cache[e]}delete ra.cache[c[ra.expando]]}}}),_.fn.extend({text:function(a){return pa(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){m(this,a).appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return pa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ga.test(a)&&!La[(Ea.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Da,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ha.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;i<j;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;i<f;i++)g=e[i],Ia.test(g.type||"")&&!qa.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(Ka,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Ma,Na={},Oa=/^margin/,Pa=new RegExp("^("+ua+")(?!px)[a-z%]+$","i"),Qa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ra=/^(none|table(?!-c[ea]).+)/,Sa=new RegExp("^("+ua+")(.*)$","i"),Ta=new RegExp("^([+-])=("+ua+")","i"),Ua={position:"absolute",visibility:"hidden",display:"block"},Va={letterSpacing:"0",fontWeight:"400"},Wa=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;if(b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];f=typeof c,"string"===f&&(e=Ta.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Va&&(e=Va[b]),""===c||c?(f=parseFloat(e),!0===c||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){if(c)return Ra.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Ua,function(){return A(a,b,d)}):A(a,b,d)},set:function(a,c,d){var e=d&&Qa(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){if(b)return _.swap(a,{display:"inline-block"},v,[a,"marginRight"])}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+va[d]+b]=f[d]||f[d-2]||f[0];return e}},Oa.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return pa(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Qa(a),e=b.length;g<e;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){wa(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.options.duration?this.pos=b=_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Xa,Ya,Za=/^(?:toggle|show|hide)$/,$a=new RegExp("^(?:([+-])=|)("+ua+")([a-z%]*)$","i"),_a=/queueHooks$/,ab=[G],bb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=$a.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&$a.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,_.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],bb[c]=bb[c]||[],bb[c].unshift(b)},prefilter:function(a,b){b?ab.unshift(a):ab.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(wa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||qa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=qa.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&_a.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||_.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=qa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Xa=_.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Xa=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Ya||(Ya=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Ya),Ya=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var cb,db,eb=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return pa(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===ya?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?db:cb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ma);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),db={set:function(a,b,c){return!1===b?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=eb[b]||_.find.attr;eb[b]=function(a,b,d){var e,f;return d||(f=eb[b],eb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,eb[b]=f),e}});var fb=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return pa(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{for:"htmlFor",class:"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||fb.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var gb=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(ma)||[];i<j;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(gb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(ma)||[];i<j;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(gb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):_.isFunction(a)?this.each(function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(ma)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else c!==ya&&"boolean"!==c||(this.className&&qa.set(this,"__className__",this.className),this.className=this.className||!1===a?"":qa.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(gb," ").indexOf(b)>=0)return!0;return!1}});var hb=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),(b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return(b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(hb,""):null==c?"":c)}}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(Y.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){if(_.isArray(b))return a.checked=_.inArray(_(a).val(),b)>=0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var ib=_.now(),jb=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(a){b=void 0}return b&&!b.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+a),b};var kb=/#.*$/,lb=/([?&])_=[^&]*/,mb=/^(.*?):[ \t]*([^\r\n]*)$/gm,nb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ob=/^(?:GET|HEAD)$/,pb=/^\/\//,qb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rb={},sb={},tb="*/".concat("*"),ub=a.location.href,vb=qb.exec(ub.toLowerCase())||[];_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ub,type:"GET",isLocal:nb.test(vb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(rb),ajaxTransport:J(sb),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&a<300||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),(u=v.getResponseHeader("etag"))&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,!a&&w||(w="error",a<0&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=mb.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(t<2)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||ub)+"").replace(kb,"").replace(pb,vb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(ma)||[""],null==l.crossDomain&&(i=qb.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===vb[1]&&i[2]===vb[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(vb[3]||("http:"===vb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(rb,l,b,v),2===t)return v;j=_.event&&l.global,j&&0==_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!ob.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(jb.test(e)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=lb.test(e)?e.replace(lb,"$1_="+ib++):e+(jb.test(e)?"&":"?")+"_="+ib++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&!1!==l.contentType||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+tb+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(!1===l.beforeSend.call(m,v,l)||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(sb,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(a){if(!(t<2))throw a;c(-1,a)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return _.isFunction(a)?this.each(function(b){_(this).wrapInner(a.call(this,b))}):this.each(function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var wb=/%20/g,xb=/\[\]$/,yb=/\r?\n/g,zb=/^(?:submit|button|image|reset|file)$/i,Ab=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(wb,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Ab.test(this.nodeName)&&!zb.test(a)&&(this.checked||!xa.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(yb,"\r\n")}}):{name:b.name,value:c.replace(yb,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=_.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),Y.cors=!!Eb&&"withCredentials"in Eb,Y.ajax=Eb=!!Eb,_.ajaxTransport(function(a){var b;if(Y.cors||Eb&&!a.crossDomain)return{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(a){if(b)throw a}},abort:function(){b&&b()}}}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||_.expando+"_"+ib++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):!1!==b.jsonp&&(b.url+=(jb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=ga.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Hb=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==ya&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Ib;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Ib})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return pa(this,function(b,e,f){var g=P(b);if(void 0===f)return g?g[c]:b[e];g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){if(c)return c=v(a,b),Pa.test(c)?_(a).position()[b]+"px":c})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(!0===d||!0===e?"margin":"border");return pa(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Jb=a.jQuery,Kb=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Kb),b&&a.jQuery===_&&(a.jQuery=Jb),_},typeof b===ya&&(a.jQuery=a.$=_),_}),function(a,b,c){function d(a,b){return typeof a===b}function e(){var a,b,c,e,f,g,h;for(var i in k)if(k.hasOwnProperty(i)){if(a=[],b=k[i],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(e=d(b.fn,"function")?b.fn():b.fn,f=0;f<a.length;f++)g=a[f],h=g.split("."),1===h.length?m[h[0]]=e:(!m[h[0]]||m[h[0]]instanceof Boolean||(m[h[0]]=new Boolean(m[h[0]])),m[h[0]][h[1]]=e),j.push((e?"":"no-")+h.join("-"))}}function f(a){var b=n.className,c=m._config.classPrefix||"";if(o&&(b=b.baseVal),m._config.enableJSClass){var d=new RegExp("(^|\\s)"+c+"no-js(\\s|$)");b=b.replace(d,"$1"+c+"js$2")}m._config.enableClasses&&(b+=" "+c+a.join(" "+c),o?n.className.baseVal=b:n.className=b)}function g(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):o?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}function h(){var a=b.body;return a||(a=g(o?"svg":"body"),a.fake=!0),a}function i(a,c,d,e){var f,i,j,k,l="modernizr",m=g("div"),o=h();if(parseInt(d,10))for(;d--;)j=g("div"),j.id=e?e[d]:l+(d+1),m.appendChild(j);return f=g("style"),f.type="text/css",f.id="s"+l,(o.fake?o:m).appendChild(f),o.appendChild(m),f.styleSheet?f.styleSheet.cssText=a:f.appendChild(b.createTextNode(a)),m.id=l,o.fake&&(o.style.background="",o.style.overflow="hidden",k=n.style.overflow,n.style.overflow="hidden",n.appendChild(o)),i=c(m,a),o.fake?(o.parentNode.removeChild(o),n.style.overflow=k,n.offsetHeight):m.parentNode.removeChild(m),!!i}var j=[],k=[],l={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){k.push({name:a,fn:b,options:c})},addAsyncTest:function(a){k.push({name:null,fn:a})}},m=function(){};m.prototype=l,m=new m;var n=b.documentElement,o="svg"===n.nodeName.toLowerCase(),p=l._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];l._prefixes=p;var q=l.testStyles=i;m.addTest("touchevents",function(){var c;if("ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch)c=!0;else{var d=["@media (",p.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");q(d,function(a){c=9===a.offsetTop})}return c}),e(),f(j),delete l.addTest,delete l.addAsyncTest;for(var r=0;r<m._q.length;r++)m._q[r]();a.Modernizr=m}(window,document),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.echarts={})}(this,function(a){"use strict";function b(a,b){"createCanvas"===a&&(Io=null),Go[a]=b}function c(a){if(null==a||"object"!=typeof a)return a;var b=a,d=zo.call(a);if("[object Array]"===d){if(!I(a)){b=[];for(var e=0,f=a.length;e<f;e++)b[e]=c(a[e])}}else if(yo[d]){if(!I(a)){var g=a.constructor;if(a.constructor.from)b=g.from(a);else{b=new g(a.length);for(var e=0,f=a.length;e<f;e++)b[e]=c(a[e])}}}else if(!xo[d]&&!I(a)&&!y(a)){b={};for(var h in a)a.hasOwnProperty(h)&&(b[h]=c(a[h]))}return b}function d(a,b,e){if(!v(b)||!v(a))return e?c(b):a;for(var f in b)if(b.hasOwnProperty(f)){var g=a[f],h=b[f];!v(h)||!v(g)||s(h)||s(g)||y(h)||y(g)||w(h)||w(g)||I(h)||I(g)?!e&&f in a||(a[f]=c(b[f],!0)):d(g,h,e)}return a}function e(a,b){for(var c=a[0],e=1,f=a.length;e<f;e++)c=d(c,a[e],b);return c}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c?null!=b[d]:null==a[d])&&(a[d]=b[d]);return a}function h(){return Io||(Io=Ho().getContext("2d")),Io}function i(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c}return-1}function j(a,b){function c(){}var d=a.prototype;c.prototype=b.prototype,a.prototype=new c;for(var e in d)a.prototype[e]=d[e];a.prototype.constructor=a,a.superClass=b}function k(a,b,c){g(a="prototype"in a?a.prototype:a,b="prototype"in b?b.prototype:b,c)}function l(a){if(a)return"string"!=typeof a&&"number"==typeof a.length}function m(a,b,c){if(a&&b)if(a.forEach&&a.forEach===Bo)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);else for(var f in a)a.hasOwnProperty(f)&&b.call(c,a[f],f,a)}function n(a,b,c){if(a&&b){if(a.map&&a.map===Eo)return a.map(b,c);for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e,a));return d}}function o(a,b,c,d){if(a&&b){if(a.reduce&&a.reduce===Fo)return a.reduce(b,c,d);for(var e=0,f=a.length;e<f;e++)c=b.call(d,c,a[e],e,a);return c}}function p(a,b,c){if(a&&b){if(a.filter&&a.filter===Co)return a.filter(b,c);for(var d=[],e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}}function q(a,b){var c=Do.call(arguments,2);return function(){return a.apply(b,c.concat(Do.call(arguments)))}}function r(a){var b=Do.call(arguments,1);return function(){return a.apply(this,b.concat(Do.call(arguments)))}}function s(a){return"[object Array]"===zo.call(a)}function t(a){return"function"==typeof a}function u(a){return"[object String]"===zo.call(a)}function v(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function w(a){return!!xo[zo.call(a)]}function x(a){return!!yo[zo.call(a)]}function y(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function z(a){return a!==a}function A(a){for(var b=0,c=arguments.length;b<c;b++)if(null!=arguments[b])return arguments[b]}function B(a,b){return null!=a?a:b}function C(a,b,c){return null!=a?a:null!=b?b:c}function D(){return Function.call.apply(Do,arguments)}function E(a){if("number"==typeof a)return[a,a,a,a];var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function F(a,b){if(!a)throw new Error(b)}function G(a){return null==a?null:"function"==typeof a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function H(a){a[Jo]=!0}function I(a){return a[Jo]}function J(a){function b(a,b){c?d.set(a,b):d.set(b,a)}var c=s(a),d=this;a instanceof J?a.each(b):a&&m(a,b)}function K(a){return new J(a)}function L(){}function M(a,b){var c=new Lo(2);return null==a&&(a=0),null==b&&(b=0),c[0]=a,c[1]=b,c}function N(a,b){return a[0]=b[0],a[1]=b[1],a}function O(a){var b=new Lo(2);return b[0]=a[0],b[1]=a[1],b}function P(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function Q(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function R(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function S(a){return Math.sqrt(T(a))}function T(a){return a[0]*a[0]+a[1]*a[1]}function U(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function V(a,b){var c=S(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}function W(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function X(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function Y(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a}function Z(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function $(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function _(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function aa(a,b){return{target:a,topTarget:b&&b.topTarget}}function ba(a,b,c){return{type:a,event:c,target:b.target,topTarget:b.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which}}function ca(){}function da(a,b,c){if(a[a.rectHover?"rectContain":"contain"](b,c)){for(var d,e=a;e;){if(e.clipPath&&!e.clipPath.contain(b,c))return!1;e.silent&&(d=!0),e=e.parent}return!d||To}return!1}function ea(){var a=new Wo(6);return fa(a),a}function fa(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function ga(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function ha(a,b,c){var d=b[0]*c[0]+b[2]*c[1],e=b[1]*c[0]+b[3]*c[1],f=b[0]*c[2]+b[2]*c[3],g=b[1]*c[2]+b[3]*c[3],h=b[0]*c[4]+b[2]*c[5]+b[4],i=b[1]*c[4]+b[3]*c[5]+b[5];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a}function ia(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function ja(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+g*j,a[1]=-d*j+g*k,a[2]=e*k+h*j,a[3]=-e*j+k*h,a[4]=k*f+j*i,a[5]=k*i-j*f,a}function ka(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a}function la(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],i=c*g-f*d;return i?(i=1/i,a[0]=g*i,a[1]=-f*i,a[2]=-d*i,a[3]=c*i,a[4]=(d*h-g*e)*i,a[5]=(f*e-c*h)*i,a):null}function ma(a){return a>Zo||a<-Zo}function na(a){this._target=a.target,this._life=a.life||1e3,this._delay=a.delay||0,this._initialized=!1,this.loop=null!=a.loop&&a.loop,this.gap=a.gap||0,this.easing=a.easing||"Linear",this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart,this._pausedTime=0,this._paused=!1}function oa(a){return(a=Math.round(a))<0?0:a>255?255:a}function pa(a){return(a=Math.round(a))<0?0:a>360?360:a}function qa(a){return a<0?0:a>1?1:a}function ra(a){return oa(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function sa(a){return qa(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function ta(a,b,c){return c<0?c+=1:c>1&&(c-=1),6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}function ua(a,b,c){return a+(b-a)*c}function va(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function wa(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function xa(a,b){jp&&wa(jp,b),jp=ip.put(a,jp||b.slice())}function ya(a,b){if(a){b=b||[];var c=ip.get(a);if(c)return wa(b,c);var d=(a+="").replace(/ /g,"").toLowerCase();if(d in hp)return wa(b,hp[d]),xa(a,b),b;if("#"!==d.charAt(0)){var e=d.indexOf("("),f=d.indexOf(")");if(-1!==e&&f+1===d.length){var g=d.substr(0,e),h=d.substr(e+1,f-(e+1)).split(","),i=1;switch(g){case"rgba":if(4!==h.length)return void va(b,0,0,0,1);i=sa(h.pop());case"rgb":return 3!==h.length?void va(b,0,0,0,1):(va(b,ra(h[0]),ra(h[1]),ra(h[2]),i),xa(a,b),b);case"hsla":return 4!==h.length?void va(b,0,0,0,1):(h[3]=sa(h[3]),za(h,b),xa(a,b),b);case"hsl":return 3!==h.length?void va(b,0,0,0,1):(za(h,b),xa(a,b),b);default:return}}va(b,0,0,0,1)}else{if(4===d.length)return(j=parseInt(d.substr(1),16))>=0&&j<=4095?(va(b,(3840&j)>>4|(3840&j)>>8,240&j|(240&j)>>4,15&j|(15&j)<<4,1),xa(a,b),b):void va(b,0,0,0,1);if(7===d.length){var j=parseInt(d.substr(1),16);return j>=0&&j<=16777215?(va(b,(16711680&j)>>16,(65280&j)>>8,255&j,1),xa(a,b),b):void va(b,0,0,0,1)}}}}function za(a,b){var c=(parseFloat(a[0])%360+360)%360/360,d=sa(a[1]),e=sa(a[2]),f=e<=.5?e*(d+1):e+d-e*d,g=2*e-f;return b=b||[],va(b,oa(255*ta(g,f,c+1/3)),oa(255*ta(g,f,c)),oa(255*ta(g,f,c-1/3)),1),4===a.length&&(b[3]=a[3]),b}function Aa(a){if(a){var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=Math.min(d,e,f),h=Math.max(d,e,f),i=h-g,j=(h+g)/2;if(0===i)b=0,c=0;else{c=j<.5?i/(h+g):i/(2-h-g);var k=((h-d)/6+i/2)/i,l=((h-e)/6+i/2)/i,m=((h-f)/6+i/2)/i;d===h?b=m-l:e===h?b=1/3+k-m:f===h&&(b=2/3+l-k),b<0&&(b+=1),b>1&&(b-=1)}var n=[360*b,c,j];return null!=a[3]&&n.push(a[3]),n}}function Ba(a,b){var c=ya(a);if(c){for(var d=0;d<3;d++)c[d]=b<0?c[d]*(1-b)|0:(255-c[d])*b+c[d]|0,c[d]>255?c[d]=255:a[d]<0&&(c[d]=0);return Ga(c,4===c.length?"rgba":"rgb")}}function Ca(a){var b=ya(a);if(b)return((1<<24)+(b[0]<<16)+(b[1]<<8)+ +b[2]).toString(16).slice(1)}function Da(a,b,c){if(b&&b.length&&a>=0&&a<=1){c=c||[];var d=a*(b.length-1),e=Math.floor(d),f=Math.ceil(d),g=b[e],h=b[f],i=d-e;return c[0]=oa(ua(g[0],h[0],i)),c[1]=oa(ua(g[1],h[1],i)),c[2]=oa(ua(g[2],h[2],i)),c[3]=qa(ua(g[3],h[3],i)),c}}function Ea(a,b,c){if(b&&b.length&&a>=0&&a<=1){var d=a*(b.length-1),e=Math.floor(d),f=Math.ceil(d),g=ya(b[e]),h=ya(b[f]),i=d-e,j=Ga([oa(ua(g[0],h[0],i)),oa(ua(g[1],h[1],i)),oa(ua(g[2],h[2],i)),qa(ua(g[3],h[3],i))],"rgba");return c?{color:j,leftIndex:e,rightIndex:f,value:d}:j}}function Fa(a,b){if((a=ya(a))&&null!=b)return a[3]=qa(b),Ga(a,"rgba")}function Ga(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];return"rgba"!==b&&"hsva"!==b&&"hsla"!==b||(c+=","+a[3]),b+"("+c+")"}}function Ha(a,b){return a[b]}function Ia(a,b,c){a[b]=c}function Ja(a,b,c){return(b-a)*c+a}function Ka(a,b,c){return c>.5?b:a}function La(a,b,c,d,e){var f=a.length;if(1==e)for(h=0;h<f;h++)d[h]=Ja(a[h],b[h],c);else for(var g=f&&a[0].length,h=0;h<f;h++)for(var i=0;i<g;i++)d[h][i]=Ja(a[h][i],b[h][i],c)}function Ma(a,b,c){var d=a.length,e=b.length;if(d!==e)if(d>e)a.length=e;else for(g=d;g<e;g++)a.push(1===c?b[g]:np.call(b[g]));for(var f=a[0]&&a[0].length,g=0;g<a.length;g++)if(1===c)isNaN(a[g])&&(a[g]=b[g]);else for(var h=0;h<f;h++)isNaN(a[g][h])&&(a[g][h]=b[g][h])}function Na(a,b,c){if(a===b)return!0;var d=a.length;if(d!==b.length)return!1;if(1===c){for(f=0;f<d;f++)if(a[f]!==b[f])return!1}else for(var e=a[0].length,f=0;f<d;f++)for(var g=0;g<e;g++)if(a[f][g]!==b[f][g])return!1;return!0}function Oa(a,b,c,d,e,f,g,h,i){var j=a.length;if(1==i)for(l=0;l<j;l++)h[l]=Pa(a[l],b[l],c[l],d[l],e,f,g);else for(var k=a[0].length,l=0;l<j;l++)for(var m=0;m<k;m++)h[l][m]=Pa(a[l][m],b[l][m],c[l][m],d[l][m],e,f,g)}function Pa(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}function Qa(a){if(l(a)){var b=a.length;if(l(a[0])){for(var c=[],d=0;d<b;d++)c.push(np.call(a[d]));return c}return np.call(a)}return a}function Ra(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function Sa(a){var b=a[a.length-1].value;return l(b&&b[0])?2:1}function Ta(a,b,c,d,e,f){var g=a._getter,h=a._setter,i="spline"===b,j=d.length;if(j){var k,m=l(d[0].value),n=!1,o=!1,p=m?Sa(d):0;d.sort(function(a,b){return a.time-b.time}),k=d[j-1].time;for(var q=[],r=[],s=d[0].value,t=!0,u=0;u<j;u++){q.push(d[u].time/k);var v=d[u].value;if(m&&Na(v,s,p)||!m&&v===s||(t=!1),s=v,"string"==typeof v){var w=ya(v);w?(v=w,n=!0):o=!0}r.push(v)}if(f||!t){for(var x=r[j-1],u=0;u<j-1;u++)m?Ma(r[u],x,p):!isNaN(r[u])||isNaN(x)||o||n||(r[u]=x);m&&Ma(g(a._target,e),x,p);var y,z,A,B,C,D,E=0,F=0;if(n)var G=[0,0,0,0];var H=new na({target:a._target,life:k,loop:a._loop,delay:a._delay,onframe:function(a,b){var c;if(b<0)c=0;else if(b<F){for(c=y=Math.min(E+1,j-1);c>=0&&!(q[c]<=b);c--);c=Math.min(c,j-2)}else{for(c=E;c<j&&!(q[c]>b);c++);c=Math.min(c-1,j-2)}E=c,F=b;var d=q[c+1]-q[c];if(0!==d)if(z=(b-q[c])/d,i)if(B=r[c],A=r[0===c?c:c-1],C=r[c>j-2?j-1:c+1],D=r[c>j-3?j-1:c+2],m)Oa(A,B,C,D,z,z*z,z*z*z,g(a,e),p);else{if(n)f=Oa(A,B,C,D,z,z*z,z*z*z,G,1),f=Ra(G);else{if(o)return Ka(B,C,z);f=Pa(A,B,C,D,z,z*z,z*z*z)}h(a,e,f)}else if(m)La(r[c],r[c+1],z,g(a,e),p);else{var f;if(n)La(r[c],r[c+1],z,G,1),f=Ra(G);else{if(o)return Ka(r[c],r[c+1],z);f=Ja(r[c],r[c+1],z)}h(a,e,f)}},ondestroy:c});return b&&"spline"!==b&&(H.easing=b),H}}}function Ua(a,b,c,d){c<0&&(a+=c,c=-c),d<0&&(b+=d,d=-d),this.x=a,this.y=b,this.width=c,this.height=d}function Va(a){for(var b=0;a>=zp;)b|=1&a,a>>=1;return a+b}function Wa(a,b,c,d){var e=b+1;if(e===c)return 1;if(d(a[e++],a[b])<0){for(;e<c&&d(a[e],a[e-1])<0;)e++;Xa(a,b,e)}else for(;e<c&&d(a[e],a[e-1])>=0;)e++;return e-b}function Xa(a,b,c){for(c--;b<c;){var d=a[b];a[b++]=a[c],a[c--]=d}}function Ya(a,b,c,d,e){for(d===b&&d++;d<c;d++){for(var f,g=a[d],h=b,i=d;h<i;)e(g,a[f=h+i>>>1])<0?i=f:h=f+1;var j=d-h;switch(j){case 3:a[h+3]=a[h+2];case 2:a[h+2]=a[h+1];case 1:a[h+1]=a[h];break;default:for(;j>0;)a[h+j]=a[h+j-1],j--}a[h]=g}}function Za(a,b,c,d,e,f){var g=0,h=0,i=1;if(f(a,b[c+e])>0){for(h=d-e;i<h&&f(a,b[c+e+i])>0;)g=i,(i=1+(i<<1))<=0&&(i=h);i>h&&(i=h),g+=e,i+=e}else{for(h=e+1;i<h&&f(a,b[c+e-i])<=0;)g=i,(i=1+(i<<1))<=0&&(i=h);i>h&&(i=h);var j=g;g=e-i,i=e-j}for(g++;g<i;){var k=g+(i-g>>>1);f(a,b[c+k])>0?g=k+1:i=k}return i}function $a(a,b,c,d,e,f){var g=0,h=0,i=1;if(f(a,b[c+e])<0){for(h=e+1;i<h&&f(a,b[c+e-i])<0;)g=i,(i=1+(i<<1))<=0&&(i=h);i>h&&(i=h);var j=g;g=e-i,i=e-j}else{for(h=d-e;i<h&&f(a,b[c+e+i])>=0;)g=i,(i=1+(i<<1))<=0&&(i=h);i>h&&(i=h),g+=e,i+=e}for(g++;g<i;){var k=g+(i-g>>>1);f(a,b[c+k])<0?i=k:g=k+1}return i}function _a(a,b){function c(c){var h=f[c],j=g[c],k=f[c+1],l=g[c+1];g[c]=j+l,c===i-3&&(f[c+1]=f[c+2],g[c+1]=g[c+2]),i--;var m=$a(a[k],a,h,j,0,b);h+=m,0!=(j-=m)&&0!==(l=Za(a[h+j-1],a,k,l,l-1,b))&&(j<=l?d(h,j,k,l):e(h,j,k,l))}function d(c,d,e,f){var g=0;for(g=0;g<d;g++)j[g]=a[c+g];var i=0,k=e,l=c;if(a[l++]=a[k++],0!=--f)if(1!==d){for(var m,n,o,p=h;;){m=0,n=0,o=!1;do{if(b(a[k],j[i])<0){if(a[l++]=a[k++],n++,m=0,0==--f){o=!0;break}}else if(a[l++]=j[i++],m++,n=0,1==--d){o=!0;break}}while((m|n)<p);if(o)break;do{if(0!==(m=$a(a[k],j,i,d,0,b))){for(g=0;g<m;g++)a[l+g]=j[i+g];if(l+=m,i+=m,(d-=m)<=1){o=!0;break}}if(a[l++]=a[k++],0==--f){o=!0;break}if(0!==(n=Za(j[i],a,k,f,0,b))){for(g=0;g<n;g++)a[l+g]=a[k+g];if(l+=n,k+=n,0==(f-=n)){o=!0;break}}if(a[l++]=j[i++],1==--d){o=!0;break}p--}while(m>=Ap||n>=Ap);if(o)break;p<0&&(p=0),p+=2}if((h=p)<1&&(h=1),1===d){for(g=0;g<f;g++)a[l+g]=a[k+g];a[l+f]=j[i]}else{if(0===d)throw new Error;for(g=0;g<d;g++)a[l+g]=j[i+g]}}else{for(g=0;g<f;g++)a[l+g]=a[k+g];a[l+f]=j[i]}else for(g=0;g<d;g++)a[l+g]=j[i+g]}function e(c,d,e,f){var g=0;for(g=0;g<f;g++)j[g]=a[e+g];var i=c+d-1,k=f-1,l=e+f-1,m=0,n=0;if(a[l--]=a[i--],0!=--d)if(1!==f){for(var o=h;;){var p=0,q=0,r=!1;do{if(b(j[k],a[i])<0){if(a[l--]=a[i--],p++,q=0,0==--d){r=!0;break}}else if(a[l--]=j[k--],q++,p=0,1==--f){r=!0;break}}while((p|q)<o);if(r)break;do{if(0!=(p=d-$a(j[k],a,c,d,d-1,b))){for(d-=p,n=1+(l-=p),m=1+(i-=p),g=p-1;g>=0;g--)a[n+g]=a[m+g];if(0===d){r=!0;break}}if(a[l--]=j[k--],1==--f){r=!0;break}if(0!=(q=f-Za(a[i],j,0,f,f-1,b))){for(f-=q,n=1+(l-=q),m=1+(k-=q),g=0;g<q;g++)a[n+g]=j[m+g];if(f<=1){r=!0;break}}if(a[l--]=a[i--],0==--d){r=!0;break}o--}while(p>=Ap||q>=Ap);if(r)break;o<0&&(o=0),o+=2}if((h=o)<1&&(h=1),1===f){for(n=1+(l-=d),m=1+(i-=d),g=d-1;g>=0;g--)a[n+g]=a[m+g];a[l]=j[k]}else{if(0===f)throw new Error;for(m=l-(f-1),g=0;g<f;g++)a[m+g]=j[g]}}else{for(n=1+(l-=d),m=1+(i-=d),g=d-1;g>=0;g--)a[n+g]=a[m+g];a[l]=j[k]}else for(m=l-(f-1),g=0;g<f;g++)a[m+g]=j[g]}var f,g,h=Ap,i=0,j=[];f=[],g=[],this.mergeRuns=function(){for(;i>1;){var a=i-2;if(a>=1&&g[a-1]<=g[a]+g[a+1]||a>=2&&g[a-2]<=g[a]+g[a-1])g[a-1]<g[a+1]&&a--;else if(g[a]>g[a+1])break;c(a)}},this.forceMergeRuns=function(){for(;i>1;){var a=i-2;a>0&&g[a-1]<g[a+1]&&a--,c(a)}},this.pushRun=function(a,b){f[i]=a,g[i]=b,i+=1}}function ab(a,b,c,d){c||(c=0),d||(d=a.length);var e=d-c;if(!(e<2)){var f=0;if(e<zp)return f=Wa(a,c,d,b),void Ya(a,c,d,c+f,b);var g=new _a(a,b),h=Va(e);do{if((f=Wa(a,c,d,b))<h){var i=e;i>h&&(i=h),Ya(a,c,c+i,c+f,b),f=i}g.pushRun(c,f),g.mergeRuns(),e-=f,c+=f}while(0!==e);g.forceMergeRuns()}}function bb(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function cb(a,b,c){var d=null==b.x?0:b.x,e=null==b.x2?1:b.x2,f=null==b.y?0:b.y,g=null==b.y2?0:b.y2;return b.global||(d=d*c.width+c.x,e=e*c.width+c.x,f=f*c.height+c.y,g=g*c.height+c.y),d=isNaN(d)?0:d,e=isNaN(e)?1:e,f=isNaN(f)?0:f,g=isNaN(g)?0:g,a.createLinearGradient(d,f,e,g)}function db(a,b,c){var d=c.width,e=c.height,f=Math.min(d,e),g=null==b.x?.5:b.x,h=null==b.y?.5:b.y,i=null==b.r?.5:b.r;return b.global||(g=g*d+c.x,h=h*e+c.y,i*=f),a.createRadialGradient(g,h,0,g,h,i)}function eb(){return!1}function fb(a,b,c){var d=Ho(),e=b.getWidth(),f=b.getHeight(),g=d.style;return g&&(g.position="absolute",g.left=0,g.top=0,g.width=e+"px",g.height=f+"px",d.setAttribute("data-zr-dom-id",a)),d.width=e*c,d.height=f*c,d}function gb(a){if("string"==typeof a){var b=Mp.get(a);return b&&b.image}return a}function hb(a,b,c,d,e){if(a){if("string"==typeof a){if(b&&b.__zrImageSrc===a||!c)return b;var f=Mp.get(a),g={hostEl:c,cb:d,cbPayload:e};return f?!jb(b=f.image)&&f.pending.push(g):(!b&&(b=new Image),b.onload=ib,Mp.put(a,b.__cachedImgObj={image:b,pending:[g]}),b.src=b.__zrImageSrc=a),b}return a}return b}function ib(){var a=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload),c.hostEl.dirty()}a.pending.length=0}function jb(a){return a&&a.width&&a.height}function kb(a,b){var c=a+":"+(b=b||Rp);if(Np[c])return Np[c];for(var d=(a+"").split("\n"),e=0,f=0,g=d.length;f<g;f++)e=Math.max(wb(d[f],b).width,e);return Op>Pp&&(Op=0,Np={}),Op++,Np[c]=e,e}function lb(a,b,c,d,e,f,g){return f?nb(a,b,c,d,e,f,g):mb(a,b,c,d,e,g)}function mb(a,b,c,d,e,f){var g=xb(a,b,e,f),h=kb(a,b);e&&(h+=e[1]+e[3]);var i=g.outerHeight,j=new Ua(ob(0,h,c),pb(0,i,d),h,i);return j.lineHeight=g.lineHeight,j}function nb(a,b,c,d,e,f,g){var h=yb(a,{rich:f,truncate:g,font:b,textAlign:c,textPadding:e}),i=h.outerWidth,j=h.outerHeight;return new Ua(ob(0,i,c),pb(0,j,d),i,j)}function ob(a,b,c){return"right"===c?a-=b:"center"===c&&(a-=b/2),a}function pb(a,b,c){return"middle"===c?a-=b/2:"bottom"===c&&(a-=b),a}function qb(a,b,c){var d=b.x,e=b.y,f=b.height,g=b.width,h=f/2,i="left",j="top";switch(a){case"left":d-=c,e+=h,i="right",j="middle";break;case"right":d+=c+g,e+=h,j="middle";break;case"top":d+=g/2,e-=c,i="center",j="bottom";break;case"bottom":d+=g/2,e+=f+c,i="center";break;case"inside":d+=g/2,e+=h,i="center",j="middle";break;case"insideLeft":d+=c,e+=h,j="middle";break;case"insideRight":d+=g-c,e+=h,i="right",j="middle";break;case"insideTop":d+=g/2,e+=c,i="center";break;case"insideBottom":d+=g/2,e+=f-c,i="center",j="bottom";break;case"insideTopLeft":d+=c,e+=c;break;case"insideTopRight":d+=g-c,e+=c,i="right";break;case"insideBottomLeft":d+=c,e+=f-c,j="bottom";break;case"insideBottomRight":d+=g-c,e+=f-c,i="right",j="bottom"}return{x:d,y:e,textAlign:i,textVerticalAlign:j}}function rb(a,b,c,d,e){if(!b)return"";var f=(a+"").split("\n");e=sb(b,c,d,e);for(var g=0,h=f.length;g<h;g++)f[g]=tb(f[g],e);return f.join("\n")}function sb(a,b,c,d){(d=f({},d)).font=b;var c=B(c,"...");d.maxIterations=B(d.maxIterations,2);var e=d.minChar=B(d.minChar,0);d.cnCharWidth=kb("国",b);var g=d.ascCharWidth=kb("a",b);d.placeholder=B(d.placeholder,"");for(var h=a=Math.max(0,a-1),i=0;i<e&&h>=g;i++)h-=g;var j=kb(c);return j>h&&(c="",j=0),h=a-j,d.ellipsis=c,d.ellipsisWidth=j,d.contentWidth=h,d.containerWidth=a,d}function tb(a,b){var c=b.containerWidth,d=b.font,e=b.contentWidth;if(!c)return"";var f=kb(a,d);if(f<=c)return a;for(var g=0;;g++){if(f<=e||g>=b.maxIterations){a+=b.ellipsis;break}var h=0===g?ub(a,e,b.ascCharWidth,b.cnCharWidth):f>0?Math.floor(a.length*e/f):0;f=kb(a=a.substr(0,h),d)}return""===a&&(a=b.placeholder),a}function ub(a,b,c,d){for(var e=0,f=0,g=a.length;f<g&&e<b;f++){var h=a.charCodeAt(f);e+=0<=h&&h<=127?c:d}return f}function vb(a){return kb("国",a)}function wb(a,b){return Sp.measureText(a,b)}function xb(a,b,c,d){null!=a&&(a+="");var e=vb(b),f=a?a.split("\n"):[],g=f.length*e,h=g;if(c&&(h+=c[0]+c[2]),a&&d){var i=d.outerHeight,j=d.outerWidth;if(null!=i&&h>i)a="",f=[];else if(null!=j)for(var k=sb(j-(c?c[1]+c[3]:0),b,d.ellipsis,{minChar:d.minChar,placeholder:d.placeholder}),l=0,m=f.length;l<m;l++)f[l]=tb(f[l],k)}return{lines:f,height:g,outerHeight:h,lineHeight:e}}function yb(a,b){var c={lines:[],width:0,height:0};if(null!=a&&(a+=""),!a)return c;for(var d,e=Qp.lastIndex=0;null!=(d=Qp.exec(a));){var f=d.index;f>e&&zb(c,a.substring(e,f)),zb(c,d[2],d[1]),e=Qp.lastIndex}e<a.length&&zb(c,a.substring(e,a.length));var g=c.lines,h=0,i=0,j=[],k=b.textPadding,l=b.truncate,m=l&&l.outerWidth,n=l&&l.outerHeight;for(k&&(null!=m&&(m-=k[1]+k[3]),null!=n&&(n-=k[0]+k[2])),E=0;E<g.length;E++){for(var o=g[E],p=0,q=0,r=0;r<o.tokens.length;r++){var s=(F=o.tokens[r]).styleName&&b.rich[F.styleName]||{},t=F.textPadding=s.textPadding,u=F.font=s.font||b.font,v=F.textHeight=B(s.textHeight,vb(u));if(t&&(v+=t[0]+t[2]),F.height=v,F.lineHeight=C(s.textLineHeight,b.textLineHeight,v),F.textAlign=s&&s.textAlign||b.textAlign,F.textVerticalAlign=s&&s.textVerticalAlign||"middle",null!=n&&h+F.lineHeight>n)return{lines:[],width:0,height:0};F.textWidth=kb(F.text,u);var w=s.textWidth,x=null==w||"auto"===w;if("string"==typeof w&&"%"===w.charAt(w.length-1))F.percentWidth=w,j.push(F),w=0;else{if(x){w=F.textWidth;var y=s.textBackgroundColor,z=y&&y.image;z&&jb(z=gb(z))&&(w=Math.max(w,z.width*v/z.height))}var A=t?t[1]+t[3]:0;w+=A;var D=null!=m?m-q:null;null!=D&&D<w&&(!x||D<A?(F.text="",F.textWidth=w=0):(F.text=rb(F.text,D-A,u,l.ellipsis,{minChar:l.minChar}),F.textWidth=kb(F.text,u),w=F.textWidth+A))}q+=F.width=w,s&&(p=Math.max(p,F.lineHeight))}o.width=q,o.lineHeight=p,h+=p,i=Math.max(i,q)}c.outerWidth=c.width=B(b.textWidth,i),c.outerHeight=c.height=B(b.textHeight,h),k&&(c.outerWidth+=k[1]+k[3],c.outerHeight+=k[0]+k[2]);for(var E=0;E<j.length;E++){var F=j[E],G=F.percentWidth;F.width=parseInt(G,10)/100*i}return c}function zb(a,b,c){for(var d=""===b,e=b.split("\n"),f=a.lines,g=0;g<e.length;g++){var h=e[g],i={styleName:c,text:h,isLineHolder:!h&&!d};if(g)f.push({tokens:[i]});else{var j=(f[f.length-1]||(f[0]={tokens:[]})).tokens,k=j.length;1===k&&j[0].isLineHolder?j[0]=i:(h||!k||d)&&j.push(i)}}}function Ab(a){var b=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ");return b&&G(b)||a.textFont||a.font}function Bb(a,b){var c,d,e,f,g=b.x,h=b.y,i=b.width,j=b.height,k=b.r;i<0&&(g+=i,i=-i),j<0&&(h+=j,j=-j),"number"==typeof k?c=d=e=f=k:k instanceof Array?1===k.length?c=d=e=f=k[0]:2===k.length?(c=e=k[0],d=f=k[1]):3===k.length?(c=k[0],d=f=k[1],e=k[2]):(c=k[0],d=k[1],e=k[2],f=k[3]):c=d=e=f=0;var l;c+d>i&&(c*=i/(l=c+d),d*=i/l),e+f>i&&(e*=i/(l=e+f),f*=i/l),d+e>j&&(d*=j/(l=d+e),e*=j/l),c+f>j&&(c*=j/(l=c+f),f*=j/l),a.moveTo(g+c,h),a.lineTo(g+i-d,h),0!==d&&a.arc(g+i-d,h+d,d,-Math.PI/2,0),a.lineTo(g+i,h+j-e),0!==e&&a.arc(g+i-e,h+j-e,e,0,Math.PI/2),a.lineTo(g+f,h+j),0!==f&&a.arc(g+f,h+j-f,f,Math.PI/2,Math.PI),a.lineTo(g,h+c),0!==c&&a.arc(g+c,h+c,c,Math.PI,1.5*Math.PI)}function Cb(a){return Db(a),m(a.rich,Db),a}function Db(a){if(a){a.font=Ab(a);var b=a.textAlign;"middle"===b&&(b="center"),a.textAlign=null==b||Tp[b]?b:"left";var c=a.textVerticalAlign||a.textBaseline;"center"===c&&(c="middle"),a.textVerticalAlign=null==c||Up[c]?c:"top",a.textPadding&&(a.textPadding=E(a.textPadding))}}function Eb(a,b,c,d,e){d.rich?Gb(a,b,c,d,e):Fb(a,b,c,d,e)}function Fb(a,b,c,d,e){var f=Ob(b,"font",d.font||Rp),g=d.textPadding,h=a.__textCotentBlock;h&&!a.__dirty||(h=a.__textCotentBlock=xb(c,f,g,d.truncate));var i=h.outerHeight,j=h.lines,k=h.lineHeight,l=Nb(i,d,e),m=l.baseX,n=l.baseY,o=l.textAlign,p=l.textVerticalAlign;Ib(b,d,e,m,n);var q=pb(n,i,p),r=m,s=q,t=Kb(d);if(t||g){var u=kb(c,f);g&&(u+=g[1]+g[3]);var v=ob(m,u,o);t&&Lb(a,b,d,v,q,u,i),g&&(r=Sb(m,o,g),s+=g[0])}Ob(b,"textAlign",o||"left"),Ob(b,"textBaseline","middle"),Ob(b,"shadowBlur",d.textShadowBlur||0),Ob(b,"shadowColor",d.textShadowColor||"transparent"),Ob(b,"shadowOffsetX",d.textShadowOffsetX||0),Ob(b,"shadowOffsetY",d.textShadowOffsetY||0),s+=k/2;var w=d.textStrokeWidth,x=Pb(d.textStroke,w),y=Qb(d.textFill);x&&(Ob(b,"lineWidth",w),Ob(b,"strokeStyle",x)),y&&Ob(b,"fillStyle",y);for(var z=0;z<j.length;z++)x&&b.strokeText(j[z],r,s),y&&b.fillText(j[z],r,s),s+=k}function Gb(a,b,c,d,e){var f=a.__textCotentBlock;f&&!a.__dirty||(f=a.__textCotentBlock=yb(c,d)),Hb(a,b,f,d,e)}function Hb(a,b,c,d,e){var f=c.width,g=c.outerWidth,h=c.outerHeight,i=d.textPadding,j=Nb(h,d,e),k=j.baseX,l=j.baseY,m=j.textAlign,n=j.textVerticalAlign;Ib(b,d,e,k,l);var o=ob(k,g,m),p=pb(l,h,n),q=o,r=p;i&&(q+=i[3],r+=i[0]);var s=q+f;Kb(d)&&Lb(a,b,d,o,p,g,h);for(var t=0;t<c.lines.length;t++){for(var u,v=c.lines[t],w=v.tokens,x=w.length,y=v.lineHeight,z=v.width,A=0,B=q,C=s,D=x-1;A<x&&(!(u=w[A]).textAlign||"left"===u.textAlign);)Jb(a,b,u,d,y,r,B,"left"),z-=u.width,B+=u.width,A++;for(;D>=0&&"right"===(u=w[D]).textAlign;)Jb(a,b,u,d,y,r,C,"right"),z-=u.width,C-=u.width,D--;for(B+=(f-(B-q)-(s-C)-z)/2;A<=D;)Jb(a,b,u=w[A],d,y,r,B+u.width/2,"center"),B+=u.width,A++;r+=y}}function Ib(a,b,c,d,e){if(c&&b.textRotation){var f=b.textOrigin;"center"===f?(d=c.width/2+c.x,e=c.height/2+c.y):f&&(d=f[0]+c.x,e=f[1]+c.y),a.translate(d,e),a.rotate(-b.textRotation),a.translate(-d,-e)}}function Jb(a,b,c,d,e,f,g,h){var i=d.rich[c.styleName]||{},j=c.textVerticalAlign,k=f+e/2;"top"===j?k=f+c.height/2:"bottom"===j&&(k=f+e-c.height/2),!c.isLineHolder&&Kb(i)&&Lb(a,b,i,"right"===h?g-c.width:"center"===h?g-c.width/2:g,k-c.height/2,c.width,c.height);var l=c.textPadding;l&&(g=Sb(g,h,l),k-=c.height/2-l[2]-c.textHeight/2),Ob(b,"shadowBlur",C(i.textShadowBlur,d.textShadowBlur,0)),Ob(b,"shadowColor",i.textShadowColor||d.textShadowColor||"transparent"),Ob(b,"shadowOffsetX",C(i.textShadowOffsetX,d.textShadowOffsetX,0)),Ob(b,"shadowOffsetY",C(i.textShadowOffsetY,d.textShadowOffsetY,0)),Ob(b,"textAlign",h),Ob(b,"textBaseline","middle"),Ob(b,"font",c.font||Rp);var m=Pb(i.textStroke||d.textStroke,o),n=Qb(i.textFill||d.textFill),o=B(i.textStrokeWidth,d.textStrokeWidth);m&&(Ob(b,"lineWidth",o),Ob(b,"strokeStyle",m),b.strokeText(c.text,g,k)),n&&(Ob(b,"fillStyle",n),b.fillText(c.text,g,k))}function Kb(a){return a.textBackgroundColor||a.textBorderWidth&&a.textBorderColor}function Lb(a,b,c,d,e,f,g){var h=c.textBackgroundColor,i=c.textBorderWidth,j=c.textBorderColor,k=u(h);if(Ob(b,"shadowBlur",c.textBoxShadowBlur||0),Ob(b,"shadowColor",c.textBoxShadowColor||"transparent"),Ob(b,"shadowOffsetX",c.textBoxShadowOffsetX||0),Ob(b,"shadowOffsetY",c.textBoxShadowOffsetY||0),k||i&&j){b.beginPath();var l=c.textBorderRadius;l?Bb(b,{x:d,y:e,width:f,height:g,r:l}):b.rect(d,e,f,g),b.closePath()}if(k)Ob(b,"fillStyle",h),b.fill();else if(v(h)){var m=h.image;(m=hb(m,null,a,Mb,h))&&jb(m)&&b.drawImage(m,d,e,f,g)}i&&j&&(Ob(b,"lineWidth",i),Ob(b,"strokeStyle",j),b.stroke())}function Mb(a,b){b.image=a}function Nb(a,b,c){var d=b.x||0,e=b.y||0,f=b.textAlign,g=b.textVerticalAlign;if(c){var h=b.textPosition;if(h instanceof Array)d=c.x+Rb(h[0],c.width),e=c.y+Rb(h[1],c.height);else{var i=qb(h,c,b.textDistance);d=i.x,e=i.y,f=f||i.textAlign,g=g||i.textVerticalAlign}var j=b.textOffset;j&&(d+=j[0],e+=j[1])}return{baseX:d,baseY:e,textAlign:f,textVerticalAlign:g}}function Ob(a,b,c){return a[b]=Dp(a,b,c),a[b]}function Pb(a,b){return null==a||b<=0||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function Qb(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function Rb(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function Sb(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function Tb(a,b){return null!=a&&(a||b.textBackgroundColor||b.textBorderWidth&&b.textBorderColor||b.textPadding)}function Ub(a){a=a||{},up.call(this,a);for(var b in a)a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b]);this.style=new Fp(a.style,this),this._rect=null,this.__clipPaths=[]}function Vb(a){Ub.call(this,a)}function Wb(a){return parseInt(a,10)}function Xb(a){return!!a&&(!!a.__builtin__||"function"==typeof a.resize&&"function"==typeof a.refresh)}function Yb(a,b,c){return Xp.copy(a.getBoundingRect()),a.transform&&Xp.applyTransform(a.transform),Yp.width=b,Yp.height=c,!Xp.intersect(Yp)}function Zb(a,b){if(a==b)return!1;if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0}function $b(a,b){for(var c=0;c<a.length;c++){var d=a[c];d.setTransform(b),b.beginPath(),d.buildPath(b,d.shape),b.clip(),d.restoreTransform(b)}}function _b(a,b){var c=document.createElement("div");return c.style.cssText=["position:relative","overflow:hidden","width:"+a+"px","height:"+b+"px","padding:0","margin:0","border-width:0"].join(";")+";",c}function ac(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function bc(a,b,c,d){return c=c||{},d||!wo.canvasSupported?cc(a,b,c):wo.browser.firefox&&null!=b.layerX&&b.layerX!==b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):null!=b.offsetX?(c.zrX=b.offsetX,c.zrY=b.offsetY):cc(a,b,c),c}function cc(a,b,c){var d=ac(a);c.zrX=b.clientX-d.left,c.zrY=b.clientY-d.top}function dc(a,b,c){if(null!=(b=b||window.event).zrX)return b;var d=b.type;if(d&&d.indexOf("touch")>=0){var e="touchend"!=d?b.targetTouches[0]:b.changedTouches[0];e&&bc(a,e,b,c)}else bc(a,b,b,c),b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3;var f=b.button;return null==b.which&&void 0!==f&&_p.test(b.type)&&(b.which=1&f?1:2&f?3:4&f?2:0),b}function ec(a,b,c){$p?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function fc(a,b,c){$p?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}function gc(a){return a.which>1}function hc(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}function ic(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}function jc(a){return"mousewheel"===a&&wo.browser.firefox?"DOMMouseScroll":a}function kc(a,b,c){var d=a._gestureMgr;"start"===c&&d.clear();var e=d.recognize(b,a.handler.findHover(b.zrX,b.zrY,null).target,a.dom);if("end"===c&&d.clear(),e){var f=e.type;b.gestureEvent=f,a.handler.dispatchToElement({target:e.target},f,e.event)}}function lc(a){a._touching=!0,clearTimeout(a._touchTimer),a._touchTimer=setTimeout(function(){a._touching=!1},700)}function mc(a){var b=a.pointerType;return"pen"===b||"touch"===b}function nc(a){function b(a,b){return function(){if(!b._touching)return a.apply(b,arguments)}}m(fq,function(b){a._handlers[b]=q(iq[b],a)}),m(hq,function(b){a._handlers[b]=q(iq[b],a)}),m(eq,function(c){a._handlers[c]=b(iq[c],a)})}function oc(a){function b(b,c){m(b,function(b){ec(a,jc(b),c._handlers[b])},c)}So.call(this),this.dom=a,this._touching=!1,this._touchTimer,this._gestureMgr=new cq,this._handlers={},nc(this),wo.pointerEventsSupported?b(hq,this):(wo.touchEventsSupported&&b(fq,this),b(eq,this))}function pc(a,b){var c=new nq(uo(),a,b);return mq[c.id]=c,c}function qc(a,b){lq[a]=b}function rc(a){delete mq[a]}function sc(a){return a instanceof Array?a:null==a?[]:[a]}function tc(a,b,c){if(a){a[b]=a[b]||{},a.emphasis=a.emphasis||{},a.emphasis[b]=a.emphasis[b]||{};for(var d=0,e=c.length;d<e;d++){var f=c[d];!a.emphasis[b].hasOwnProperty(f)&&a[b].hasOwnProperty(f)&&(a.emphasis[b][f]=a[b][f])}}}function uc(a){return!qq(a)||rq(a)||a instanceof Date?a:a.value}function vc(a){return qq(a)&&!(a instanceof Array)}function wc(a,b){b=(b||[]).slice();var c=n(a||[],function(a,b){return{exist:a}});return pq(b,function(a,d){if(qq(a)){for(e=0;e<c.length;e++)if(!c[e].option&&null!=a.id&&c[e].exist.id===a.id+"")return c[e].option=a,void(b[d]=null);for(var e=0;e<c.length;e++){var f=c[e].exist;if(!(c[e].option||null!=f.id&&null!=a.id||null==a.name||zc(a)||zc(f)||f.name!==a.name+""))return c[e].option=a,void(b[d]=null)}}}),pq(b,function(a,b){if(qq(a)){for(var d=0;d<c.length;d++){var e=c[d].exist;if(!c[d].option&&!zc(e)&&null==a.id){c[d].option=a;break}}d>=c.length&&c.push({option:a})}}),c}function xc(a){var b=K();pq(a,function(a,c){var d=a.exist;d&&b.set(d.id,a)}),pq(a,function(a,c){var d=a.option;F(!d||null==d.id||!b.get(d.id)||b.get(d.id)===a,"id duplicates: "+(d&&d.id)),d&&null!=d.id&&b.set(d.id,a),!a.keyInfo&&(a.keyInfo={})}),pq(a,function(a,c){var d=a.exist,e=a.option,f=a.keyInfo;if(qq(e)){if(f.name=null!=e.name?e.name+"":d?d.name:sq+c,d)f.id=d.id;else if(null!=e.id)f.id=e.id+"";else{var g=0;do{f.id="\0"+f.name+"\0"+g++}while(b.get(f.id))}b.set(f.id,a)}})}function yc(a){var b=a.name;return!(!b||!b.indexOf(sq))}function zc(a){return qq(a)&&a.id&&0===(a.id+"").indexOf("\0_ec_\0")}function Ac(a,b){return null!=b.dataIndexInside?b.dataIndexInside:null!=b.dataIndex?s(b.dataIndex)?n(b.dataIndex,function(b){return a.indexOfRawIndex(b)}):a.indexOfRawIndex(b.dataIndex):null!=b.name?s(b.name)?n(b.name,function(b){return a.indexOfName(b)}):a.indexOfName(b.name):void 0}function Bc(){var a="__\0ec_inner_"+uq+++"_"+Math.random().toFixed(5);return function(b){return b[a]||(b[a]={})}}function Cc(a,b,c){if(u(b)){var d={};d[b+"Index"]=0,b=d}var e=c&&c.defaultMainType;!e||Dc(b,e+"Index")||Dc(b,e+"Id")||Dc(b,e+"Name")||(b[e+"Index"]=0);var f={};return pq(b,function(d,e){var d=b[e];if("dataIndex"!==e&&"dataIndexInside"!==e){var g=e.match(/^(\w+)(Index|Id|Name)$/)||[],h=g[1],j=(g[2]||"").toLowerCase();if(!(!h||!j||null==d||"index"===j&&"none"===d||c&&c.includeMainTypes&&i(c.includeMainTypes,h)<0)){var k={mainType:h};"index"===j&&"all"===d||(k[j]=d);var l=a.queryComponents(k);f[h+"Models"]=l,f[h+"Model"]=l[0]}}else f[e]=d}),f}function Dc(a,b){return a&&a.hasOwnProperty(b)}function Ec(a,b,c){a.setAttribute?a.setAttribute(b,c):a[b]=c}function Fc(a,b){return a.getAttribute?a.getAttribute(b):a[b]}function Gc(a){var b={main:"",sub:""};return a&&(a=a.split(vq),b.main=a[0]||"",b.sub=a[1]||""),b}function Hc(a){F(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function Ic(a,b){a.$constructor=a,a.extend=function(a){var b=this,c=function(){a.$constructor?a.$constructor.apply(this,arguments):b.apply(this,arguments)};return f(c.prototype,a),c.extend=this.extend,c.superCall=Kc,c.superApply=Lc,j(c,this),c.superClass=b,c}}function Jc(a){var b=["__\0is_clz",xq++,Math.random().toFixed(3)].join("_");a.prototype[b]=!0,a.isInstance=function(a){return!(!a||!a[b])}}function Kc(a,b){var c=D(arguments,2);return this.superClass.prototype[b].apply(a,c)}function Lc(a,b,c){return this.superClass.prototype[b].apply(a,c)}function Mc(a,b){function c(a){var b=d[a.main];return b&&b[wq]||((b=d[a.main]={})[wq]=!0),b}b=b||{};var d={};if(a.registerClass=function(a,b){return b&&(Hc(b),(b=Gc(b)).sub?b.sub!==wq&&(c(b)[b.sub]=a):d[b.main]=a),a},a.getClass=function(a,b,c){var e=d[a];if(e&&e[wq]&&(e=b?e[b]:null),c&&!e)throw new Error(b?"Component "+a+"."+(b||"")+" not exists. Load it first.":a+".type should be specified.");return e},a.getClassesByMainType=function(a){a=Gc(a);var b=[],c=d[a.main];return c&&c[wq]?m(c,function(a,c){c!==wq&&b.push(a)}):b.push(c),b},a.hasClass=function(a){return a=Gc(a),!!d[a.main]},a.getAllClassMainTypes=function(){var a=[];return m(d,function(b,c){a.push(c)}),a},a.hasSubTypes=function(a){a=Gc(a);var b=d[a.main];return b&&b[wq]},a.parseClassType=Gc,b.registerWhenExtend){var e=a.extend;e&&(a.extend=function(b){var c=e.call(this,b);return a.registerClass(c,b.type)})}return a}function Nc(a){return a>-Fq&&a<Fq}function Oc(a){return a>Fq||a<-Fq}function Pc(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function Qc(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function Rc(a,b,c,d,e,f){var g=d+3*(b-c)-a,h=3*(c-2*b+a),i=3*(b-a),j=a-e,k=h*h-3*g*i,l=h*i-9*g*j,m=i*i-3*h*j,n=0;if(Nc(k)&&Nc(l))Nc(h)?f[0]=0:(y=-i/h)>=0&&y<=1&&(f[n++]=y);else{var o=l*l-4*k*m;if(Nc(o)){var p=l/k,q=-p/2;(y=-h/g+p)>=0&&y<=1&&(f[n++]=y),q>=0&&q<=1&&(f[n++]=q)}else if(o>0){var r=Eq(o),s=k*h+1.5*g*(-l+r),t=k*h+1.5*g*(-l-r);(y=(-h-((s=s<0?-Dq(-s,Iq):Dq(s,Iq))+(t=t<0?-Dq(-t,Iq):Dq(t,Iq))))/(3*g))>=0&&y<=1&&(f[n++]=y)}else{var u=(2*k*h-3*g*l)/(2*Eq(k*k*k)),v=Math.acos(u)/3,w=Eq(k),x=Math.cos(v),y=(-h-2*w*x)/(3*g),q=(-h+w*(x+Hq*Math.sin(v)))/(3*g),z=(-h+w*(x-Hq*Math.sin(v)))/(3*g);y>=0&&y<=1&&(f[n++]=y),q>=0&&q<=1&&(f[n++]=q),z>=0&&z<=1&&(f[n++]=z)}}return n}function Sc(a,b,c,d,e){var f=6*c-12*b+6*a,g=9*b+3*d-3*a-9*c,h=3*b-3*a,i=0;if(Nc(g))Oc(f)&&(l=-h/f)>=0&&l<=1&&(e[i++]=l);else{var j=f*f-4*g*h;if(Nc(j))e[0]=-f/(2*g);else if(j>0){var k=Eq(j),l=(-f+k)/(2*g),m=(-f-k)/(2*g);l>=0&&l<=1&&(e[i++]=l),m>=0&&m<=1&&(e[i++]=m)}}return i}function Tc(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b,i=(d-c)*e+c,j=(h-g)*e+g,k=(i-h)*e+h,l=(k-j)*e+j;f[0]=a,f[1]=g,f[2]=j,f[3]=l,f[4]=l,f[5]=k,f[6]=i,f[7]=d}function Uc(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q=.005,r=1/0;Jq[0]=i,Jq[1]=j;for(var s=0;s<1;s+=.05)Kq[0]=Pc(a,c,e,g,s),Kq[1]=Pc(b,d,f,h,s),(o=Po(Jq,Kq))<r&&(l=s,r=o);r=1/0;for(var t=0;t<32&&!(q<Gq);t++)m=l-q,n=l+q,Kq[0]=Pc(a,c,e,g,m),Kq[1]=Pc(b,d,f,h,m),o=Po(Kq,Jq),m>=0&&o<r?(l=m,r=o):(Lq[0]=Pc(a,c,e,g,n),Lq[1]=Pc(b,d,f,h,n),p=Po(Lq,Jq),n<=1&&p<r?(l=n,r=p):q*=.5);return k&&(k[0]=Pc(a,c,e,g,l),k[1]=Pc(b,d,f,h,l)),Eq(r)}function Vc(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function Wc(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function Xc(a,b,c,d,e){var f=a-2*b+c,g=2*(b-a),h=a-d,i=0;if(Nc(f))Oc(g)&&(l=-h/g)>=0&&l<=1&&(e[i++]=l);else{var j=g*g-4*f*h;if(Nc(j))(l=-g/(2*f))>=0&&l<=1&&(e[i++]=l);else if(j>0){var k=Eq(j),l=(-g+k)/(2*f),m=(-g-k)/(2*f);l>=0&&l<=1&&(e[i++]=l),m>=0&&m<=1&&(e[i++]=m)}}return i}function Yc(a,b,c){var d=a+c-2*b;return 0===d?.5:(a-b)/d}function Zc(a,b,c,d,e){var f=(b-a)*d+a,g=(c-b)*d+b,h=(g-f)*d+f;e[0]=a,e[1]=f,e[2]=h,e[3]=h,e[4]=g,e[5]=c}function $c(a,b,c,d,e,f,g,h,i){var j,k=.005,l=1/0;Jq[0]=g,Jq[1]=h;for(var m=0;m<1;m+=.05)Kq[0]=Vc(a,c,e,m),Kq[1]=Vc(b,d,f,m),(q=Po(Jq,Kq))<l&&(j=m,l=q);l=1/0;for(var n=0;n<32&&!(k<Gq);n++){var o=j-k,p=j+k;Kq[0]=Vc(a,c,e,o),Kq[1]=Vc(b,d,f,o);var q=Po(Kq,Jq);if(o>=0&&q<l)j=o,l=q;else{Lq[0]=Vc(a,c,e,p),Lq[1]=Vc(b,d,f,p);var r=Po(Lq,Jq);p<=1&&r<l?(j=p,l=r):k*=.5}}return i&&(i[0]=Vc(a,c,e,j),i[1]=Vc(b,d,f,j)),Eq(l)}function _c(a,b,c){if(0!==a.length){var d,e=a[0],f=e[0],g=e[0],h=e[1],i=e[1];for(d=1;d<a.length;d++)e=a[d],f=Mq(f,e[0]),g=Nq(g,e[0]),h=Mq(h,e[1]),i=Nq(i,e[1]);b[0]=f,b[1]=h,c[0]=g,c[1]=i}}function ad(a,b,c,d,e,f){e[0]=Mq(a,c),e[1]=Mq(b,d),f[0]=Nq(a,c),f[1]=Nq(b,d)}function bd(a,b,c,d,e,f,g,h,i,j){var k,l=Sc,m=Pc,n=l(a,c,e,g,Uq);for(i[0]=1/0,i[1]=1/0,j[0]=-1/0,j[1]=-1/0,k=0;k<n;k++){var o=m(a,c,e,g,Uq[k]);i[0]=Mq(o,i[0]),j[0]=Nq(o,j[0])}for(n=l(b,d,f,h,Vq),k=0;k<n;k++){var p=m(b,d,f,h,Vq[k]);i[1]=Mq(p,i[1]),j[1]=Nq(p,j[1])}i[0]=Mq(a,i[0]),j[0]=Nq(a,j[0]),i[0]=Mq(g,i[0]),j[0]=Nq(g,j[0]),i[1]=Mq(b,i[1]),j[1]=Nq(b,j[1]),i[1]=Mq(h,i[1]),j[1]=Nq(h,j[1])}function cd(a,b,c,d,e,f,g,h){var i=Yc,j=Vc,k=Nq(Mq(i(a,c,e),1),0),l=Nq(Mq(i(b,d,f),1),0),m=j(a,c,e,k),n=j(b,d,f,l);g[0]=Mq(a,e,m),g[1]=Mq(b,f,n),h[0]=Nq(a,e,m),h[1]=Nq(b,f,n)}function dd(a,b,c,d,e,f,g,h,i){var j=Z,k=$,l=Math.abs(e-f);if(l%Qq<1e-4&&l>1e-4)return h[0]=a-c,h[1]=b-d,i[0]=a+c,void(i[1]=b+d);if(Rq[0]=Pq(e)*c+a,Rq[1]=Oq(e)*d+b,Sq[0]=Pq(f)*c+a,Sq[1]=Oq(f)*d+b,j(h,Rq,Sq),k(i,Rq,Sq),(e%=Qq)<0&&(e+=Qq),(f%=Qq)<0&&(f+=Qq),e>f&&!g?f+=Qq:e<f&&g&&(e+=Qq),g){var m=f;f=e,e=m}for(var n=0;n<f;n+=Math.PI/2)n>e&&(Tq[0]=Pq(n)*c+a,Tq[1]=Oq(n)*d+b,j(h,Tq,h),k(i,Tq,i))}function ed(a,b,c,d,e,f,g){if(0===e)return!1;var h=e,i=0,j=a;if(g>b+h&&g>d+h||g<b-h&&g<d-h||f>a+h&&f>c+h||f<a-h&&f<c-h)return!1;if(a===c)return Math.abs(f-a)<=h/2;var k=(i=(b-d)/(a-c))*f-g+(j=(a*d-c*b)/(a-c));return k*k/(i*i+1)<=h/2*h/2}function fd(a,b,c,d,e,f,g,h,i,j,k){if(0===i)return!1;var l=i;return!(k>b+l&&k>d+l&&k>f+l&&k>h+l||k<b-l&&k<d-l&&k<f-l&&k<h-l||j>a+l&&j>c+l&&j>e+l&&j>g+l||j<a-l&&j<c-l&&j<e-l&&j<g-l)&&Uc(a,b,c,d,e,f,g,h,j,k,null)<=l/2}function gd(a,b,c,d,e,f,g,h,i){if(0===g)return!1;var j=g;return!(i>b+j&&i>d+j&&i>f+j||i<b-j&&i<d-j&&i<f-j||h>a+j&&h>c+j&&h>e+j||h<a-j&&h<c-j&&h<e-j)&&$c(a,b,c,d,e,f,h,i,null)<=j/2}function hd(a){return(a%=hr)<0&&(a+=hr),a}function id(a,b,c,d,e,f,g,h,i){if(0===g)return!1;var j=g;h-=a,i-=b;var k=Math.sqrt(h*h+i*i);if(k-j>c||k+j<c)return!1;if(Math.abs(d-e)%ir<1e-4)return!0;if(f){var l=d;d=hd(e),e=hd(l)}else d=hd(d),e=hd(e);d>e&&(e+=ir);var m=Math.atan2(i,h);return m<0&&(m+=ir),m>=d&&m<=e||m+ir>=d&&m+ir<=e}function jd(a,b,c,d,e,f){if(f>b&&f>d||f<b&&f<d)return 0;if(d===b)return 0;var g=d<b?1:-1,h=(f-b)/(d-b);1!==h&&0!==h||(g=d<b?.5:-.5);var i=h*(c-a)+a;return i===e?1/0:i>e?g:0}function kd(a,b){return Math.abs(a-b)<lr}function ld(){var a=nr[0];nr[0]=nr[1],nr[1]=a}function md(a,b,c,d,e,f,g,h,i,j){if(j>b&&j>d&&j>f&&j>h||j<b&&j<d&&j<f&&j<h)return 0;var k=Rc(b,d,f,h,j,mr);if(0===k)return 0;for(var l,m,n=0,o=-1,p=0;p<k;p++){var q=mr[p],r=0===q||1===q?.5:1;Pc(a,c,e,g,q)<i||(o<0&&(o=Sc(b,d,f,h,nr),nr[1]<nr[0]&&o>1&&ld(),l=Pc(b,d,f,h,nr[0]),o>1&&(m=Pc(b,d,f,h,nr[1]))),2==o?q<nr[0]?n+=l<b?r:-r:q<nr[1]?n+=m<l?r:-r:n+=h<m?r:-r:q<nr[0]?n+=l<b?r:-r:n+=h<l?r:-r)}return n}function nd(a,b,c,d,e,f,g,h){if(h>b&&h>d&&h>f||h<b&&h<d&&h<f)return 0;var i=Xc(b,d,f,h,mr);if(0===i)return 0;var j=Yc(b,d,f);if(j>=0&&j<=1){for(var k=0,l=Vc(b,d,f,j),m=0;m<i;m++)n=0===mr[m]||1===mr[m]?.5:1,(o=Vc(a,c,e,mr[m]))<g||(mr[m]<j?k+=l<b?n:-n:k+=f<l?n:-n);return k}var n=0===mr[0]||1===mr[0]?.5:1,o=Vc(a,c,e,mr[0]);return o<g?0:f<b?n:-n}function od(a,b,c,d,e,f,g,h){if((h-=b)>c||h<-c)return 0;j=Math.sqrt(c*c-h*h),mr[0]=-j,mr[1]=j;var i=Math.abs(d-e);if(i<1e-4)return 0;if(i%kr<1e-4)return d=0,e=kr,o=f?1:-1,g>=mr[0]+a&&g<=mr[1]+a?o:0;if(f){var j=d;d=hd(e),e=hd(j)}else d=hd(d),e=hd(e);d>e&&(e+=kr);for(var k=0,l=0;l<2;l++){var m=mr[l];if(m+a>g){var n=Math.atan2(h,m),o=f?1:-1;n<0&&(n=kr+n),(n>=d&&n<=e||n+kr>=d&&n+kr<=e)&&(n>Math.PI/2&&n<1.5*Math.PI&&(o=-o),k+=o)}}return k}function pd(a,b,c,d,e){for(var f=0,g=0,h=0,i=0,j=0,k=0;k<a.length;){var l=a[k++];switch(l===jr.M&&k>1&&(c||(f+=jd(g,h,i,j,d,e))),1==k&&(i=g=a[k],j=h=a[k+1]),l){case jr.M:g=i=a[k++],h=j=a[k++];break;case jr.L:if(c){if(ed(g,h,a[k],a[k+1],b,d,e))return!0}else f+=jd(g,h,a[k],a[k+1],d,e)||0;g=a[k++],h=a[k++];break;case jr.C:if(c){if(fd(g,h,a[k++],a[k++],a[k++],a[k++],a[k],a[k+1],b,d,e))return!0}else f+=md(g,h,a[k++],a[k++],a[k++],a[k++],a[k],a[k+1],d,e)||0;g=a[k++],h=a[k++];break;case jr.Q:if(c){if(gd(g,h,a[k++],a[k++],a[k],a[k+1],b,d,e))return!0}else f+=nd(g,h,a[k++],a[k++],a[k],a[k+1],d,e)||0;g=a[k++],h=a[k++];break;case jr.A:var m=a[k++],n=a[k++],o=a[k++],p=a[k++],q=a[k++],r=a[k++],s=(a[k++],1-a[k++]),t=Math.cos(q)*o+m,u=Math.sin(q)*p+n;k>1?f+=jd(g,h,t,u,d,e):(i=t,j=u);var v=(d-m)*p/o+m;if(c){if(id(m,n,p,q,q+r,s,b,v,e))return!0}else f+=od(m,n,p,q,q+r,s,v,e);g=Math.cos(q+r)*o+m,h=Math.sin(q+r)*p+n;break;case jr.R:i=g=a[k++],j=h=a[k++];var t=i+a[k++],u=j+a[k++];if(c){if(ed(i,j,t,j,b,d,e)||ed(t,j,t,u,b,d,e)||ed(t,u,i,u,b,d,e)||ed(i,u,i,j,b,d,e))return!0}else f+=jd(t,j,t,u,d,e),f+=jd(i,u,i,j,d,e);break;case jr.Z:if(c){if(ed(g,h,i,j,b,d,e))return!0}else f+=jd(g,h,i,j,d,e);g=i,h=j}}return c||kd(h,j)||(f+=jd(g,h,i,j,d,e)||0),0!==f}function qd(a,b,c){return pd(a,0,!1,b,c)}function rd(a,b,c,d){return pd(a,b,!0,c,d)}function sd(a){Ub.call(this,a),this.path=null}function td(a,b,c,d,e,f,g,h,i,j,k){var l=i*(Ar/180),m=zr(l)*(a-c)/2+yr(l)*(b-d)/2,n=-1*yr(l)*(a-c)/2+zr(l)*(b-d)/2,o=m*m/(g*g)+n*n/(h*h);o>1&&(g*=xr(o),h*=xr(o));var p=(e===f?-1:1)*xr((g*g*(h*h)-g*g*(n*n)-h*h*(m*m))/(g*g*(n*n)+h*h*(m*m)))||0,q=p*g*n/h,r=p*-h*m/g,s=(a+c)/2+zr(l)*q-yr(l)*r,t=(b+d)/2+yr(l)*q+zr(l)*r,u=Dr([1,0],[(m-q)/g,(n-r)/h]),v=[(m-q)/g,(n-r)/h],w=[(-1*m-q)/g,(-1*n-r)/h],x=Dr(v,w);Cr(v,w)<=-1&&(x=Ar),Cr(v,w)>=1&&(x=0),0===f&&x>0&&(x-=2*Ar),1===f&&x<0&&(x+=2*Ar),k.addData(j,s,t,g,h,u,x,l,f)}function ud(a){if(!a)return[];var b,c=a.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(b=0;b<wr.length;b++)c=c.replace(new RegExp(wr[b],"g"),"|"+wr[b]);var d,e=c.split("|"),f=0,g=0,h=new gr,i=gr.CMD;for(b=1;b<e.length;b++){var j,k=e[b],l=k.charAt(0),m=0,n=k.slice(1).replace(/e,-/g,"e-").split(",");n.length>0&&""===n[0]&&n.shift();for(var o=0;o<n.length;o++)n[o]=parseFloat(n[o]);for(;m<n.length&&!isNaN(n[m])&&!isNaN(n[0]);){var p,q,r,s,t,u,v,w=f,x=g;switch(l){case"l":f+=n[m++],g+=n[m++],j=i.L,h.addData(j,f,g);break;case"L":f=n[m++],g=n[m++],j=i.L,h.addData(j,f,g);break;case"m":f+=n[m++],g+=n[m++],j=i.M,h.addData(j,f,g),l="l";break;case"M":f=n[m++],g=n[m++],j=i.M,h.addData(j,f,g),l="L";break;case"h":f+=n[m++],j=i.L,h.addData(j,f,g);break;case"H":f=n[m++],j=i.L,h.addData(j,f,g);break;case"v":g+=n[m++],j=i.L,h.addData(j,f,g);break;case"V":g=n[m++],j=i.L,h.addData(j,f,g);break;case"C":j=i.C,h.addData(j,n[m++],n[m++],n[m++],n[m++],n[m++],n[m++]),f=n[m-2],g=n[m-1];break;case"c":j=i.C,h.addData(j,n[m++]+f,n[m++]+g,n[m++]+f,n[m++]+g,n[m++]+f,n[m++]+g),f+=n[m-2],g+=n[m-1];break;case"S":p=f,q=g;var y=h.len(),z=h.data;d===i.C&&(p+=f-z[y-4],q+=g-z[y-3]),j=i.C,w=n[m++],x=n[m++],f=n[m++],g=n[m++],h.addData(j,p,q,w,x,f,g);break;case"s":p=f,q=g;var y=h.len(),z=h.data;d===i.C&&(p+=f-z[y-4],q+=g-z[y-3]),j=i.C,w=f+n[m++],x=g+n[m++],f+=n[m++],g+=n[m++],h.addData(j,p,q,w,x,f,g);break;case"Q":w=n[m++],x=n[m++],f=n[m++],g=n[m++],j=i.Q,h.addData(j,w,x,f,g);break;case"q":w=n[m++]+f,x=n[m++]+g,f+=n[m++],g+=n[m++],j=i.Q,h.addData(j,w,x,f,g);break;case"T":p=f,q=g;var y=h.len(),z=h.data;d===i.Q&&(p+=f-z[y-4],q+=g-z[y-3]),f=n[m++],g=n[m++],j=i.Q,h.addData(j,p,q,f,g);break;case"t":p=f,q=g;var y=h.len(),z=h.data;d===i.Q&&(p+=f-z[y-4],q+=g-z[y-3]),f+=n[m++],g+=n[m++],j=i.Q,h.addData(j,p,q,f,g);break;case"A":r=n[m++],s=n[m++],t=n[m++],u=n[m++],v=n[m++],td(w=f,x=g,f=n[m++],g=n[m++],u,v,r,s,t,j=i.A,h);break;case"a":r=n[m++],s=n[m++],t=n[m++],u=n[m++],v=n[m++],td(w=f,x=g,f+=n[m++],g+=n[m++],u,v,r,s,t,j=i.A,h)}}"z"!==l&&"Z"!==l||(j=i.Z,h.addData(j)),d=j}return h.toStatic(),h}function vd(a,b){var c=ud(a);return b=b||{},b.buildPath=function(a){if(a.setData)a.setData(c.data),(b=a.getContext())&&a.rebuildPath(b);else{var b=a;c.rebuildPath(b)}},b.applyTransform=function(a){vr(c,a),this.dirty(!0)},b}function wd(a,b){return new sd(vd(a,b))}function xd(a,b){return sd.extend(vd(a,b))}function yd(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}function zd(a,b,c){var d=b.points,e=b.smooth;if(d&&d.length>=2){if(e&&"spline"!==e){var f=Lr(d,e,c,b.smoothConstraint);a.moveTo(d[0][0],d[0][1]);for(var g=d.length,h=0;h<(c?g:g-1);h++){var i=f[2*h],j=f[2*h+1],k=d[(h+1)%g];a.bezierCurveTo(i[0],i[1],j[0],j[1],k[0],k[1])}}else{"spline"===e&&(d=Kr(d,c)),a.moveTo(d[0][0],d[0][1]);for(var h=1,l=d.length;h<l;h++)a.lineTo(d[h][0],d[h][1])}c&&a.closePath()}}function Ad(a,b,c){var d=a.cpx2,e=a.cpy2;return null===d||null===e?[(c?Qc:Pc)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?Qc:Pc)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?Wc:Vc)(a.x1,a.cpx1,a.x2,b),(c?Wc:Vc)(a.y1,a.cpy1,a.y2,b)]}function Bd(a){Ub.call(this,a),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Cd(a){return sd.extend(a)}function Dd(a,b,c,d){var e=wd(a,b),f=e.getBoundingRect();return c&&("center"===d&&(c=Fd(c,f)),Gd(e,c)),e}function Ed(a,b,c){var d=new Vb({style:{image:a,x:b.x,y:b.y,width:b.width,height:b.height},onload:function(a){if("center"===c){var e={width:a.width,height:a.height};d.setStyle(Fd(b,e))}}});return d}function Fd(a,b){var c,d=b.width/b.height,e=a.height*d;return c=e<=a.width?a.height:(e=a.width)/d,{x:a.x+a.width/2-e/2,y:a.y+a.height/2-c/2,width:e,height:c}}function Gd(a,b){if(a.applyTransform){var c=a.getBoundingRect().calculateTransform(b);a.applyTransform(c)}}function Hd(a){var b=a.shape,c=a.style.lineWidth;return Yr(2*b.x1)===Yr(2*b.x2)&&(b.x1=b.x2=Jd(b.x1,c,!0)),Yr(2*b.y1)===Yr(2*b.y2)&&(b.y1=b.y2=Jd(b.y1,c,!0)),a}function Id(a){var b=a.shape,c=a.style.lineWidth,d=b.x,e=b.y,f=b.width,g=b.height;return b.x=Jd(b.x,c,!0),b.y=Jd(b.y,c,!0),b.width=Math.max(Jd(d+f,c,!1)-b.x,0===f?0:1),b.height=Math.max(Jd(e+g,c,!1)-b.y,0===g?0:1),a}function Jd(a,b,c){var d=Yr(2*a);return(d+Yr(b))%2==0?d/2:(d+(c?1:-1))/2}function Kd(a){return null!=a&&"none"!=a}function Ld(a){return"string"==typeof a?Ba(a,-.1):a}function Md(a){if(a.__hoverStlDirty){var b=a.style.stroke,c=a.style.fill,d=a.__hoverStl;d.fill=d.fill||(Kd(c)?Ld(c):null),d.stroke=d.stroke||(Kd(b)?Ld(b):null);var e={};for(var f in d)null!=d[f]&&(e[f]=a.style[f]);a.__normalStl=e,a.__hoverStlDirty=!1}}function Nd(a){if(!a.__isHover){if(Md(a),a.useHoverLayer)a.__zr&&a.__zr.addHover(a,a.__hoverStl);else{var b=a.style,c=b.insideRollbackOpt;c&&ce(b),b.extendFrom(a.__hoverStl),c&&(be(b,b.insideOriginalTextPosition,c),null==b.textFill&&(b.textFill=c.autoColor)),a.dirty(!1),a.z2+=1}a.__isHover=!0}}function Od(a){if(a.__isHover){var b=a.__normalStl;a.useHoverLayer?a.__zr&&a.__zr.removeHover(a):(b&&a.setStyle(b),a.z2-=1),a.__isHover=!1}}function Pd(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&Nd(a)}):Nd(a)}function Qd(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&Od(a)}):Od(a)}function Rd(a,b){a.__hoverStl=a.hoverStyle||b||{},a.__hoverStlDirty=!0,a.__isHover&&Md(a)}function Sd(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&Pd(this)}function Td(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&Qd(this)}function Ud(){this.__isEmphasis=!0,Pd(this)}function Vd(){this.__isEmphasis=!1,Qd(this)}function Wd(a,b,c){a.__hoverSilentOnTouch=c&&c.hoverSilentOnTouch,"group"===a.type?a.traverse(function(a){"group"!==a.type&&Rd(a,b)}):Rd(a,b),a.on("mouseover",Sd).on("mouseout",Td),a.on("emphasis",Ud).on("normal",Vd)}function Xd(a,b,c,d,e,f,g){var h,i=(e=e||_r).labelFetcher,j=e.labelDataIndex,k=e.labelDimIndex,l=c.getShallow("show"),m=d.getShallow("show");(l||m)&&(i&&(h=i.getFormattedLabel(j,"normal",null,k)),null==h&&(h=t(e.defaultText)?e.defaultText(j,e):e.defaultText));var n=l?h:null,o=m?B(i?i.getFormattedLabel(j,"emphasis",null,k):null,h):null;null==n&&null==o||(Yd(a,c,f,e),Yd(b,d,g,e,!0)),a.text=n,b.text=o}function Yd(a,b,c,d,e){return Zd(a,b,d,e),c&&f(a,c),a.host&&a.host.dirty&&a.host.dirty(!1),a}function Zd(a,b,c,d){if((c=c||_r).isRectText){var e=b.getShallow("position")||(d?null:"inside");"outside"===e&&(e="top"),a.textPosition=e,a.textOffset=b.getShallow("offset");var f=b.getShallow("rotate");null!=f&&(f*=Math.PI/180),a.textRotation=f,a.textDistance=B(b.getShallow("distance"),d?null:5)}var g,h=b.ecModel,i=h&&h.option.textStyle,j=$d(b);if(j){g={};for(var k in j)if(j.hasOwnProperty(k)){var l=b.getModel(["rich",k]);_d(g[k]={},l,i,c,d)}}return a.rich=g,_d(a,b,i,c,d,!0),c.forceRich&&!c.textStyle&&(c.textStyle={}),a}function $d(a){for(var b;a&&a!==a.ecModel;){var c=(a.option||_r).rich;if(c){b=b||{};for(var d in c)c.hasOwnProperty(d)&&(b[d]=1)}a=a.parentModel}return b}function _d(a,b,c,d,e,f){if(c=!e&&c||_r,a.textFill=ae(b.getShallow("color"),d)||c.color,a.textStroke=ae(b.getShallow("textBorderColor"),d)||c.textBorderColor,a.textStrokeWidth=B(b.getShallow("textBorderWidth"),c.textBorderWidth),!e){if(f){var g=a.textPosition;a.insideRollback=be(a,g,d),a.insideOriginalTextPosition=g,a.insideRollbackOpt=d}null==a.textFill&&(a.textFill=d.autoColor)}a.fontStyle=b.getShallow("fontStyle")||c.fontStyle,a.fontWeight=b.getShallow("fontWeight")||c.fontWeight,a.fontSize=b.getShallow("fontSize")||c.fontSize,a.fontFamily=b.getShallow("fontFamily")||c.fontFamily,a.textAlign=b.getShallow("align"),a.textVerticalAlign=b.getShallow("verticalAlign")||b.getShallow("baseline"),a.textLineHeight=b.getShallow("lineHeight"),a.textWidth=b.getShallow("width"),a.textHeight=b.getShallow("height"),a.textTag=b.getShallow("tag"),f&&d.disableBox||(a.textBackgroundColor=ae(b.getShallow("backgroundColor"),d),a.textPadding=b.getShallow("padding"),a.textBorderColor=ae(b.getShallow("borderColor"),d),a.textBorderWidth=b.getShallow("borderWidth"),a.textBorderRadius=b.getShallow("borderRadius"),a.textBoxShadowColor=b.getShallow("shadowColor"),a.textBoxShadowBlur=b.getShallow("shadowBlur"),a.textBoxShadowOffsetX=b.getShallow("shadowOffsetX"),a.textBoxShadowOffsetY=b.getShallow("shadowOffsetY")),a.textShadowColor=b.getShallow("textShadowColor")||c.textShadowColor,a.textShadowBlur=b.getShallow("textShadowBlur")||c.textShadowBlur,a.textShadowOffsetX=b.getShallow("textShadowOffsetX")||c.textShadowOffsetX,a.textShadowOffsetY=b.getShallow("textShadowOffsetY")||c.textShadowOffsetY}function ae(a,b){return"auto"!==a?a:b&&b.autoColor?b.autoColor:null}function be(a,b,c){var d,e=c.useInsideStyle;return null==a.textFill&&!1!==e&&(!0===e||c.isRectText&&b&&"string"==typeof b&&b.indexOf("inside")>=0)&&(d={textFill:null,textStroke:a.textStroke,textStrokeWidth:a.textStrokeWidth},a.textFill="#fff",null==a.textStroke&&(a.textStroke=c.autoColor,null==a.textStrokeWidth&&(a.textStrokeWidth=2))),d}function ce(a){var b=a.insideRollback;b&&(a.textFill=b.textFill,a.textStroke=b.textStroke,a.textStrokeWidth=b.textStrokeWidth)}function de(a,b){var c=b||b.getModel("textStyle");return G([a.fontStyle||c&&c.getShallow("fontStyle")||"",a.fontWeight||c&&c.getShallow("fontWeight")||"",(a.fontSize||c&&c.getShallow("fontSize")||12)+"px",a.fontFamily||c&&c.getShallow("fontFamily")||"sans-serif"].join(" "))}function ee(a,b,c,d,e,f){if("function"==typeof e&&(f=e,e=null),d&&d.isAnimationEnabled()){var g=a?"Update":"",h=d.getShallow("animationDuration"+g),i=d.getShallow("animationEasing"+g),j=d.getShallow("animationDelay"+g);"function"==typeof j&&(j=j(e,d.getAnimationDelayParams?d.getAnimationDelayParams(b,e):null)),"function"==typeof h&&(h=h(e)),h>0?b.animateTo(c,h,j||0,i,f,!!f):(b.stopAnimation(),b.attr(c),f&&f())}else b.stopAnimation(),b.attr(c),f&&f()}function fe(a,b,c,d,e){ee(!0,a,b,c,d,e)}function ge(a,b,c,d,e){ee(!1,a,b,c,d,e)}function he(a,b){for(var c=fa([]);a&&a!==b;)ha(c,a.getLocalTransform(),c),a=a.parent;return c}function ie(a,b,c){return b&&!l(b)&&(b=$o.getLocalTransform(b)),c&&(b=la([],b)),Y([],a,b)}function je(a,b,c){var d=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),e=0===b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]),f=["left"===a?-d:"right"===a?d:0,"top"===a?-e:"bottom"===a?e:0];return f=ie(f,b,c),Math.abs(f[0])>Math.abs(f[1])?f[0]>0?"right":"left":f[1]>0?"bottom":"top"}function ke(a,b,c,d){function e(a){var b={position:O(a.position),rotation:a.rotation};return a.shape&&(b.shape=f({},a.shape)),b}if(a&&b){var g=function(a){var b={};return a.traverse(function(a){!a.isGroup&&a.anid&&(b[a.anid]=a)}),b}(a);b.traverse(function(a){if(!a.isGroup&&a.anid){var b=g[a.anid];if(b){var d=e(a);a.attr(e(b)),fe(a,d,c,a.dataIndex)}}})}}function le(a,b){return n(a,function(a){var c=a[0];c=Zr(c,b.x),c=$r(c,b.x+b.width);var d=a[1];return d=Zr(d,b.y),d=$r(d,b.y+b.height),[c,d]})}function me(a,b,c){var d=(b=f({rectHover:!0},b)).style={strokeNoScale:!0};if(c=c||{x:-1,y:-1,width:2,height:2},a)return 0===a.indexOf("image://")?(d.image=a.slice(8),g(d,c),new Vb(b)):Dd(a.replace("path://",""),b,c,"center")}function ne(a,b,c){this.parentModel=b,this.ecModel=c,this.option=a}function oe(a,b,c){for(var d=0;d<b.length&&(!b[d]||null!=(a=a&&"object"==typeof a?a[b[d]]:null));d++);return null==a&&c&&(a=c.get(b)),a}function pe(a,b){var c=gs(a).getParent;return c?c.call(a,b):a.parentModel}function qe(a){return[a||"",hs++,Math.random().toFixed(5)].join("_")}function re(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function se(a,b,c,d){var e=b[1]-b[0],f=c[1]-c[0];if(0===e)return 0===f?c[0]:(c[0]+c[1])/2;if(d)if(e>0){if(a<=b[0])return c[0];if(a>=b[1])return c[1]}else{if(a>=b[0])return c[0];if(a<=b[1])return c[1]}else{if(a===b[0])return c[0];if(a===b[1])return c[1]}return(a-b[0])/e*f+c[0]}function te(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return"string"==typeof a?re(a).match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?NaN:+a}function ue(a,b,c){return null==b&&(b=10),b=Math.min(Math.max(0,b),20),a=(+a).toFixed(b),c?a:+a}function ve(a){return a.sort(function(a,b){return a-b}),a}function we(a){if(a=+a,isNaN(a))return 0;for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c}function xe(a){var b=a.toString(),c=b.indexOf("e");if(c>0){var d=+b.slice(c+1);return d<0?-d:0}var e=b.indexOf(".");return e<0?0:b.length-1-e}function ye(a,b){var c=Math.log,d=Math.LN10,e=Math.floor(c(a[1]-a[0])/d),f=Math.round(c(Math.abs(b[1]-b[0]))/d),g=Math.min(Math.max(-e+f,0),20);return isFinite(g)?g:20}function ze(a,b,c){if(!a[b])return 0;var d=o(a,function(a,b){return a+(isNaN(b)?0:b)},0);if(0===d)return 0;for(var e=Math.pow(10,c),f=n(a,function(a){return(isNaN(a)?0:a)/d*e*100}),g=100*e,h=n(f,function(a){return Math.floor(a)}),i=o(h,function(a,b){return a+b},0),j=n(f,function(a,b){return a-h[b]});i<g;){for(var k=Number.NEGATIVE_INFINITY,l=null,m=0,p=j.length;m<p;++m)j[m]>k&&(k=j[m],l=m);++h[l],j[l]=0,++i}return h[b]/e}function Ae(a){var b=2*Math.PI;return(a%b+b)%b}function Be(a){return a>-is&&a<is}function Ce(a){if(a instanceof Date)return a;if("string"==typeof a){var b=js.exec(a);if(!b)return new Date(NaN);if(b[8]){var c=+b[4]||0;return"Z"!==b[8].toUpperCase()&&(c-=b[8].slice(0,3)),new Date(Date.UTC(+b[1],+(b[2]||1)-1,+b[3]||1,c,+(b[5]||0),+b[6]||0,+b[7]||0))}return new Date(+b[1],+(b[2]||1)-1,+b[3]||1,+b[4]||0,+(b[5]||0),+b[6]||0,+b[7]||0)}return null==a?new Date(NaN):new Date(Math.round(a))}function De(a){return Math.pow(10,Ee(a))}function Ee(a){return Math.floor(Math.log(a)/Math.LN10)}function Fe(a,b){var c,d=Ee(a),e=Math.pow(10,d),f=a/e;return c=b?f<1.5?1:f<2.5?2:f<4?3:f<7?5:10:f<1?1:f<2?2:f<3?3:f<5?5:10,a=c*e,d>=-20?+a.toFixed(d<0?-d:0):a}function Ge(a){return isNaN(a)?"-":(a=(a+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:"")}function He(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function Ie(a){return null==a?"":(a+"").replace(ms,function(a,b){return ns[b]})}function Je(a,b,c){s(b)||(b=[b]);var d=b.length;if(!d)return"";for(var e=b[0].$vars||[],f=0;f<e.length;f++){var g=os[f];a=a.replace(ps(g),ps(g,0))}for(var h=0;h<d;h++)for(var i=0;i<e.length;i++){var j=b[h][e[i]];a=a.replace(ps(os[i],h),c?Ie(j):j)}return a}function Ke(a,b){var c=(a=u(a)?{color:a,extraCssText:b}:a||{}).color,d=a.type,b=a.extraCssText;return c?"subItem"===d?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ie(c)+";"+(b||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Ie(c)+";"+(b||"")+'"></span>':""}function Le(a,b){return a+="","0000".substr(0,b-a.length)+a}function Me(a,b,c){"week"!==a&&"month"!==a&&"quarter"!==a&&"half-year"!==a&&"year"!==a||(a="MM-dd\nyyyy");var d=Ce(b),e=c?"UTC":"",f=d["get"+e+"FullYear"](),g=d["get"+e+"Month"]()+1,h=d["get"+e+"Date"](),i=d["get"+e+"Hours"](),j=d["get"+e+"Minutes"](),k=d["get"+e+"Seconds"](),l=d["get"+e+"Milliseconds"]();return a=a.replace("MM",Le(g,2)).replace("M",g).replace("yyyy",f).replace("yy",f%100).replace("dd",Le(h,2)).replace("d",h).replace("hh",Le(i,2)).replace("h",i).replace("mm",Le(j,2)).replace("m",j).replace("ss",Le(k,2)).replace("s",k).replace("SSS",Le(l,3))}function Ne(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function Oe(a,b,c,d,e){var f=0,g=0;null==d&&(d=1/0),null==e&&(e=1/0);var h=0;b.eachChild(function(i,j){var k,l,m=i.position,n=i.getBoundingRect(),o=b.childAt(j+1),p=o&&o.getBoundingRect();if("horizontal"===a){var q=n.width+(p?-p.x+n.x:0);(k=f+q)>d||i.newline?(f=0,k=q,g+=h+c,h=n.height):h=Math.max(h,n.height)}else{var r=n.height+(p?-p.y+n.y:0);(l=g+r)>e||i.newline?(f+=h+c,g=0,l=r,h=n.width):h=Math.max(h,n.width)}i.newline||(m[0]=f,m[1]=g,"horizontal"===a?f=k+c:g=l+c)})}function Pe(a,b,c){c=ls(c||0);var d=b.width,e=b.height,f=te(a.left,d),g=te(a.top,e),h=te(a.right,d),i=te(a.bottom,e),j=te(a.width,d),k=te(a.height,e),l=c[2]+c[0],m=c[1]+c[3],n=a.aspect;switch(isNaN(j)&&(j=d-h-m-f),isNaN(k)&&(k=e-i-l-g),null!=n&&(isNaN(j)&&isNaN(k)&&(n>d/e?j=.8*d:k=.8*e),isNaN(j)&&(j=n*k),isNaN(k)&&(k=j/n)),isNaN(f)&&(f=d-h-j-m),isNaN(g)&&(g=e-i-k-l),a.left||a.right){case"center":f=d/2-j/2-c[3];break;case"right":f=d-j-m}switch(a.top||a.bottom){case"middle":case"center":g=e/2-k/2-c[0];break;case"bottom":g=e-k-l}f=f||0,g=g||0,isNaN(j)&&(j=d-m-f-(h||0)),isNaN(k)&&(k=e-l-g-(i||0));var o=new Ua(f+c[3],g+c[0],j,k);return o.margin=c,o}function Qe(a,b,c,d,e){var f=!e||!e.hv||e.hv[0],h=!e||!e.hv||e.hv[1],i=e&&e.boundingMode||"all";if(f||h){var j;if("raw"===i)j="group"===a.type?new Ua(0,0,+b.width||0,+b.height||0):a.getBoundingRect();else if(j=a.getBoundingRect(),a.needLocalTransform()){var k=a.getLocalTransform();(j=j.clone()).applyTransform(k)}b=Pe(g({width:j.width,height:j.height},b),c,d);var l=a.position,m=f?b.x-j.x:0,n=h?b.y-j.y:0;a.attr("position","raw"===i?[m,n]:[l[0]+m,l[1]+n])}}function Re(a,b,c){function d(c,d){var g={},i=0,j={},k=0;if(ts(c,function(b){j[b]=a[b]}),ts(c,function(a){e(b,a)&&(g[a]=j[a]=b[a]),f(g,a)&&i++,f(j,a)&&k++}),h[d])return f(b,c[1])?j[c[2]]=null:f(b,c[2])&&(j[c[1]]=null),j;if(2!==k&&i){if(i>=2)return g;for(var l=0;l<c.length;l++){var m=c[l];if(!e(g,m)&&e(a,m)){g[m]=a[m];break}}return g}return j}function e(a,b){return a.hasOwnProperty(b)}function f(a,b){return null!=a[b]&&"auto"!==a[b]}function g(a,b,c){ts(a,function(a){b[a]=c[a]})}!v(c)&&(c={});var h=c.ignoreSize;!s(h)&&(h=[h,h]);var i=d(vs[0],0),j=d(vs[1],1);g(vs[0],a,i),g(vs[1],a,j)}function Se(a){return Te({},a)}function Te(a,b){return b&&a&&ts(us,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function Ue(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d].length>b)return a[d];return a[c-1]}function Ve(a){var b=a.get("coordinateSystem"),c={coordSysName:b,coordSysDims:[],axisMap:K(),categoryAxisMap:K()},d=Es[b];if(d)return d(a,c,c.axisMap,c.categoryAxisMap),c}function We(a){return"category"===a.get("type")}function Xe(a){this.fromDataset=a.fromDataset,this.data=a.data||(a.sourceFormat===Is?{}:[]),this.sourceFormat=a.sourceFormat||Js,this.seriesLayoutBy=a.seriesLayoutBy||Ls,this.dimensionsDefine=a.dimensionsDefine,this.encodeDefine=a.encodeDefine&&K(a.encodeDefine),this.startIndex=a.startIndex||0,this.dimensionsDetectCount=a.dimensionsDetectCount}function Ye(a){var b=a.option.source,c=Js;if(x(b))c=Ks;else if(s(b))for(var d=0,e=b.length;d<e;d++){var f=b[d];if(null!=f){if(s(f)){c=Gs;break}if(v(f)){c=Hs;break}}}else if(v(b)){for(var g in b)if(b.hasOwnProperty(g)&&l(b[g])){c=Is;break}}else if(null!=b)throw new Error("Invalid data");Ns(a).sourceFormat=c}function Ze(a){return Ns(a).source}function $e(a){Ns(a).datasetMap=K()}function _e(a){var b=a.option,c=b.data,d=x(c)?Ks:Fs,e=!1,f=b.seriesLayoutBy,g=b.sourceHeader,h=b.dimensions,i=ff(a);if(i){var j=i.option;c=j.source,d=Ns(i).sourceFormat,e=!0,f=f||j.seriesLayoutBy,null==g&&(g=j.sourceHeader),h=h||j.dimensions}var k=af(c,d,f,g,h),l=b.encode;!l&&i&&(l=ef(a,i,c,d,f,k)),Ns(a).source=new Xe({data:c,fromDataset:e,seriesLayoutBy:f,sourceFormat:d,dimensionsDefine:k.dimensionsDefine,startIndex:k.startIndex,dimensionsDetectCount:k.dimensionsDetectCount,encodeDefine:l})}function af(a,b,c,d,e){if(!a)return{dimensionsDefine:bf(e)};var f,g,h;if(b===Gs)"auto"===d||null==d?cf(function(a){null!=a&&"-"!==a&&(u(a)?null==g&&(g=1):g=0)},c,a,10):g=d?1:0,e||1!==g||(e=[],cf(function(a,b){e[b]=null!=a?a:""},c,a)),f=e?e.length:c===Ms?a.length:a[0]?a[0].length:null;else if(b===Hs)e||(e=df(a),h=!0);else if(b===Is)e||(e=[],h=!0,m(a,function(a,b){e.push(b)}));else if(b===Fs){var i=uc(a[0]);f=s(i)&&i.length||1}var j;return h&&m(e,function(a,b){"name"===(v(a)?a.name:a)&&(j=b)}),{startIndex:g,dimensionsDefine:bf(e),dimensionsDetectCount:f,potentialNameDimIndex:j}}function bf(a){if(a){var b=K();return n(a,function(a,c){if(null==(a=f({},v(a)?a:{name:a})).name)return a;a.name+="",null==a.displayName&&(a.displayName=a.name);var d=b.get(a.name);return d?a.name+="-"+d.count++:b.set(a.name,{count:1}),a})}}function cf(a,b,c,d){if(null==d&&(d=1/0),b===Ms)for(f=0;f<c.length&&f<d;f++)a(c[f]?c[f][0]:null,f);else for(var e=c[0]||[],f=0;f<e.length&&f<d;f++)a(e[f],f)}function df(a){for(var b,c=0;c<a.length&&!(b=a[c++]););if(b){var d=[];return m(b,function(a,b){d.push(b)}),d}}function ef(a,b,c,d,e,f){var g=Ve(a),h={},i=[],j=[],k=a.subType,l=K(["pie","map","funnel"]),n=K(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(g&&null!=n.get(k)){var o=a.ecModel,p=Ns(o).datasetMap,q=b.uid+"_"+e,r=p.get(q)||p.set(q,{categoryWayDim:1,valueWayDim:0});m(g.coordSysDims,function(a){if(null==g.firstCategoryDimIndex)b=r.valueWayDim++,h[a]=b,j.push(b);else if(g.categoryAxisMap.get(a))h[a]=0,i.push(0);else{var b=r.categoryWayDim++;h[a]=b,j.push(b)}})}else if(null!=l.get(k)){for(var s,t=0;t<5&&null==s;t++)hf(c,d,e,f.dimensionsDefine,f.startIndex,t)||(s=t);if(null!=s){h.value=s;var u=f.potentialNameDimIndex||Math.max(s-1,0);j.push(u),i.push(u)}}return i.length&&(h.itemName=i),j.length&&(h.seriesName=j),h}function ff(a){var b=a.option;if(!b.data)return a.ecModel.getComponent("dataset",b.datasetIndex||0)}function gf(a,b){return hf(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,b)}function hf(a,b,c,d,e,f){function g(a){return(null==a||!isFinite(a)||""===a)&&(!(!u(a)||"-"===a)||void 0)}var h;if(x(a))return!1;var i;if(d&&(i=v(i=d[f])?i.name:i),b===Gs)if(c===Ms){for(var j=a[f],k=0;k<(j||[]).length&&k<5;k++)if(null!=(h=g(j[e+k])))return h}else for(k=0;k<a.length&&k<5;k++){var l=a[e+k];if(l&&null!=(h=g(l[f])))return h}else if(b===Hs){if(!i)return;for(k=0;k<a.length&&k<5;k++)if((m=a[k])&&null!=(h=g(m[i])))return h}else if(b===Is){if(!i)return;if(!(j=a[i])||x(j))return!1;for(k=0;k<j.length&&k<5;k++)if(null!=(h=g(j[k])))return h}else if(b===Fs)for(k=0;k<a.length&&k<5;k++){var m=a[k],n=uc(m);if(!s(n))return!1;if(null!=(h=g(n[f])))return h}return!1}function jf(a,b){if(b){var c=b.seiresIndex,d=b.seriesId,e=b.seriesName;return null!=c&&a.componentIndex!==c||null!=d&&a.id!==d||null!=e&&a.name!==e}}function kf(a,b){var e=a.color&&!a.colorLayer;m(b,function(b,f){"colorLayer"===f&&e||zs.hasClass(f)||("object"==typeof b?a[f]=a[f]?d(a[f],b,!1):c(b):null==a[f]&&(a[f]=b))})}function lf(a){a=a,this.option={},this.option[Os]=1,this._componentsMap=K({series:[]}),this._seriesIndices,this._seriesIndicesMap,kf(a,this._theme.option),d(a,Bs,!1),this.mergeOption(a)}function mf(a,b){s(b)||(b=b?[b]:[]);var c={};return m(b,function(b){c[b]=(a.get(b)||[]).slice()}),c}function nf(a,b,c){return b.type?b.type:c?c.subType:zs.determineSubType(a,b)}function of(a,b){a._seriesIndicesMap=K(a._seriesIndices=n(b,function(a){return a.componentIndex})||[])}function pf(a,b){return b.hasOwnProperty("subType")?p(a,function(a){return a.subType===b.subType}):a}function qf(a){m(Qs,function(b){this[b]=q(a[b],a)},this)}function rf(){this._coordinateSystems=[]}function sf(a){this._api=a,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function tf(a,b,c){var d,e,f=[],g=[],h=a.timeline;if(a.baseOption&&(e=a.baseOption),(h||a.options)&&(e=e||{},f=(a.options||[]).slice()),a.media){e=e||{};var i=a.media;Ss(i,function(a){a&&a.option&&(a.query?g.push(a):d||(d=a))})}return e||(e=a),e.timeline||(e.timeline=h),Ss([e].concat(f).concat(n(g,function(a){return a.option})),function(a){Ss(b,function(b){b(a,c)})}),{baseOption:e,timelineOptions:f,mediaDefault:d,mediaList:g}}function uf(a,b,c){var d={width:b,height:c,aspectratio:b/c},e=!0;return m(a,function(a,b){var c=b.match(Ws);if(c&&c[1]&&c[2]){var f=c[1],g=c[2].toLowerCase();vf(d[g],a,f)||(e=!1)}}),e}function vf(a,b,c){return"min"===c?a>=b:"max"===c?a<=b:a===b}function wf(a,b){return a.join(",")===b.join(",")}function xf(a,b){Ss(b=b||{},function(b,c){if(null!=b){var d=a[c];if(zs.hasClass(c)){b=sc(b);var e=wc(d=sc(d),b);a[c]=Us(e,function(a){return a.option&&a.exist?Vs(a.exist,a.option,!0):a.exist||a.option})}else a[c]=Vs(d,b,!0)}})}function yf(a){var b=a&&a.itemStyle;if(b)for(var c=0,e=Zs.length;c<e;c++){var f=Zs[c],g=b.normal,h=b.emphasis;g&&g[f]&&(a[f]=a[f]||{},a[f].normal?d(a[f].normal,g[f]):a[f].normal=g[f],g[f]=null),h&&h[f]&&(a[f]=a[f]||{},a[f].emphasis?d(a[f].emphasis,h[f]):a[f].emphasis=h[f],h[f]=null)}}function zf(a,b,c){if(a&&a[b]&&(a[b].normal||a[b].emphasis)){var d=a[b].normal,e=a[b].emphasis;d&&(c?(a[b].normal=a[b].emphasis=null,g(a[b],d)):a[b]=d),e&&(a.emphasis=a.emphasis||{},a.emphasis[b]=e)}}function Af(a){zf(a,"itemStyle"),zf(a,"lineStyle"),zf(a,"areaStyle"),zf(a,"label"),zf(a,"labelLine"),zf(a,"upperLabel"),zf(a,"edgeLabel")}function Bf(a,b){var c=Ys(a)&&a[b],d=Ys(c)&&c.textStyle;if(d)for(var e=0,f=tq.length;e<f;e++){var b=tq[e];d.hasOwnProperty(b)&&(c[b]=d[b])}}function Cf(a){a&&(Af(a),Bf(a,"label"),a.emphasis&&Bf(a.emphasis,"label"))}function Df(a){if(Ys(a)){yf(a),Af(a),Bf(a,"label"),Bf(a,"upperLabel"),Bf(a,"edgeLabel"),a.emphasis&&(Bf(a.emphasis,"label"),Bf(a.emphasis,"upperLabel"),Bf(a.emphasis,"edgeLabel"));var b=a.markPoint;b&&(yf(b),Cf(b));var c=a.markLine;c&&(yf(c),Cf(c));var d=a.markArea;d&&Cf(d);var e=a.data;if("graph"===a.type){e=e||a.nodes;var f=a.links||a.edges;if(f&&!x(f))for(h=0;h<f.length;h++)Cf(f[h]);m(a.categories,function(a){Af(a)})}if(e&&!x(e))for(h=0;h<e.length;h++)Cf(e[h]);if((b=a.markPoint)&&b.data)for(var g=b.data,h=0;h<g.length;h++)Cf(g[h]);if((c=a.markLine)&&c.data)for(var i=c.data,h=0;h<i.length;h++)s(i[h])?(Cf(i[h][0]),Cf(i[h][1])):Cf(i[h]);"gauge"===a.type?(Bf(a,"axisLabel"),Bf(a,"title"),Bf(a,"detail")):"treemap"===a.type?(zf(a.breadcrumb,"itemStyle"),m(a.levels,function(a){Af(a)})):"tree"===a.type&&Af(a.leaves)}}function Ef(a){return s(a)?a:a?[a]:[]}function Ff(a){return(s(a)?a[0]:a)||{}}function Gf(a,b){b=b.split(",");for(var c=a,d=0;d<b.length&&null!=(c=c&&c[b[d]]);d++);return c}function Hf(a,b,c,d){b=b.split(",");for(var e,f=a,g=0;g<b.length-1;g++)null==f[e=b[g]]&&(f[e]={}),f=f[e];(d||null==f[b[g]])&&(f[b[g]]=c)}function If(a){m(_s,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}function Jf(a){m(a,function(b,c){var d=[],e=[NaN,NaN],f=[b.stackResultDimension,b.stackedOverDimension],g=b.data,h=b.isStackedByIndex,i=g.map(f,function(f,i,j){var k=g.get(b.stackedDimension,j);if(isNaN(k))return e;var l,m;h?m=g.getRawIndex(j):l=g.get(b.stackedByDimension,j);for(var n=NaN,o=c-1;o>=0;o--){var p=a[o];if(h||(m=p.data.rawIndexOf(p.stackedByDimension,l)),m>=0){var q=p.data.getByRawIndex(p.stackResultDimension,m);if(k>=0&&q>0||k<=0&&q<0){k+=q,n=q;break}}}return d[0]=k,d[1]=n,d});g.hostModel.setData(i),b.data=i})}function Kf(a,b){Xe.isInstance(a)||(a=Xe.seriesDataToSource(a)),this._source=a;var c=this._data=a.data,d=a.sourceFormat;d===Ks&&(this._offset=0,this._dimSize=b,this._data=c),f(this,dt[d===Gs?d+"_"+a.seriesLayoutBy:d])}function Lf(){return this._data.length}function Mf(a){return this._data[a]}function Nf(a){for(var b=0;b<a.length;b++)this._data.push(a[b])}function Of(a,b,c,d){return null!=c?a[c]:a}function Pf(a,b,c,d){return Qf(a[d],this._dimensionInfos[b])}function Qf(a,b){var c=b&&b.type;if("ordinal"===c){var d=b&&b.ordinalMeta;return d?d.parseAndCollect(a):a}return"time"===c&&"number"!=typeof a&&null!=a&&"-"!==a&&(a=+Ce(a)),null==a||""===a?NaN:+a}function Rf(a,b,c){if(a){var d=a.getRawDataItem(b);if(null!=d){var e,f,g=a.getProvider().getSource().sourceFormat,h=a.getDimensionInfo(c);return h&&(e=h.name,f=h.index),et[g](d,b,f,e)}}}function Sf(a,b,c){if(a){var d=a.getProvider().getSource().sourceFormat;if(d===Fs||d===Hs){var e=a.getRawDataItem(b);return d!==Fs||v(e)||(e=null),e?e[c]:void 0}}}function Tf(a){return new Uf(a)}function Uf(a){a=a||{},this._reset=a.reset,this._plan=a.plan,this._count=a.count,this._onDirty=a.onDirty,this._dirty=!0,this.context}function Vf(a,b,c,d,e,f){jt.reset(c,d,e,f),a._callingProgress=b,a._callingProgress({start:c,end:d,count:d-c,next:jt.next},a.context)}function Wf(a,b){a._dueIndex=a._outputDueEnd=a._dueEnd=0,a._settedOutputEnd=null;var c,d;!b&&a._reset&&((c=a._reset(a.context))&&c.progress&&(d=c.forceFirstProgress,c=c.progress),s(c)&&!c.length&&(c=null)),a._progress=c,a._modBy=a._modDataCount=null;var e=a._downstream;return e&&e.dirty(),d}function Xf(a){var b=a.name;yc(a)||(a.name=Yf(a)||b)}function Yf(a){var b=a.getRawData(),c=[];return m(b.mapDimension("seriesName",!0),function(a){var d=b.getDimensionInfo(a);d.displayName&&c.push(d.displayName)}),c.join(" ")}function Zf(a){return a.model.getRawData().count()}function $f(a){var b=a.model;return b.setData(b.getRawData().cloneShallow()),_f}function _f(a,b){a.end>b.outputData.count()&&b.model.getRawData().cloneShallow(b.outputData)}function ag(a,b){m(a.CHANGABLE_METHODS,function(c){a.wrapMethod(c,r(bg,b))})}function bg(a){var b=cg(a);b&&b.setOutputEnd(this.count())}function cg(a){var b=(a.ecModel||{}).scheduler,c=b&&b.getPipeline(a.uid);if(c){var d=c.currentTask;if(d){var e=d.agentStubMap;e&&(d=e.get(a.uid))}return d}}function dg(){this.group=new yp,this.uid=qe("viewChart"),this.renderTask=Tf({plan:gg,reset:hg}),this.renderTask.context={view:this}}function eg(a,b){if(a&&(a.trigger(b),"group"===a.type))for(var c=0;c<a.childCount();c++)eg(a.childAt(c),b)}function fg(a,b,c){var d=Ac(a,b);null!=d?m(sc(d),function(b){eg(a.getItemGraphicEl(b),c)}):a.eachItemGraphicEl(function(a){eg(a,c)})}function gg(a){return qt(a.model)}function hg(a){var b=a.model,c=a.ecModel,d=a.api,e=a.payload,f=b.pipelineContext.progressiveRender,g=a.view,h=e&&pt(e).updateMethod,i=f?"incrementalPrepareRender":h&&g[h]?h:"render";return"render"!==i&&g[i](b,c,d,e),st[i]}function ig(a,b,c){function d(){k=(new Date).getTime(),l=null,a.apply(g,h||[])}var e,f,g,h,i,j=0,k=0,l=null;b=b||0;var m=function(){e=(new Date).getTime(),g=this,h=arguments;var a=i||b,m=i||c;i=null,f=e-(m?j:k)-a,clearTimeout(l),m?l=setTimeout(d,a):f>=0?d():l=setTimeout(d,-f),j=e};return m.clear=function(){l&&(clearTimeout(l),l=null)},m.debounceNextCall=function(a){i=a},m}function jg(a,b,c,d){var e=a[b];if(e){var f=e[tt]||e,g=e[vt];if(e[ut]!==c||g!==d){if(null==c||!d)return a[b]=f;(e=a[b]=ig(f,c,"debounce"===d))[tt]=f,e[vt]=d,e[ut]=c}return e}}function kg(a,b){var c=a[b];c&&c[tt]&&(a[b]=c[tt])}function lg(a,b,c,d){this.ecInstance=a,this.api=b,this.unfinished;var c=this._dataProcessorHandlers=c.slice(),d=this._visualHandlers=d.slice();this._allHandlers=c.concat(d),this._stageTaskMap=K()}function mg(a,b,c,d,e){function f(a,b){return a.setDirty&&(!a.dirtyMap||a.dirtyMap.get(b.__pipeline.id))}e=e||{};var g;m(b,function(b,h){if(!e.visualType||e.visualType===b.visualType){var i=a._stageTaskMap.get(b.uid),j=i.seriesTaskMap,k=i.overallTask;if(k){var l,m=k.agentStubMap;m.each(function(a){f(e,a)&&(a.dirty(),l=!0)}),l&&k.dirty(),Bt(k,d);var n=a.getPerformArgs(k,e.block);m.each(function(a){a.perform(n)}),g|=k.perform(n)}else j&&j.each(function(h,i){f(e,h)&&h.dirty();var j=a.getPerformArgs(h,e.block);j.skip=!b.performRawSeries&&c.isSeriesFiltered(h.context.model),Bt(h,d),g|=h.perform(j)})}}),a.unfinished|=g}function ng(a,b,c,d,e){function f(c){var f=c.uid,h=g.get(f)||g.set(f,Tf({plan:tg,reset:ug,count:wg}));h.context={model:c,ecModel:d,api:e,useClearVisual:b.isVisual&&!b.isLayout,plan:b.plan,reset:b.reset,scheduler:a},xg(a,c,h)}var g=c.seriesTaskMap||(c.seriesTaskMap=K()),h=b.seriesType,i=b.getTargetSeries;b.createOnAllSeries?d.eachRawSeries(f):h?d.eachRawSeriesByType(h,f):i&&i(d,e).each(f);var j=a._pipelineMap;g.each(function(a,b){j.get(b)||(a.dispose(),g.removeKey(b))})}function og(a,b,c,d,e){function f(b){var c=b.uid,d=h.get(c);d||(d=h.set(c,Tf({reset:qg,onDirty:sg})),g.dirty()),d.context={model:b,overallProgress:k,modifyOutputEnd:l},d.agent=g,d.__block=k,xg(a,b,d)}var g=c.overallTask=c.overallTask||Tf({reset:pg});g.context={ecModel:d,api:e,overallReset:b.overallReset,scheduler:a};var h=g.agentStubMap=g.agentStubMap||K(),i=b.seriesType,j=b.getTargetSeries,k=!0,l=b.modifyOutputEnd;i?d.eachRawSeriesByType(i,f):j?j(d,e).each(f):(k=!1,m(d.getSeries(),f));var n=a._pipelineMap;h.each(function(a,b){n.get(b)||(a.dispose(),g.dirty(),h.removeKey(b))})}function pg(a){a.overallReset(a.ecModel,a.api,a.payload)}function qg(a,b){return a.overallProgress&&rg}function rg(){this.agent.dirty(),this.getDownstream().dirty()}function sg(){this.agent&&this.agent.dirty()}function tg(a){return a.plan&&a.plan(a.model,a.ecModel,a.api,a.payload)}function ug(a){a.useClearVisual&&a.data.clearAllVisual();var b=a.resetDefines=sc(a.reset(a.model,a.ecModel,a.api,a.payload));return b.length>1?n(b,function(a,b){return vg(b)}):Ct}function vg(a){return function(b,c){var d=c.data,e=c.resetDefines[a];if(e&&e.dataEach)for(var f=b.start;f<b.end;f++)e.dataEach(d,f);else e&&e.progress&&e.progress(b,d)}}function wg(a){return a.data.count()}function xg(a,b,c){var d=b.uid,e=a._pipelineMap.get(d);!e.head&&(e.head=c),e.tail&&e.tail.pipe(c),e.tail=c,c.__idxInPipeline=e.count++,c.__pipeline=e}function yg(a){Dt=null;try{a(Et,Ft)}catch(a){}return Dt}function zg(a,b){for(var c in b.prototype)a[c]=L}function Ag(a){return function(b,c,d){b=b&&b.toLowerCase(),So.prototype[a].call(this,b,c,d)}}function Bg(){So.call(this)}function Cg(a,b,d){function e(a,b){return a.__prio-b.__prio}d=d||{},"string"==typeof b&&(b=eu[b]),this.id,this.group,this._dom=a;var f=this._zr=pc(a,{renderer:d.renderer||"canvas",devicePixelRatio:d.devicePixelRatio,width:d.width,height:d.height});this._throttledZrFlush=ig(q(f.flush,f),17),(b=c(b))&&bt(b,!0),this._theme=b,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new rf;var g=this._api=Ug(this);ab(du,e),ab(au,e),this._scheduler=new lg(this,g,au,du),So.call(this),this._messageCenter=new Bg,this._initEvents(),this.resize=q(this.resize,this),this._pendingActions=[],f.animation.on("frame",this._onframe,this),Kg(f,this),H(this)}function Dg(a,b,c){var d,e=this._model,f=this._coordSysMgr.getCoordinateSystems();b=Cc(e,b);for(var g=0;g<f.length;g++){var h=f[g];if(h[a]&&null!=(d=h[a](e,b,c)))return d}}function Eg(a){var b=a._model,c=a._scheduler;c.restorePipelines(b),c.prepareStageTasks(),Lg(a,"component",b,c),Lg(a,"chart",b,c),c.plan()}function Fg(a,b,c,d,e){function f(d){d&&d.__alive&&d[b]&&d[b](d.__model,g,a._api,c)}var g=a._model;if(d){var h={};h[d+"Id"]=c[d+"Id"],h[d+"Index"]=c[d+"Index"],h[d+"Name"]=c[d+"Name"];var i={mainType:d,query:h};e&&(i.subType=e);var j=c.excludeSeriesId;null!=j&&(j=K(sc(j))),g&&g.eachComponent(i,function(b){j&&null!=j.get(b.id)||f(a["series"===d?"_chartsMap":"_componentsMap"][b.__viewId])},a)}else Lt(a._componentsViews.concat(a._chartsViews),f)}function Gg(a,b){var c=a._chartsMap,d=a._scheduler;b.eachSeries(function(a){d.updateStreamModes(a,c[a.__viewId])})}function Hg(a,b){var c=a.type,d=a.escapeConnect,e=$t[c],h=e.actionInfo,i=(h.update||"update").split(":"),j=i.pop();i=null!=i[0]&&Ot(i[0]),this[Ut]=!0;var k=[a],l=!1;a.batch&&(l=!0,k=n(a.batch,function(b){return b=g(f({},b),a),b.batch=null,b}));var m,o=[],p="highlight"===c||"downplay"===c;Lt(k,function(a){m=e.action(a,this._model,this._api),(m=m||f({},a)).type=h.event||m.type,o.push(m),p?Fg(this,j,a,"series"):i&&Fg(this,j,a,i.main,i.sub)},this),"none"===j||p||i||(this[Vt]?(Eg(this),Yt.update.call(this,a),this[Vt]=!1):Yt[j].call(this,a)),m=l?{type:h.event||c,escapeConnect:d,batch:o}:o[0],this[Ut]=!1,!b&&this._messageCenter.trigger(m.type,m)}function Ig(a){for(var b=this._pendingActions;b.length;){var c=b.shift();Hg.call(this,c,a)}}function Jg(a){!a&&this.trigger("updated")}function Kg(a,b){a.on("rendered",function(){b.trigger("rendered"),!a.animation.isFinished()||b[Vt]||b._scheduler.unfinished||b._pendingActions.length||b.trigger("finished")})}function Lg(a,b,c,d){function e(a){var b="_ec_"+a.id+"_"+a.type,e=h[b];if(!e){var k=Ot(a.type);(e=new(f?mt.getClass(k.main,k.sub):dg.getClass(k.sub))).init(c,j),h[b]=e,g.push(e),i.add(e.group)}a.__viewId=e.__id=b,e.__alive=!0,e.__model=a,e.group.__ecComponentInfo={mainType:a.mainType,index:a.componentIndex},!f&&d.prepareView(e,a,c,j)}for(var f="component"===b,g=f?a._componentsViews:a._chartsViews,h=f?a._componentsMap:a._chartsMap,i=a._zr,j=a._api,k=0;k<g.length;k++)g[k].__alive=!1;for(f?c.eachComponent(function(a,b){"series"!==a&&e(b)}):c.eachSeries(e),k=0;k<g.length;){var l=g[k];l.__alive?k++:(!f&&l.renderTask.dispose(),i.remove(l.group),l.dispose(c,j),g.splice(k,1),delete h[l.__id],l.__id=l.group.__ecComponentInfo=null)}}function Mg(a){a.clearColorPalette(),a.eachSeries(function(a){a.clearColorPalette()})}function Ng(a,b,c,d){Og(a,b,c,d),Lt(a._chartsViews,function(a){a.__alive=!1}),Pg(a,b,c,d),Lt(a._chartsViews,function(a){a.__alive||a.remove(b,c)})}function Og(a,b,c,d,e){Lt(e||a._componentsViews,function(a){var e=a.__model;a.render(e,b,c,d),Tg(e,a)})}function Pg(a,b,c,d,e){var f,g=a._scheduler;b.eachSeries(function(b){var c=a._chartsMap[b.__viewId];c.__alive=!0;var h=c.renderTask;g.updatePayload(h,d),e&&e.get(b.uid)&&h.dirty(),f|=h.perform(g.getPerformArgs(h)),c.group.silent=!!b.get("silent"),Tg(b,c),Sg(b,c)}),g.unfinished|=f,Rg(a._zr,b),yt(a._zr.dom,b)}function Qg(a,b){Lt(cu,function(c){c(a,b)})}function Rg(a,b){var c=a.storage,d=0;c.traverse(function(a){a.isGroup||d++}),d>b.get("hoverLayerThreshold")&&!wo.node&&c.traverse(function(a){a.isGroup||(a.useHoverLayer=!0)})}function Sg(a,b){var c=a.get("blendMode")||null;b.group.traverse(function(a){a.isGroup||a.style.blend!==c&&a.setStyle("blend",c),a.eachPendingDisplayable&&a.eachPendingDisplayable(function(a){a.setStyle("blend",c)})})}function Tg(a,b){var c=a.get("z"),d=a.get("zlevel");b.group.traverse(function(a){"group"!==a.type&&(null!=c&&(a.z=c),null!=d&&(a.zlevel=d))})}function Ug(a){var b=a._coordSysMgr;return f(new qf(a),{getCoordinateSystems:q(b.getCoordinateSystems,b),getComponentByElement:function(b){for(;b;){var c=b.__ecComponentInfo;if(null!=c)return a._model.getComponent(c.mainType,c.index);b=b.parent}}})}function Vg(a){function b(a,b){for(var d=0;d<a.length;d++)a[d][c]=b}var c="__connectUpdateStatus";Lt(_t,function(d,e){a._messageCenter.on(e,function(d){if(hu[a.group]&&0!==a[c]){if(d&&d.escapeConnect)return;var e=a.makeActionFromEvent(d),f=[];Lt(gu,function(b){b!==a&&b.group===a.group&&f.push(b)}),b(f,0),Lt(f,function(a){1!==a[c]&&a.dispatchAction(e)}),b(f,2)}})})}function Wg(a){hu[a]=!1}function Xg(a){return gu[Fc(a,ku)]}function Yg(a,b){eu[a]=b}function Zg(a){bu.push(a)}function $g(a,b){ch(au,a,b,Qt)}function _g(a,b,c){"function"==typeof b&&(c=b,b="");var d=Nt(a)?a.type:[a,a={event:b}][0];a.event=(a.event||d).toLowerCase(),b=a.event,Kt(Wt.test(d)&&Wt.test(b)),$t[d]||($t[d]={action:c,actionInfo:a}),_t[b]=d}function ah(a,b){ch(du,a,b,Rt,"layout")}function bh(a,b){ch(du,a,b,St,"visual")}function ch(a,b,c,d,e){(Mt(b)||Nt(b))&&(c=b,b=d);var f=lg.wrapStageHandler(c,e);return f.__prio=b,f.__raw=c,a.push(f),f}function dh(a,b){fu[a]=b}function eh(a){return zs.extend(a)}function fh(a){return mt.extend(a)}function gh(a){return lt.extend(a)}function hh(a){return dg.extend(a)}function ih(a){return a}function jh(a,b,c,d,e){this._old=a,this._new=b,this._oldKeyGetter=c||ih,this._newKeyGetter=d||ih,this.context=e}function kh(a,b,c,d,e){for(var f=0;f<a.length;f++){var g="_ec_"+e[d](a[f],f),h=b[g];null==h?(c.push(g),b[g]=f):(h.length||(b[g]=h=[h]),h.push(f))}}function lh(a){var b={},c=b.encode={},d=K(),e=[],f=[];m(a.dimensions,function(b){var g=a.getDimensionInfo(b),h=g.coordDim;if(h){var i=c[h];c.hasOwnProperty(h)||(i=c[h]=[]),i[g.coordDimIndex]=b,g.isExtraCoord||(d.set(h,1),nh(g.type)&&(e[0]=b)),g.defaultTooltip&&f.push(b)}ou.each(function(a,b){var d=c[b];c.hasOwnProperty(b)||(d=c[b]=[]);var e=g.otherDims[b];null!=e&&!1!==e&&(d[e]=g.name)})});var g=[],h={};d.each(function(a,b){var d=c[b];h[b]=d[0],g=g.concat(d)}),b.dataDimsOnCoord=g,b.encodeFirstDimNotExtra=h;var i=c.label;i&&i.length&&(e=i.slice());var j=c.tooltip;return j&&j.length?f=j.slice():f.length||(f=e.slice()),c.defaultedLabel=e,c.defaultedTooltip=f,b}function mh(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function nh(a){return!("ordinal"===a||"time"===a)}function oh(a){return a._rawCount>65535?su:tu}function ph(a){var b=a.constructor;return b===Array?a.slice():new b(a)}function qh(a,b){m(uu.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a.__wrappedMethods=b.__wrappedMethods,m(vu,function(d){a[d]=c(b[d])}),a._calculationInfo=f(b._calculationInfo)}function rh(a){var b=a._invertedIndicesMap;m(b,function(c,d){var e=a._dimensionInfos[d].ordinalMeta;if(e){for(c=b[d]=new su(e.categories.length),f=0;f<c.length;f++)c[f]=NaN;for(var f=0;f<a._count;f++)c[a.get(d,f)]=f}})}function sh(a,b,c){var d;if(null!=b){var e=a._chunkSize,f=Math.floor(c/e),g=c%e,h=a.dimensions[b],i=a._storage[h][f];if(i){d=i[g];var j=a._dimensionInfos[h].ordinalMeta;j&&j.categories.length&&(d=j.categories[d])}}return d}function th(a){return a}function uh(a){return a<this._count&&a>=0?this._indices[a]:-1}function vh(a,b){var c=a._idList[b];return null==c&&(c=sh(a,a._idDimIdx,b)),null==c&&(c=qu+b),c}function wh(a){return s(a)||(a=[a]),a}function xh(a,b){var c=a.dimensions,d=new wu(n(c,a.getDimensionInfo,a),a.hostModel);qh(d,a);for(var e=d._storage={},f=a._storage,g=0;g<c.length;g++){var h=c[g];f[h]&&(i(b,h)>=0?(e[h]=yh(f[h]),d._rawExtent[h]=zh(),d._extent[h]=null):e[h]=f[h])}return d}function yh(a){for(var b=new Array(a.length),c=0;c<a.length;c++)b[c]=ph(a[c]);return b}function zh(){return[1/0,-1/0]}function Ah(a,b,d){function e(a,b,c){null!=ou.get(b)?a.otherDims[b]=c:(a.coordDim=b,a.coordDimIndex=c,k.set(b,!0))}Xe.isInstance(b)||(b=Xe.seriesDataToSource(b)),d=d||{},a=(a||[]).slice();for(var h=(d.dimsDef||[]).slice(),i=K(d.encodeDef),j=K(),k=K(),l=[],n=Bh(b,a,h,d.dimCount),o=0;o<n;o++){var p=h[o]=f({},v(h[o])?h[o]:{name:h[o]}),q=p.name,r=l[o]={otherDims:{}};null!=q&&null==j.get(q)&&(r.name=r.displayName=q,j.set(q,o)),null!=p.type&&(r.type=p.type),null!=p.displayName&&(r.displayName=p.displayName)}i.each(function(a,b){a=sc(a).slice();var c=i.set(b,[]);m(a,function(a,d){u(a)&&(a=j.get(a)),null!=a&&a<n&&(c[d]=a,e(l[a],b,d))})});var s=0;m(a,function(a,b){var d,a,f,h;if(u(a))d=a,a={};else{d=a.name;var j=a.ordinalMeta;a.ordinalMeta=null,(a=c(a)).ordinalMeta=j,f=a.dimsDef,h=a.otherDims,a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null}var k=sc(i.get(d));if(!k.length)for(var n=0;n<(f&&f.length||1);n++){for(;s<l.length&&null!=l[s].coordDim;)s++;s<l.length&&k.push(s++)}m(k,function(b,c){var i=l[b];if(e(g(i,a),d,c),null==i.name&&f){var j=f[c];!v(j)&&(j={name:j}),i.name=i.displayName=j.name,i.defaultTooltip=j.defaultTooltip}h&&g(i.otherDims,h)})});var t=d.generateCoord,w=d.generateCoordCount,x=null!=w;w=t?w||1:0;for(var y=t||"value",z=0;z<n;z++)null==(r=l[z]=l[z]||{}).coordDim&&(r.coordDim=Ch(y,k,x),r.coordDimIndex=0,(!t||w<=0)&&(r.isExtraCoord=!0),w--),null==r.name&&(r.name=Ch(r.coordDim,j)),null==r.type&&gf(b,z,r.name)&&(r.type="ordinal");return l}function Bh(a,b,c,d){var e=Math.max(a.dimensionsDetectCount||1,b.length,c.length,d||0);return m(b,function(a){var b=a.dimsDef;b&&(e=Math.max(e,b.length))}),e}function Ch(a,b,c){if(c||null!=b.get(a)){for(var d=0;null!=b.get(a+d);)d++;a+=d}return b.set(a,!0),a}function Dh(a,b,c){var d,e,f,g,h=(c=c||{}).byIndex,i=c.stackedCoordDimension,j=!(!a||!a.get("stack"));if(m(b,function(a,c){u(a)&&(b[c]=a={name:a}),j&&!a.isExtraCoord&&(h||d||!a.ordinalMeta||(d=a),e||"ordinal"===a.type||"time"===a.type||i&&i!==a.coordDim||(e=a))}),!e||h||d||(h=!0),e){f="__\0ecstackresult",g="__\0ecstackedover",d&&(d.createInvertedIndices=!0);var k=e.coordDim,l=e.type,n=0;m(b,function(a){a.coordDim===k&&n++}),b.push({name:f,coordDim:k,coordDimIndex:n,type:l,isExtraCoord:!0,isCalculationCoord:!0}),n++,b.push({name:g,coordDim:g,coordDimIndex:n,type:l,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:e&&e.name,stackedByDimension:d&&d.name,isStackedByIndex:h,stackedOverDimension:g,stackResultDimension:f}}function Eh(a,b){return!!b&&b===a.getCalculationInfo("stackedDimension")}function Fh(a,b){return Eh(a,b)?a.getCalculationInfo("stackResultDimension"):b}function Gh(a,b,c){c=c||{},Xe.isInstance(a)||(a=Xe.seriesDataToSource(a));var d,e=b.get("coordinateSystem"),f=rf.get(e),g=Ve(b);g&&(d=n(g.coordSysDims,function(a){var b={name:a},c=g.axisMap.get(a);if(c){var d=c.get("type");b.type=mh(d)}return b})),d||(d=f&&(f.getDimensionsInfo?f.getDimensionsInfo():f.dimensions.slice())||["x","y"]);var h,i,j=zu(a,{coordDimensions:d,generateCoord:c.generateCoord});g&&m(j,function(a,b){var c=a.coordDim,d=g.categoryAxisMap.get(c);d&&(null==h&&(h=b),a.ordinalMeta=d.getOrdinalMeta()),null!=a.otherDims.itemName&&(i=!0)}),i||null==h||(j[h].otherDims.itemName=0);var k=Dh(b,j),l=new wu(j,b);l.setCalculationInfo(k);var o=null!=h&&Hh(a)?function(a,b,c,d){return d===h?c:this.defaultDimValueGetter(a,b,c,d)}:null;return l.hasItemOption=!1,l.initData(a,null,o),l}function Hh(a){if(a.sourceFormat===Fs){var b=Ih(a.data||[]);return null!=b&&!s(uc(b))}}function Ih(a){for(var b=0;b<a.length&&null==a[b];)b++;return a[b]}function Jh(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function Kh(a){this.categories=a.categories||[],this._needCollect=a.needCollect,this._deduplication=a.deduplication,this._map}function Lh(a){return a._map||(a._map=K(a.categories))}function Mh(a){return v(a)&&null!=a.value?a.value:a+""}function Nh(a,b,c,d){var e={},f=a[1]-a[0],g=e.interval=Fe(f/b,!0);null!=c&&g<c&&(g=e.interval=c),null!=d&&g>d&&(g=e.interval=d);var h=e.intervalPrecision=Oh(g);return Qh(e.niceTickExtent=[Du(Math.ceil(a[0]/g)*g,h),Du(Math.floor(a[1]/g)*g,h)],a),e}function Oh(a){return xe(a)+2}function Ph(a,b,c){a[b]=Math.max(Math.min(a[b],c[1]),c[0])}function Qh(a,b){!isFinite(a[0])&&(a[0]=b[0]),!isFinite(a[1])&&(a[1]=b[1]),Ph(a,0,b),Ph(a,1,b),a[0]>a[1]&&(a[0]=a[1])}function Rh(a,b,c,d){var e=[];if(!a)return e;b[0]<c[0]&&e.push(b[0]);for(var f=c[0];f<=c[1]&&(e.push(f),(f=Du(f+a,d))!==e[e.length-1]);)if(e.length>1e4)return[];return b[1]>(e.length?e[e.length-1]:c[1])&&e.push(b[1]),e}function Sh(a){return a.get("stack")||Gu+a.seriesIndex}function Th(a){return a.dim+a.index}function Uh(a,b){var c=[];return b.eachSeriesByType(a,function(a){Yh(a)&&!Zh(a)&&c.push(a)}),c}function Vh(a){var b=[];return m(a,function(a){var c=a.getData(),d=a.coordinateSystem.getBaseAxis(),e=d.getExtent(),f="category"===d.type?d.getBandWidth():Math.abs(e[1]-e[0])/c.count(),g=te(a.get("barWidth"),f),h=te(a.get("barMaxWidth"),f),i=a.get("barGap"),j=a.get("barCategoryGap");b.push({bandWidth:f,barWidth:g,barMaxWidth:h,barGap:i,barCategoryGap:j,axisKey:Th(d),stackId:Sh(a)})}),Wh(b)}function Wh(a){var b={};m(a,function(a,c){var d=a.axisKey,e=a.bandWidth,f=b[d]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},g=f.stacks;b[d]=f;var h=a.stackId;g[h]||f.autoWidthCount++,g[h]=g[h]||{width:0,maxWidth:0};var i=a.barWidth;i&&!g[h].width&&(g[h].width=i,i=Math.min(f.remainedWidth,i),f.remainedWidth-=i);var j=a.barMaxWidth;j&&(g[h].maxWidth=j);var k=a.barGap;null!=k&&(f.gap=k);var l=a.barCategoryGap;null!=l&&(f.categoryGap=l)});var c={};return m(b,function(a,b){c[b]={};var d=a.stacks,e=a.bandWidth,f=te(a.categoryGap,e),g=te(a.gap,1),h=a.remainedWidth,i=a.autoWidthCount,j=(h-f)/(i+(i-1)*g);j=Math.max(j,0),m(d,function(a,b){var c=a.maxWidth;c&&c<j&&(c=Math.min(c,h),a.width&&(c=Math.min(c,a.width)),h-=c,a.width=c,i--)}),j=(h-f)/(i+(i-1)*g),j=Math.max(j,0);var k,l=0;m(d,function(a,b){a.width||(a.width=j),k=a,l+=a.width*(1+g)}),k&&(l-=k.width*g);var n=-l/2;m(d,function(a,d){c[b][d]=c[b][d]||{offset:n,width:a.width},n+=a.width*(1+g)})}),c}function Xh(a,b,c){if(a&&b){var d=a[Th(b)];return null!=d&&null!=c&&(d=d[Sh(c)]),d}}function Yh(a){return a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type}function Zh(a){return a.pipelineContext&&a.pipelineContext.large}function $h(a,b,c){return i(a.getAxesOnZeroOf(),b)>=0||c?b.toGlobalCoord(b.dataToCoord(0)):b.getGlobalExtent()[0]}function _h(a,b){return Su(a,Ru(b))}function ai(a,b){var c,d,e,f=a.type,g=b.getMin(),h=b.getMax(),i=null!=g,j=null!=h,k=a.getExtent();"ordinal"===f?c=b.getCategories().length:(s(d=b.get("boundaryGap"))||(d=[d||0,d||0]),"boolean"==typeof d[0]&&(d=[0,0]),d[0]=te(d[0],1),d[1]=te(d[1],1),e=k[1]-k[0]||Math.abs(k[0])),null==g&&(g="ordinal"===f?c?0:NaN:k[0]-d[0]*e),null==h&&(h="ordinal"===f?c?c-1:NaN:k[1]+d[1]*e),"dataMin"===g?g=k[0]:"function"==typeof g&&(g=g({min:k[0],max:k[1]})),"dataMax"===h?h=k[1]:"function"==typeof h&&(h=h({min:k[0],max:k[1]})),(null==g||!isFinite(g))&&(g=NaN),(null==h||!isFinite(h))&&(h=NaN),a.setBlank(z(g)||z(h)||"ordinal"===f&&!a.getOrdinalMeta().categories.length),b.getNeedCrossZero()&&(g>0&&h>0&&!i&&(g=0),g<0&&h<0&&!j&&(h=0));var l=b.ecModel;if(l&&"time"===f){var n,o=Uh("bar",l);if(m(o,function(a){n|=a.getBaseAxis()===b.axis}),n){var p=Vh(o),q=bi(g,h,b,p);g=q.min,h=q.max}}return[g,h]}function bi(a,b,c,d){var e=c.axis.getExtent(),f=e[1]-e[0],g=Xh(d,c.axis);if(void 0===g)return{min:a,max:b};var h=1/0;m(g,function(a){h=Math.min(a.offset,h)});var i=-1/0;m(g,function(a){i=Math.max(a.offset+a.width,i)}),h=Math.abs(h),i=Math.abs(i);var j=h+i,k=b-a,l=k/(1-(h+i)/f)-k;return b+=l*(i/j),a-=l*(h/j),{min:a,max:b}}function ci(a,b){var c=ai(a,b),d=null!=b.getMin(),e=null!=b.getMax(),f=b.get("splitNumber");"log"===a.type&&(a.base=b.get("logBase"));var g=a.type;a.setExtent(c[0],c[1]),a.niceExtent({splitNumber:f,fixMin:d,fixMax:e,minInterval:"interval"===g||"time"===g?b.get("minInterval"):null,maxInterval:"interval"===g||"time"===g?b.get("maxInterval"):null});var h=b.get("interval");null!=h&&a.setInterval&&a.setInterval(h)}function di(a,b){if(b=b||a.get("type"))switch(b){case"category":return new Cu(a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),[1/0,-1/0]);case"value":return new Fu;default:return(Jh.getClass(b)||Fu).create(a)}}function ei(a){var b=a.scale.getExtent(),c=b[0],d=b[1];return!(c>0&&d>0||c<0&&d<0)}function fi(a){var b=a.getLabelModel().get("formatter"),c="category"===a.type?a.scale.getExtent()[0]:null;return"string"==typeof b?b=function(a){return function(b){return a.replace("{value}",null!=b?b:"")}}(b):"function"==typeof b?function(d,e){return null!=c&&(e=d-c),b(gi(a,d),e)}:function(b){return a.scale.getLabel(b)}}function gi(a,b){return"category"===a.type?a.scale.getLabel(b):b}function hi(a){var b=a.model,c=a.scale;if(b.get("axisLabel.show")&&!c.isBlank()){var d,e,f="category"===a.type,g=c.getExtent();e=f?c.count():(d=c.getTicks()).length;var h,i=a.getLabelModel(),j=fi(a),k=1;e>40&&(k=Math.ceil(e/40));for(var l=0;l<e;l+=k){var m=j(d?d[l]:g[0]+l),n=ii(i.getTextRect(m),i.get("rotate")||0);h?h.union(n):h=n}return h}}function ii(a,b){var c=b*Math.PI/180,d=a.plain(),e=d.width,f=d.height,g=e*Math.cos(c)+f*Math.sin(c),h=e*Math.sin(c)+f*Math.cos(c);return new Ua(d.x,d.y,g,h)}function ji(a,b){if("image"!==this.type){var c=this.style,d=this.shape;d&&"line"===d.symbolType?c.stroke=a:this.__isEmptyBrush?(c.stroke=a,c.fill=b||"#fff"):(c.fill&&(c.fill=a),c.stroke&&(c.stroke=a)),this.dirty(!1)}}function ki(a,b,c,d,e,f,g){var h=0===a.indexOf("empty");h&&(a=a.substr(5,1).toLowerCase()+a.substr(6));var i;return i=0===a.indexOf("image://")?Ed(a.slice(8),new Ua(b,c,d,e),g?"center":"cover"):0===a.indexOf("path://")?Dd(a.slice(7),{},new Ua(b,c,d,e),g?"center":"cover"):new dv({shape:{symbolType:a,x:b,y:c,width:d,height:e}}),i.__isEmptyBrush=h,i.setColor=ji,i.setColor(f),i}function li(a,b){return Math.abs(a-b)<gv}function mi(a,b,c){var d=0,e=a[0];if(!e)return!1;for(var f=1;f<a.length;f++){var g=a[f];d+=jd(e[0],e[1],g[0],g[1],b,c),e=g}var h=a[0];return li(e[0],h[0])&&li(e[1],h[1])||(d+=jd(e[0],e[1],h[0],h[1],b,c)),0!==d}function ni(a,b,c){if(this.name=a,this.geometries=b,c)c=[c[0],c[1]];else{var d=this.getBoundingRect();c=[d.x+d.width/2,d.y+d.height/2]}this.center=c}function oi(a){if(!a.UTF8Encoding)return a;var b=a.UTF8Scale;null==b&&(b=1024);for(var c=a.features,d=0;d<c.length;d++)for(var e=c[d].geometry,f=e.coordinates,g=e.encodeOffsets,h=0;h<f.length;h++){var i=f[h];if("Polygon"===e.type)f[h]=pi(i,g[h],b);else if("MultiPolygon"===e.type)for(var j=0;j<i.length;j++){var k=i[j];i[j]=pi(k,g[h][j],b)}}return a.UTF8Encoding=!1,a}function pi(a,b,c){for(var d=[],e=b[0],f=b[1],g=0;g<a.length;g+=2){var h=a.charCodeAt(g)-64,i=a.charCodeAt(g+1)-64;h=h>>1^-(1&h),i=i>>1^-(1&i),e=h+=e,f=i+=f,d.push([h/c,i/c])}return d}function qi(a){return"category"===a.type?si(a):vi(a)}function ri(a,b){return"category"===a.type?ui(a,b):{ticks:a.scale.getTicks()}}function si(a){var b=a.getLabelModel(),c=ti(a,b);return!b.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:c.labelCategoryInterval}:c}function ti(a,b){var c=wi(a,"labels"),d=Ei(b),e=xi(c,d);if(e)return e;var f,g;return f=t(d)?Di(a,d):Ci(a,g="auto"===d?zi(a):d),yi(c,d,{labels:f,labelCategoryInterval:g})}function ui(a,b){var c=wi(a,"ticks"),d=Ei(b),e=xi(c,d);if(e)return e;var f,g;if(b.get("show")&&!a.scale.isBlank()||(f=[]),t(d))f=Di(a,d,!0);else if("auto"===d){var h=ti(a,a.getLabelModel());g=h.labelCategoryInterval,f=n(h.labels,function(a){return a.tickValue})}else f=Ci(a,g=d,!0);return yi(c,d,{ticks:f,tickCategoryInterval:g})}function vi(a){var b=a.scale.getTicks(),c=fi(a);return{labels:n(b,function(b,d){return{formattedLabel:c(b,d),rawLabel:a.scale.getLabel(b),tickValue:b}})}}function wi(a,b){return iv(a)[b]||(iv(a)[b]=[])}function xi(a,b){for(var c=0;c<a.length;c++)if(a[c].key===b)return a[c].value}function yi(a,b,c){return a.push({key:b,value:c}),c}function zi(a){var b=iv(a).autoInterval;return null!=b?b:iv(a).autoInterval=a.calculateCategoryInterval()}function Ai(a){var b=Bi(a),c=fi(a),d=(b.axisRotate-b.labelRotate)/180*Math.PI,e=a.scale,f=e.getExtent(),g=e.count();if(f[1]-f[0]<1)return 0;var h=1;g>40&&(h=Math.max(1,Math.floor(g/40)));for(var i=f[0],j=a.dataToCoord(i+1)-a.dataToCoord(i),k=Math.abs(j*Math.cos(d)),l=Math.abs(j*Math.sin(d)),m=0,n=0;i<=f[1];i+=h){var o=0,p=0,q=lb(c(i),b.font,"center","top");o=1.3*q.width,p=1.3*q.height,m=Math.max(m,o,7),n=Math.max(n,p,7)}var r=m/k,s=n/l;isNaN(r)&&(r=1/0),isNaN(s)&&(s=1/0);var t=Math.max(0,Math.floor(Math.min(r,s))),u=iv(a.model),v=u.lastAutoInterval,w=u.lastTickCount;return null!=v&&null!=w&&Math.abs(v-t)<=1&&Math.abs(w-g)<=1&&v>t?t=v:(u.lastTickCount=g,u.lastAutoInterval=t),t}function Bi(a){var b=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:b.get("rotate")||0,font:b.getFont()}}function Ci(a,b,c){function d(a){i.push(c?a:{formattedLabel:e(a),rawLabel:f.getLabel(a),tickValue:a})}var e=fi(a),f=a.scale,g=f.getExtent(),h=a.getLabelModel(),i=[],j=Math.max((b||0)+1,1),k=g[0],l=f.count();0!==k&&j>1&&l/j>2&&(k=Math.round(Math.ceil(k/j)*j));var m={min:h.get("showMinLabel"),max:h.get("showMaxLabel")};m.min&&k!==g[0]&&d(g[0]);for(var n=k;n<=g[1];n+=j)d(n);return m.max&&n!==g[1]&&d(g[1]),i}function Di(a,b,c){var d=a.scale,e=fi(a),f=[];return m(d.getTicks(),function(a){var g=d.getLabel(a);b(a,g)&&f.push(c?a:{formattedLabel:e(a),rawLabel:g,tickValue:a})}),f}function Ei(a){var b=a.get("interval");return null==b?"auto":b}function Fi(a,b){var c=(a[1]-a[0])/b/2;a[0]+=c,a[1]-=c}function Gi(a,b,c,d,e){function f(a,b){return k?a>b:a<b}var g=b.length;if(a.onBand&&!d&&g){var h,i=a.getExtent();if(1===g)b[0].coord=i[0],h=b[1]={coord:i[0]};else{var j=b[1].coord-b[0].coord;m(b,function(a){a.coord-=j/2;var b=b||0;b%2>0&&(a.coord-=j/(2*(b+1)))}),h={coord:b[g-1].coord+j},b.push(h)}var k=i[0]>i[1];f(b[0].coord,i[0])&&(e?b[0].coord=i[0]:b.shift()),e&&f(i[0],b[0].coord)&&b.unshift({coord:i[0]}),f(i[1],h.coord)&&(e?h.coord=i[1]:b.pop()),e&&f(h.coord,i[1])&&b.push({coord:i[1]})}}function Hi(a,b){var c=a.mapDimension("defaultedLabel",!0),d=c.length;if(1===d)return Rf(a,b,c[0]);if(d){for(var e=[],f=0;f<c.length;f++){var g=Rf(a,b,c[f]);e.push(g)}return e.join(" ")}}function Ii(a,b,c){yp.call(this),this.updateData(a,b,c)}function Ji(a){return[a[0]/2,a[1]/2]}function Ki(a,b){this.parent.drift(a,b)}function Li(a){this.group=new yp,this._symbolCtor=a||Ii}function Mi(a,b,c,d){return b&&!isNaN(b[0])&&!isNaN(b[1])&&!(d.isIgnore&&d.isIgnore(c))&&!(d.clipShape&&!d.clipShape.contain(b[0],b[1]))&&"none"!==a.getItemVisual(c,"symbol")}function Ni(a){return null==a||v(a)||(a={isIgnore:a}),a||{}}function Oi(a){var b=a.hostModel;return{itemStyle:b.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:b.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:b.get("symbolRotate"),symbolOffset:b.get("symbolOffset"),hoverAnimation:b.get("hoverAnimation"),labelModel:b.getModel("label"),hoverLabelModel:b.getModel("emphasis.label"),cursorStyle:b.get("cursor")}}function Pi(a,b,c){var d,e=a.getBaseAxis(),f=a.getOtherAxis(e),g=Qi(f,c),h=e.dim,i=f.dim,j=b.mapDimension(i),k=b.mapDimension(h),l="x"===i||"radius"===i?1:0,m=n(a.dimensions,function(a){return b.mapDimension(a)}),o=b.getCalculationInfo("stackResultDimension");return(d|=Eh(b,m[0]))&&(m[0]=o),(d|=Eh(b,m[1]))&&(m[1]=o),{dataDimsForPoint:m,valueStart:g,valueAxisDim:i,baseAxisDim:h,stacked:!!d,valueDim:j,baseDim:k,baseDataOffset:l,stackedOverDimension:b.getCalculationInfo("stackedOverDimension")}}function Qi(a,b){var c=0,d=a.scale.getExtent();return"start"===b?c=d[0]:"end"===b?c=d[1]:d[0]>0?c=d[0]:d[1]<0&&(c=d[1]),c}function Ri(a,b,c,d){var e=NaN;a.stacked&&(e=c.get(c.getCalculationInfo("stackedOverDimension"),d)),isNaN(e)&&(e=a.valueStart);var f=a.baseDataOffset,g=[];return g[f]=c.get(a.baseDim,d),g[1-f]=e,b.dataToPoint(g)}function Si(a,b){var c=[];return b.diff(a).add(function(a){c.push({cmd:"+",idx:a})}).update(function(a,b){c.push({cmd:"=",idx:b,idx1:a})}).remove(function(a){c.push({cmd:"-",idx:a})}).execute(),c}function Ti(a){return isNaN(a[0])||isNaN(a[1])}function Ui(a,b,c,d,e,f,g,h,i,j,k){return"none"!==j&&j?Vi.apply(this,arguments):Wi.apply(this,arguments)}function Vi(a,b,c,d,e,f,g,h,i,j,k){for(var l=0,m=c,n=0;n<d;n++){var o=b[m];if(m>=e||m<0)break;if(Ti(o)){if(k){m+=f;continue}break}if(m===c)a[f>0?"moveTo":"lineTo"](o[0],o[1]);else if(i>0){var p=b[l],q="y"===j?1:0,r=(o[q]-p[q])*i;yv(Av,p),Av[q]=p[q]+r,yv(Bv,o),Bv[q]=o[q]-r,a.bezierCurveTo(Av[0],Av[1],Bv[0],Bv[1],o[0],o[1])}else a.lineTo(o[0],o[1]);l=m,m+=f}return n}function Wi(a,b,c,d,e,f,g,h,i,j,k){for(var l=0,m=c,n=0;n<d;n++){var o=b[m];if(m>=e||m<0)break;if(Ti(o)){if(k){m+=f;continue}break}if(m===c)a[f>0?"moveTo":"lineTo"](o[0],o[1]),yv(Av,o);else if(i>0){var p=m+f,q=b[p];if(k)for(;q&&Ti(b[p]);)q=b[p+=f];var r=.5,s=b[l];if(!(q=b[p])||Ti(q))yv(Bv,o);else{Ti(q)&&!k&&(q=o),R(zv,q,s);var t,u;if("x"===j||"y"===j){var v="x"===j?0:1;t=Math.abs(o[v]-s[v]),u=Math.abs(o[v]-q[v])}else t=Oo(o,s),u=Oo(o,q);xv(Bv,o,zv,-i*(1-(r=u/(u+t))))}vv(Av,Av,h),wv(Av,Av,g),vv(Bv,Bv,h),wv(Bv,Bv,g),a.bezierCurveTo(Av[0],Av[1],Bv[0],Bv[1],o[0],o[1]),xv(Av,o,zv,i*r)}else a.lineTo(o[0],o[1]);l=m,m+=f}return n}function Xi(a,b){var c=[1/0,1/0],d=[-1/0,-1/0];if(b)for(var e=0;e<a.length;e++){var f=a[e];f[0]<c[0]&&(c[0]=f[0]),f[1]<c[1]&&(c[1]=f[1]),f[0]>d[0]&&(d[0]=f[0]),f[1]>d[1]&&(d[1]=f[1])}return{min:b?c:d,max:b?d:c}}function Yi(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(d[0]!==e[0]||d[1]!==e[1])return}return!0}}function Zi(a){return"number"==typeof a?a:a?.5:0}function $i(a){var b=a.getGlobalExtent();if(a.onBand){var c=a.getBandWidth()/2-1,d=b[1]>b[0]?1:-1;b[0]+=d*c,b[1]-=d*c}return b}function _i(a,b,c){if(!c.valueDim)return[];for(var d=[],e=0,f=b.count();e<f;e++)d.push(Ri(c,a,b,e));return d}function aj(a,b,c,d){var e=$i(a.getAxis("x")),f=$i(a.getAxis("y")),g=a.getBaseAxis().isHorizontal(),h=Math.min(e[0],e[1]),i=Math.min(f[0],f[1]),j=Math.max(e[0],e[1])-h,k=Math.max(f[0],f[1])-i;if(c)h-=.5,j+=.5,i-=.5,k+=.5;else{var l=d.get("lineStyle.width")||2,m=d.get("clipOverflow")?l/2:Math.max(j,k);g?(i-=m,k+=2*m):(h-=m,j+=2*m)}var n=new Or({shape:{x:h,y:i,width:j,height:k}});return b&&(n.shape[g?"width":"height"]=0,ge(n,{shape:{width:j,height:k}},d)),n}function bj(a,b,c,d){var e=a.getAngleAxis(),f=a.getRadiusAxis().getExtent().slice();f[0]>f[1]&&f.reverse();var g=e.getExtent(),h=Math.PI/180;c&&(f[0]-=.5,f[1]+=.5);var i=new Ir({shape:{cx:ue(a.cx,1),cy:ue(a.cy,1),r0:ue(f[0],1),r:ue(f[1],1),startAngle:-g[0]*h,endAngle:-g[1]*h,clockwise:e.inverse}});return b&&(i.shape.endAngle=-g[0]*h,ge(i,{shape:{endAngle:-g[1]*h}},d)),i}function cj(a,b,c,d){return"polar"===a.type?bj(a,b,c,d):aj(a,b,c,d)}function dj(a,b,c){for(var d=b.getBaseAxis(),e="x"===d.dim||"radius"===d.dim?0:1,f=[],g=0;g<a.length-1;g++){var h=a[g+1],i=a[g];f.push(i);var j=[];switch(c){case"end":j[e]=h[e],j[1-e]=i[1-e],f.push(j);break;case"middle":var k=(i[e]+h[e])/2,l=[];j[e]=l[e]=k,j[1-e]=i[1-e],l[1-e]=h[1-e],f.push(j),f.push(l);break;default:j[e]=i[e],j[1-e]=h[1-e],f.push(j)}}return a[g]&&f.push(a[g]),f}function ej(a,b){var c=a.getVisual("visualMeta");if(c&&c.length&&a.count()&&"cartesian2d"===b.type){for(var d,e,f=c.length-1;f>=0;f--){var g=c[f].dimension,h=a.dimensions[g],i=a.getDimensionInfo(h);if("x"===(d=i&&i.coordDim)||"y"===d){e=c[f];break}}if(e){var j=b.getAxis(d),k=n(e.stops,function(a){return{coord:j.toGlobalCoord(j.dataToCoord(a.value)),color:a.color}}),l=k.length,o=e.outerColors.slice();l&&k[0].coord>k[l-1].coord&&(k.reverse(),o.reverse());var p=k[0].coord-10,q=k[l-1].coord+10,r=q-p;if(r<.001)return"transparent";m(k,function(a){a.offset=(a.coord-p)/r}),k.push({offset:l?k[l-1].offset:.5,color:o[1]||"transparent"}),k.unshift({offset:l?k[0].offset:.5,color:o[0]||"transparent"});var s=new Vr(0,0,0,0,k,!0);return s[d]=p,s[d+"2"]=q,s}}}function fj(a,b,c){var d=a.get("showAllSymbol"),e="auto"===d;if(!d||e){var f=c.getAxesByScale("ordinal")[0];if(f&&(!e||!gj(f,b))){var g=b.mapDimension(f.dim),h={};return m(f.getViewLabels(),function(a){h[a.tickValue]=1}),function(a){return!h.hasOwnProperty(b.get(g,a))}}}}function gj(a,b){var c=a.getExtent(),d=Math.abs(c[1]-c[0])/a.scale.count();isNaN(d)&&(d=0);for(var e=b.count(),f=Math.max(1,Math.round(e/5)),g=0;g<e;g+=f)if(1.5*Ii.getSymbolSize(b,g)[a.isHorizontal()?1:0]>d)return!1;return!0}function hj(a){return this._axes[a]}function ij(a){Iv.call(this,a)}function jj(a,b){return b.type||(b.data?"category":"value")}function kj(a,b,c){return a.getCoordSysModel()===b}function lj(a,b,c){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(a,b,c),this.model=a}function mj(a,b,c){c.getAxesOnZeroOf=function(){return d?[d]:[]};var d,e=a[b],f=c.model,g=f.get("axisLine.onZero"),h=f.get("axisLine.onZeroAxisIndex");if(g)if(null==h){for(var i in e)if(e.hasOwnProperty(i)&&nj(e[i])){d=e[i];break}}else nj(e[h])&&(d=e[h])}function nj(a){return a&&"category"!==a.type&&"time"!==a.type&&ei(a)}function oj(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord="x"===a.dim?function(a){return a+b}:function(a){return d-a+b},a.toLocalCoord="x"===a.dim?function(a){return a-b}:function(a){return d-a+b}}function pj(a,b){return n(Rv,function(b){return a.getReferringComponents(b)[0]})}function qj(a){return"cartesian2d"===a.get("coordinateSystem")}function rj(a){var b={componentType:a.mainType};return b[a.mainType+"Index"]=a.componentIndex,b}function sj(a,b,c,d){var e,f,g=Ae(c-a.rotation),h=d[0]>d[1],i="start"===b&&!h||"start"!==b&&h;return Be(g-Sv/2)?(f=i?"bottom":"top",e="center"):Be(g-1.5*Sv)?(f=i?"top":"bottom",e="center"):(f="middle",e=g<1.5*Sv&&g>Sv/2?i?"left":"right":i?"right":"left"),{rotation:g,textAlign:e,textVerticalAlign:f}}function tj(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}function uj(a,b,c){var d=a.get("axisLabel.showMinLabel"),e=a.get("axisLabel.showMaxLabel");b=b||[],c=c||[];var f=b[0],g=b[1],h=b[b.length-1],i=b[b.length-2],j=c[0],k=c[1],l=c[c.length-1],m=c[c.length-2];!1===d?(vj(f),vj(j)):wj(f,g)&&(d?(vj(g),vj(k)):(vj(f),vj(j))),!1===e?(vj(h),vj(l)):wj(i,h)&&(e?(vj(i),vj(m)):(vj(h),vj(l)))}function vj(a){a&&(a.ignore=!0)}function wj(a,b,c){var d=a&&a.getBoundingRect().clone(),e=b&&b.getBoundingRect().clone();if(d&&e){var f=fa([]);return ja(f,f,-a.rotation),d.applyTransform(ha([],f,a.getLocalTransform())),e.applyTransform(ha([],f,b.getLocalTransform())),d.intersect(e)}}function xj(a){return"middle"===a||"center"===a}function yj(a,b,c){var d=b.axis;if(b.get("axisTick.show")&&!d.scale.isBlank()){for(var e=b.getModel("axisTick"),f=e.getModel("lineStyle"),h=e.get("length"),i=d.getTicksCoords(),j=[],k=[],l=a._transform,m=[],n=0;n<i.length;n++){var o=i[n].coord;j[0]=o,j[1]=0,k[0]=o,k[1]=c.tickDirection*h,l&&(Y(j,j,l),Y(k,k,l));var p=new Pr(Hd({anid:"tick_"+i[n].tickValue,shape:{x1:j[0],y1:j[1],x2:k[0],y2:k[1]},style:g(f.getLineStyle(),{stroke:b.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));a.group.add(p),m.push(p)}return m}}function zj(a,b,c){var d=b.axis;if(A(c.axisLabelShow,b.get("axisLabel.show"))&&!d.scale.isBlank()){var e=b.getModel("axisLabel"),f=e.get("margin"),g=d.getViewLabels(),h=(A(c.labelRotate,e.get("rotate"))||0)*Sv/180,i=Vv(c.rotation,h,c.labelDirection),j=b.getCategories(!0),k=[],l=tj(b),n=b.get("triggerEvent");return m(g,function(g,h){var m=g.tickValue,o=g.formattedLabel,p=g.rawLabel,q=e;j&&j[m]&&j[m].textStyle&&(q=new ne(j[m].textStyle,e,b.ecModel));var r=q.getTextColor()||b.get("axisLine.lineStyle.color"),s=[d.dataToCoord(m),c.labelOffset+c.labelDirection*f],t=new Er({anid:"label_"+m,position:s,rotation:i.rotation,silent:l,z2:10});Yd(t.style,q,{text:o,textAlign:q.getShallow("align",!0)||i.textAlign,textVerticalAlign:q.getShallow("verticalAlign",!0)||q.getShallow("baseline",!0)||i.textVerticalAlign,textFill:"function"==typeof r?r("category"===d.type?p:"value"===d.type?m+"":m,h):r}),n&&(t.eventData=rj(b),t.eventData.targetType="axisLabel",t.eventData.value=p),a._dumbGroup.add(t),t.updateTransform(),k.push(t),a.group.add(t),t.decomposeTransform()}),k}}function Aj(a,b){var c={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Bj(c,a,b),c.seriesInvolved&&Dj(c,a),c}function Bj(a,b,c){var d=b.getComponent("tooltip"),e=b.getComponent("axisPointer"),f=e.get("link",!0)||[],g=[];Wv(c.getCoordinateSystems(),function(c){function h(d,h,i){var l=i.model.getModel("axisPointer",e),m=l.get("show");if(m&&("auto"!==m||d||Jj(l))){null==h&&(h=l.get("triggerTooltip"));var n=(l=d?Cj(i,k,e,b,d,h):l).get("snap"),o=Kj(i.model),p=h||n||"category"===i.type,q=a.axesInfo[o]={key:o,axis:i,coordSys:c,axisPointerModel:l,triggerTooltip:h,involveSeries:p,snap:n,useHandle:Jj(l),seriesModels:[]};j[o]=q,a.seriesInvolved|=p;var r=Ej(f,i);if(null!=r){var s=g[r]||(g[r]={axesInfo:{}});s.axesInfo[o]=q,s.mapper=f[r].mapper,q.linkGroup=s}}}if(c.axisPointerEnabled){var i=Kj(c.model),j=a.coordSysAxesInfo[i]={};a.coordSysMap[i]=c;var k=c.model.getModel("tooltip",d);if(Wv(c.getAxes(),Xv(h,!1,null)),c.getTooltipAxes&&d&&k.get("show")){var l="axis"===k.get("trigger"),m="cross"===k.get("axisPointer.type"),n=c.getTooltipAxes(k.get("axisPointer.axis"));(l||m)&&Wv(n.baseAxes,Xv(h,!m||"cross",l)),m&&Wv(n.otherAxes,Xv(h,"cross",!1))}}})}function Cj(a,b,d,e,f,h){var i=b.getModel("axisPointer"),j={};Wv(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(a){j[a]=c(i.get(a))}),j.snap="category"!==a.type&&!!h,"cross"===i.get("type")&&(j.type="line");var k=j.label||(j.label={});if(null==k.show&&(k.show=!1),"cross"===f){var l=i.get("label.show");if(k.show=null==l||l,!h){var m=j.lineStyle=i.get("crossStyle");m&&g(k,m.textStyle)}}return a.model.getModel("axisPointer",new ne(j,d,e))}function Dj(a,b){b.eachSeries(function(b){var c=b.coordinateSystem,d=b.get("tooltip.trigger",!0),e=b.get("tooltip.show",!0);c&&"none"!==d&&!1!==d&&"item"!==d&&!1!==e&&!1!==b.get("axisPointer.show",!0)&&Wv(a.coordSysAxesInfo[Kj(c.model)],function(a){var d=a.axis;c.getAxis(d.dim)===d&&(a.seriesModels.push(b),null==a.seriesDataCount&&(a.seriesDataCount=0),a.seriesDataCount+=b.getData().count())})},this)}function Ej(a,b){for(var c=b.model,d=b.dim,e=0;e<a.length;e++){var f=a[e]||{};if(Fj(f[d+"AxisId"],c.id)||Fj(f[d+"AxisIndex"],c.componentIndex)||Fj(f[d+"AxisName"],c.name))return e}}function Fj(a,b){return"all"===a||s(a)&&i(a,b)>=0||a===b}function Gj(a){var b=Hj(a);if(b){var c=b.axisPointerModel,d=b.axis.scale,e=c.option,f=c.get("status"),g=c.get("value");null!=g&&(g=d.parse(g));var h=Jj(c);null==f&&(e.status=h?"show":"hide");var i=d.getExtent().slice();i[0]>i[1]&&i.reverse(),(null==g||g>i[1])&&(g=i[1]),g<i[0]&&(g=i[0]),e.value=g,h&&(e.status=b.axis.scale.isBlank()?"hide":"show")}}function Hj(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[Kj(a)]}function Ij(a){var b=Hj(a);return b&&b.axisPointerModel}function Jj(a){return!!a.get("handle.show")}function Kj(a){return a.type+"||"+a.id}function Lj(a,b,c,d,e,f){var g=Yv.getAxisPointerClass(a.axisPointerClass);if(g){var h=Ij(b);h?(a._axisPointer||(a._axisPointer=new g)).render(b,h,d,f):Mj(a,d)}}function Mj(a,b,c){var d=a._axisPointer;d&&d.dispose(b,c),a._axisPointer=null}function Nj(a,b,c){c=c||{};var d=a.coordinateSystem,e=b.axis,f={},g=e.getAxesOnZeroOf()[0],h=e.position,i=g?"onZero":h,j=e.dim,k=d.getRect(),l=[k.x,k.x+k.width,k.y,k.y+k.height],m={left:0,right:1,top:0,bottom:1,onZero:2},n=b.get("offset")||0,o="x"===j?[l[2]-n,l[3]+n]:[l[0]-n,l[1]+n];if(g){var p=g.toGlobalCoord(g.dataToCoord(0));o[m.onZero]=Math.max(Math.min(p,o[1]),o[0])}f.position=["y"===j?o[m[i]]:l[0],"x"===j?o[m[i]]:l[3]],f.rotation=Math.PI/2*("x"===j?0:1);var q={top:-1,bottom:1,left:-1,right:1};f.labelDirection=f.tickDirection=f.nameDirection=q[h],f.labelOffset=g?o[m[h]]-o[m.onZero]:0,b.get("axisTick.inside")&&(f.tickDirection=-f.tickDirection),A(c.labelInside,b.get("axisLabel.inside"))&&(f.labelDirection=-f.labelDirection);var r=b.get("axisLabel.rotate");return f.labelRotate="top"===i?-r:r,f.z2=1,f}function Oj(a,b,c,d,e,f,g){Xd(a,b,c.getModel("label"),c.getModel("emphasis.label"),{labelFetcher:e,labelDataIndex:f,defaultText:Hi(e.getData(),f),isRectText:!0,autoColor:d}),Pj(a),Pj(b)}function Pj(a,b){"outside"===a.textPosition&&(a.textPosition=b)}function Qj(a,b,c){c.style.text=null,fe(c,{shape:{width:0}},b,a,function(){c.parent&&c.parent.remove(c)})}function Rj(a,b,c){c.style.text=null,fe(c,{shape:{r:c.shape.r0}},b,a,function(){c.parent&&c.parent.remove(c)})}function Sj(a,b,c,d,e,f,h,i){var j=b.getItemVisual(c,"color"),k=b.getItemVisual(c,"opacity"),l=d.getModel("itemStyle"),m=d.getModel("emphasis.itemStyle").getBarItemStyle();i||a.setShape("r",l.get("barBorderRadius")||0),a.useStyle(g({fill:j,opacity:k},l.getBarItemStyle()));var n=d.getShallow("cursor");n&&a.attr("cursor",n);var o=h?e.height>0?"bottom":"top":e.width>0?"left":"right";i||Oj(a.style,m,d,j,f,c,o),Wd(a,m)}function Tj(a,b){var c=a.get(dw)||0;return Math.min(c,Math.abs(b.width),Math.abs(b.height))}function Uj(a,b,c){var d=a.getData(),e=[],f=d.getLayout("valueAxisHorizontal")?1:0;e[1-f]=d.getLayout("valueAxisStart");var g=new gw({shape:{points:d.getLayout("largePoints")},incremental:!!c,__startPoint:e,__valueIdx:f});b.add(g),Vj(g,a,d)}function Vj(a,b,c){var d=c.getVisual("borderColor")||c.getVisual("color"),e=b.getModel("itemStyle").getItemStyle(["color","borderColor"]);a.useStyle(e),a.style.fill=null,a.style.stroke=d,a.style.lineWidth=c.getLayout("barWidth")}function Wj(a,b,c,d){var e=b.getData(),f=this.dataIndex,g=e.getName(f),h=b.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:a,name:g,seriesId:b.id}),e.each(function(a){Xj(e.getItemGraphicEl(a),e.getItemLayout(a),b.isSelected(e.getName(a)),h,c)})}function Xj(a,b,c,d,e){var f=(b.startAngle+b.endAngle)/2,g=Math.cos(f),h=Math.sin(f),i=c?d:0,j=[g*i,h*i];e?a.animate().when(200,{position:j}).start("bounceOut"):a.attr("position",j)}function Yj(a,b){function c(){f.ignore=f.hoverIgnore,g.ignore=g.hoverIgnore}function d(){f.ignore=f.normalIgnore,g.ignore=g.normalIgnore}yp.call(this);var e=new Ir({z2:2}),f=new Nr,g=new Er;this.add(e),this.add(f),this.add(g),this.updateData(a,b,!0),this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function Zj(a,b,c,d,e,f,g){function h(b,c){for(var d=b;d>=0&&(a[d].y-=c,!(d>0&&a[d].y>a[d-1].y+a[d-1].height));d--);}function i(a,b,c,d,e,f){for(var g=b?Number.MAX_VALUE:0,h=0,i=a.length;h<i;h++)if("center"!==a[h].position){var j=Math.abs(a[h].y-d),k=a[h].len,l=a[h].len2,m=j<e+k?Math.sqrt((e+k+l)*(e+k+l)-j*j):Math.abs(a[h].x-c);b&&m>=g&&(m=g-10),!b&&m<=g&&(m=g+10),a[h].x=c+m*f,g=m}}a.sort(function(a,b){return a.y-b.y});for(var j,k=0,l=a.length,m=[],n=[],o=0;o<l;o++)(j=a[o].y-k)<0&&function(b,c,d,e){for(var f=b;f<c;f++)if(a[f].y+=d,f>b&&f+1<c&&a[f+1].y>a[f].y+a[f].height)return void h(f,d/2);h(c-1,d/2)}(o,l,-j),k=a[o].y+a[o].height;for(g-k<0&&h(l-1,k-g),o=0;o<l;o++)a[o].y>=c?n.push(a[o]):m.push(a[o]);i(m,!1,b,c,d,e),i(n,!0,b,c,d,e)}function $j(a,b,c,d,e,f){for(var g=[],h=[],i=0;i<a.length;i++)a[i].x<b?g.push(a[i]):h.push(a[i]);for(Zj(h,b,c,d,1,e,f),Zj(g,b,c,d,-1,e,f),i=0;i<a.length;i++){var j=a[i].linePoints;if(j){var k=j[1][0]-j[2][0];a[i].x<b?j[2][0]=a[i].x+3:j[2][0]=a[i].x-3,j[1][1]=j[2][1]=a[i].y,j[1][0]=j[2][0]+k}}}function _j(){this.group=new yp}function ak(a,b,c,d){var e=c.type,f=new(0,as[e.charAt(0).toUpperCase()+e.slice(1)])(c);b.add(f),d.set(a,f),f.__ecGraphicId=a}function bk(a,b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(a){bk(a,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function ck(a){return a=f({},a),m(["id","parentId","$action","hv","bounding"].concat(us),function(b){delete a[b]}),a}function dk(a,b){var c;return m(b,function(b){null!=a[b]&&"auto"!==a[b]&&(c=!0)}),c}function ek(a,b){var c=a.exist;if(b.id=a.keyInfo.id,!b.type&&c&&(b.type=c.type),null==b.parentId){var d=b.parentOption;d?b.parentId=d.id:c&&(b.parentId=c.parentId)}b.parentOption=null}function fk(a,b,c){var e=f({},c),g=a[b],h=c.$action||"merge";"merge"===h?g?(d(g,e,!0),Re(g,e,{ignoreSize:!0}),Te(c,g)):a[b]=e:"replace"===h?a[b]=e:"remove"===h&&g&&(a[b]=null)}function gk(a,b){a&&(a.hv=b.hv=[dk(b,["left","right"]),dk(b,["top","bottom"])],"group"===a.type&&(null==a.width&&(a.width=b.width=0),null==a.height&&(a.height=b.height=0)))}function hk(a,b,c,d,e){var g=a.axis;if(!g.scale.isBlank()&&g.containData(b))if(a.involveSeries){var h=ik(b,a),i=h.payloadBatch,j=h.snapToValue;i[0]&&null==e.seriesIndex&&f(e,i[0]),!d&&a.snap&&g.containData(j)&&null!=j&&(b=j),c.showPointer(a,b,i,e),c.showTooltip(a,h,j)}else c.showPointer(a,b)}function ik(a,b){var c=b.axis,d=c.dim,e=a,f=[],g=Number.MAX_VALUE,h=-1;return sw(b.seriesModels,function(b,i){var j,k,l=b.getData().mapDimension(d,!0);if(b.getAxisTooltipData){var m=b.getAxisTooltipData(l,a,c);k=m.dataIndices,j=m.nestestValue}else{if(!(k=b.getData().indicesOfNearest(l[0],a,"category"===c.type?.5:null)).length)return;j=b.getData().get(l[0],k[0])}if(null!=j&&isFinite(j)){var n=a-j,o=Math.abs(n);o<=g&&((o<g||n>=0&&h<0)&&(g=o,h=n,e=j,f.length=0),sw(k,function(a){f.push({seriesIndex:b.seriesIndex,dataIndexInside:a,dataIndex:b.getData().getRawIndex(a)})}))}}),{payloadBatch:f,snapToValue:e}}function jk(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function kk(a,b,c,d){var e=c.payloadBatch,f=b.axis,g=f.model,h=b.axisPointerModel;if(b.triggerTooltip&&e.length){var i=b.coordSys.model,j=Kj(i),k=a.map[j];k||(k=a.map[j]={coordSysId:i.id,coordSysIndex:i.componentIndex,coordSysType:i.type,coordSysMainType:i.mainType,dataByAxis:[]},a.list.push(k)),k.dataByAxis.push({axisDim:f.dim,axisIndex:g.componentIndex,axisType:g.type,axisId:g.id,value:d,valueLabelOpt:{precision:h.get("label.precision"),formatter:h.get("label.formatter")},seriesDataIndices:e.slice()})}}function lk(a,b,c){var d=c.axesInfo=[];sw(b,function(b,c){var e=b.axisPointerModel.option,f=a[c];f?(!b.useHandle&&(e.status="show"),e.value=f.value,e.seriesDataIndices=(f.payloadBatch||[]).slice()):!b.useHandle&&(e.status="hide"),"show"===e.status&&d.push({axisDim:b.axis.dim,axisIndex:b.axis.model.componentIndex,value:e.value})})}function mk(a,b,c,d){if(!qk(b)&&a.list.length){var e=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};d({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:c.tooltipOption,position:c.position,dataIndexInside:e.dataIndexInside,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex,dataByCoordSys:a.list})}else d({type:"hideTip"})}function nk(a,b,c){var d=c.getZr(),e=uw(d).axisPointerLastHighlights||{},f=uw(d).axisPointerLastHighlights={};sw(a,function(a,b){var c=a.axisPointerModel.option;"show"===c.status&&sw(c.seriesDataIndices,function(a){var b=a.seriesIndex+" | "+a.dataIndex;f[b]=a})});var g=[],h=[];m(e,function(a,b){!f[b]&&h.push(a)}),m(f,function(a,b){!e[b]&&g.push(a)}),h.length&&c.dispatchAction({type:"downplay",escapeConnect:!0,batch:h}),g.length&&c.dispatchAction({type:"highlight",escapeConnect:!0,batch:g})}function ok(a,b){for(var c=0;c<(a||[]).length;c++){var d=a[c];if(b.axis.dim===d.axisDim&&b.axis.model.componentIndex===d.axisIndex)return d}}function pk(a){var b=a.axis.model,c={},d=c.axisDim=a.axis.dim;return c.axisIndex=c[d+"AxisIndex"]=b.componentIndex,c.axisName=c[d+"AxisName"]=b.name,c.axisId=c[d+"AxisId"]=b.id,c}function qk(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function rk(a,b,c){if(!wo.node){var d=b.getZr();vw(d).records||(vw(d).records={}),sk(d,b),(vw(d).records[a]||(vw(d).records[a]={})).handler=c}}function sk(a,b){function c(c,d){a.on(c,function(c){var e=wk(b);ww(vw(a).records,function(a){a&&d(a,c,e.dispatchAction)}),tk(e.pendings,b)})}vw(a).initialized||(vw(a).initialized=!0,c("click",r(vk,"click")),c("mousemove",r(vk,"mousemove")),c("globalout",uk))}function tk(a,b){var c,d=a.showTip.length,e=a.hideTip.length;d?c=a.showTip[d-1]:e&&(c=a.hideTip[e-1]),c&&(c.dispatchAction=null,b.dispatchAction(c))}function uk(a,b,c){a.handler("leave",null,c)}function vk(a,b,c,d){b.handler(a,c,d)}function wk(a){var b={showTip:[],hideTip:[]},c=function(d){var e=b[d.type];e?e.push(d):(d.dispatchAction=c,a.dispatchAction(d))};return{dispatchAction:c,pendings:b}}function xk(a,b){if(!wo.node){var c=b.getZr();(vw(c).records||{})[a]&&(vw(c).records[a]=null)}}function yk(){}function zk(a,b,c,d){Ak(yw(c).lastProp,d)||(yw(c).lastProp=d,b?fe(c,d,a):(c.stopAnimation(),c.attr(d)))}function Ak(a,b){if(v(a)&&v(b)){var c=!0;return m(b,function(b,d){c=c&&Ak(a[d],b)}),!!c}return a===b}function Bk(a,b){a[b.get("label.show")?"show":"hide"]()}function Ck(a){return{position:a.position.slice(),rotation:a.rotation||0}}function Dk(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=d&&(a.z=d),null!=e&&(a.zlevel=e),a.silent=c)})}function Ek(a){var b,c=a.get("type"),d=a.getModel(c+"Style");return"line"===c?(b=d.getLineStyle()).fill=null:"shadow"===c&&((b=d.getAreaStyle()).stroke=null),b}function Fk(a,b,c,d,e){var f=Hk(c.get("value"),b.axis,b.ecModel,c.get("seriesDataIndices"),{precision:c.get("label.precision"),formatter:c.get("label.formatter")}),g=c.getModel("label"),h=ls(g.get("padding")||0),i=g.getFont(),j=lb(f,i),k=e.position,l=j.width+h[1]+h[3],m=j.height+h[0]+h[2],n=e.align;"right"===n&&(k[0]-=l),"center"===n&&(k[0]-=l/2);var o=e.verticalAlign;"bottom"===o&&(k[1]-=m),"middle"===o&&(k[1]-=m/2),Gk(k,l,m,d);var p=g.get("backgroundColor");p&&"auto"!==p||(p=b.get("axisLine.lineStyle.color")),a.label={shape:{x:0,y:0,width:l,height:m,r:g.get("borderRadius")},position:k.slice(),style:{text:f,textFont:i,textFill:g.getTextColor(),textPosition:"inside",fill:p,stroke:g.get("borderColor")||"transparent",lineWidth:g.get("borderWidth")||0,shadowBlur:g.get("shadowBlur"),shadowColor:g.get("shadowColor"),shadowOffsetX:g.get("shadowOffsetX"),shadowOffsetY:g.get("shadowOffsetY")},z2:10}}function Gk(a,b,c,d){var e=d.getWidth(),f=d.getHeight();a[0]=Math.min(a[0]+b,e)-b,a[1]=Math.min(a[1]+c,f)-c,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function Hk(a,b,c,d,e){a=b.scale.parse(a);var f=b.scale.getLabel(a,{precision:e.precision}),g=e.formatter;if(g){var h={value:gi(b,a),seriesData:[]};m(d,function(a){var b=c.getSeriesByIndex(a.seriesIndex),d=a.dataIndexInside,e=b&&b.getDataParams(d);e&&h.seriesData.push(e)}),u(g)?f=g.replace("{value}",f):t(g)&&(f=g(h))}return f}function Ik(a,b,c){var d=ea();return ja(d,d,c.rotation),ia(d,d,c.position),ie([a.dataToCoord(b),(c.labelOffset||0)+(c.labelDirection||1)*(c.labelMargin||0)],d)}function Jk(a,b,c,d,e,f){var g=Tv.innerTextLayout(c.rotation,0,c.labelDirection);c.labelMargin=e.get("label.margin"),Fk(b,d,e,f,{position:Ik(d.axis,a,c),align:g.textAlign,verticalAlign:g.textVerticalAlign})}function Kk(a,b,c){return c=c||0,{x1:a[c],y1:a[1-c],x2:b[c],y2:b[1-c]}}function Lk(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}function Mk(a,b){var c={};return c[b.dim+"AxisIndex"]=b.index,a.getCartesian(c)}function Nk(a){return"x"===a.dim?0:1}function Ok(a){var b="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return n(Fw,function(a){return a+"transition:"+b}).join(";")}function Pk(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();return d&&b.push("color:"+d),b.push("font:"+a.getFont()),c&&b.push("line-height:"+Math.round(3*c/2)+"px"),Dw(["decoration","align"],function(c){var d=a.get(c);d&&b.push("text-"+c+":"+d)}),b.join(";")}function Qk(a){var b=[],c=a.get("transitionDuration"),d=a.get("backgroundColor"),e=a.getModel("textStyle"),f=a.get("padding");return c&&b.push(Ok(c)),d&&(wo.canvasSupported?b.push("background-Color:"+d):(b.push("background-Color:#"+Ca(d)),b.push("filter:alpha(opacity=70)"))),Dw(["width","color","radius"],function(c){var d="border-"+c,e=Ew(d),f=a.get(e);null!=f&&b.push(d+":"+f+("color"===c?"":"px"))}),b.push(Pk(e)),null!=f&&b.push("padding:"+ls(f).join("px ")+"px"),b.join(";")+";"}function Rk(a,b){if(wo.wxa)return null;var c=document.createElement("div"),d=this._zr=b.getZr();this.el=c,this._x=b.getWidth()/2,this._y=b.getHeight()/2,a.appendChild(c),this._container=a,this._show=!1,this._hideTimeout;var e=this;c.onmouseenter=function(){e._enterable&&(clearTimeout(e._hideTimeout),e._show=!0),e._inContent=!0},c.onmousemove=function(b){if(b=b||window.event,!e._enterable){var c=d.handler;dc(a,b,!0),c.dispatch("mousemove",b)}},c.onmouseleave=function(){e._enterable&&e._show&&e.hideLater(e._hideDelay),e._inContent=!1}}function Sk(a){for(var b=a.pop();a.length;){var c=a.pop();c&&(ne.isInstance(c)&&(c=c.get("tooltip",!0)),"string"==typeof c&&(c={formatter:c}),b=new ne(c,b,b.ecModel))}return b}function Tk(a,b){return a.dispatchAction||q(b.dispatchAction,b)}function Uk(a,b,c,d,e,f,g){var h=Wk(c),i=h.width,j=h.height;return null!=f&&(a+i+f>d?a-=i+f:a+=f),null!=g&&(b+j+g>e?b-=j+g:b+=g),[a,b]}function Vk(a,b,c,d,e){var f=Wk(c),g=f.width,h=f.height;return a=Math.min(a+g,d)-g,b=Math.min(b+h,e)-h,a=Math.max(a,0),b=Math.max(b,0),[a,b]}function Wk(a){var b=a.clientWidth,c=a.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var d=document.defaultView.getComputedStyle(a);d&&(b+=parseInt(d.paddingLeft,10)+parseInt(d.paddingRight,10)+parseInt(d.borderLeftWidth,10)+parseInt(d.borderRightWidth,10),c+=parseInt(d.paddingTop,10)+parseInt(d.paddingBottom,10)+parseInt(d.borderTopWidth,10)+parseInt(d.borderBottomWidth,10))}return{width:b,height:c}}function Xk(a,b,c){var d=c[0],e=c[1],f=0,g=0,h=b.width,i=b.height;switch(a){case"inside":f=b.x+h/2-d/2,g=b.y+i/2-e/2;break;case"top":f=b.x+h/2-d/2,g=b.y-e-5;break;case"bottom":f=b.x+h/2-d/2,g=b.y+i+5;break;case"left":f=b.x-d-5,g=b.y+i/2-e/2;break;case"right":f=b.x+h+5,g=b.y+i/2-e/2}return[f,g]}function Yk(a){return"center"===a||"middle"===a}function Zk(a,b,c){var d,e={},f="toggleSelected"===a;return c.eachComponent("legend",function(c){f&&null!=d?c[d?"select":"unSelect"](b.name):(c[a](b.name),d=c.isSelected(b.name)),m(c.getData(),function(a){var b=a.get("name");if("\n"!==b&&""!==b){var d=c.isSelected(b);e.hasOwnProperty(b)?e[b]=e[b]&&d:e[b]=d}})}),{name:b.name,selected:e}}function $k(a,b,c){var d=b.getBoxLayoutParams(),e=b.get("padding"),f={width:c.getWidth(),height:c.getHeight()},g=Pe(d,f,e);ws(b.get("orient"),a,b.get("itemGap"),g.width,g.height),Qe(a,d,f,e)}function _k(a,b){var c=ls(b.get("padding")),d=b.getItemStyle(["color","opacity"]);return d.fill=b.get("backgroundColor"),a=new Or({shape:{x:a.x-c[3],y:a.y-c[0],width:a.width+c[1]+c[3],height:a.height+c[0]+c[2],r:b.get("borderRadius")},style:d,silent:!0,z2:-1})}function al(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function bl(a,b,c,d){var e=c.getZr().storage.getDisplayList()[0];e&&e.useHoverLayer||c.dispatchAction({type:"highlight",seriesName:a.name,name:b,excludeSeriesId:d})}function cl(a,b,c,d){var e=c.getZr().storage.getDisplayList()[0];e&&e.useHoverLayer||c.dispatchAction({type:"downplay",seriesName:a.name,name:b,excludeSeriesId:d})}function dl(a,b,c){var d=[1,1];d[a.getOrient().index]=0,Re(b,c,{type:"box",ignoreSize:d})}function el(a){tc(a,"label",["show"])}function fl(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function gl(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function hl(a,b,c,d,e,f){var g=[],h=Eh(b,d)?b.getCalculationInfo("stackResultDimension"):d,i=nl(b,h,a),j=b.indicesOfNearest(h,i)[0];g[e]=b.get(c,j),g[f]=b.get(d,j);var k=we(b.get(d,j));return(k=Math.min(k,20))>=0&&(g[f]=+g[f].toFixed(k)),g}function il(a,b){var d=a.getData(),e=a.coordinateSystem;if(b&&!gl(b)&&!s(b.coord)&&e){var f=e.dimensions,g=jl(b,d,e,a);if((b=c(b)).type&&Zw[b.type]&&g.baseAxis&&g.valueAxis){var h=Xw(f,g.baseAxis.dim),i=Xw(f,g.valueAxis.dim);b.coord=Zw[b.type](d,g.baseDataDim,g.valueDataDim,h,i),b.value=b.coord[i]}else{for(var j=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis],k=0;k<2;k++)Zw[j[k]]&&(j[k]=nl(d,d.mapDimension(f[k]),j[k]));b.coord=j}}return b}function jl(a,b,c,d){var e={};return null!=a.valueIndex||null!=a.valueDim?(e.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,e.valueAxis=c.getAxis(kl(d,e.valueDataDim)),e.baseAxis=c.getOtherAxis(e.valueAxis),e.baseDataDim=b.mapDimension(e.baseAxis.dim)):(e.baseAxis=d.getBaseAxis(),e.valueAxis=c.getOtherAxis(e.baseAxis),e.baseDataDim=b.mapDimension(e.baseAxis.dim),e.valueDataDim=b.mapDimension(e.valueAxis.dim)),e}function kl(a,b){var c=a.getData(),d=c.dimensions;b=c.getDimension(b);for(var e=0;e<d.length;e++){var f=c.getDimensionInfo(d[e]);if(f.name===b)return f.coordDim}}function ll(a,b){return!(a&&a.containData&&b.coord&&!fl(b))||a.containData(b.coord)}function ml(a,b,c,d){return d<2?a.coord&&a.coord[d]:a.value}function nl(a,b,c){if("average"===c){var d=0,e=0;return a.each(b,function(a,b){isNaN(a)||(d+=a,e++)}),d/e}return"median"===c?a.getMedian(b):a.getDataExtent(b,!0)["max"===c?1:0]}function ol(a,b,c){var d=b.coordinateSystem;a.each(function(e){var f,g=a.getItemModel(e),h=te(g.get("x"),c.getWidth()),i=te(g.get("y"),c.getHeight());if(isNaN(h)||isNaN(i)){if(b.getMarkerPosition)f=b.getMarkerPosition(a.getValues(a.dimensions,e));else if(d){var j=a.get(d.dimensions[0],e),k=a.get(d.dimensions[1],e);f=d.dataToPoint([j,k])}}else f=[h,i];isNaN(h)||(f[0]=h),isNaN(i)||(f[1]=i),a.setItemLayout(e,f)})}function pl(a,b,c){var d;d=a?n(a&&a.dimensions,function(a){return g({name:a},b.getData().getDimensionInfo(b.getData().mapDimension(a))||{})}):[{name:"value",type:"float"}];var e=new wu(d,c),f=n(c.get("data"),r(il,b));return a&&(f=p(f,r(ll,a))),e.initData(f,null,a?ml:function(a){return a.value}),e}function ql(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function rl(a){return"_"+a+"Type"}function sl(a,b,c){var d=b.getItemVisual(c,"color"),e=b.getItemVisual(c,a),f=b.getItemVisual(c,a+"Size");if(e&&"none"!==e){s(f)||(f=[f,f]);var g=ki(e,-f[0]/2,-f[1]/2,f[0],f[1],d);return g.name=a,g}}function tl(a){var b=new bx({name:"line"});return ul(b.shape,a),b}function ul(a,b){var c=b[0],d=b[1],e=b[2];a.x1=c[0],a.y1=c[1],a.x2=d[0],a.y2=d[1],a.percent=1,e?(a.cpx1=e[0],a.cpy1=e[1]):(a.cpx1=NaN,a.cpy1=NaN)}function vl(a,b,c){yp.call(this),this._createLine(a,b,c)}function wl(a){this._ctor=a||vl,this.group=new yp}function xl(a,b,c,d){if(Bl(b.getItemLayout(c))){var e=new a._ctor(b,c,d);b.setItemGraphicEl(c,e),a.group.add(e)}}function yl(a,b,c,d,e,f){var g=b.getItemGraphicEl(d);Bl(c.getItemLayout(e))?(g?g.updateData(c,e,f):g=new a._ctor(c,e,f),c.setItemGraphicEl(e,g),a.group.add(g)):a.group.remove(g)}function zl(a){var b=a.hostModel;return{lineStyle:b.getModel("lineStyle").getLineStyle(),hoverLineStyle:b.getModel("emphasis.lineStyle").getLineStyle(),labelModel:b.getModel("label"),hoverLabelModel:b.getModel("emphasis.label")}}function Al(a){return isNaN(a[0])||isNaN(a[1])}function Bl(a){return!Al(a[0])&&!Al(a[1])}function Cl(a){return!isNaN(a)&&!isFinite(a)}function Dl(a,b,c,d){var e=1-a,f=d.dimensions[a];return Cl(b[e])&&Cl(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function El(a,b){if("cartesian2d"===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(Dl(1,c,d,a)||Dl(0,c,d,a)))return!0}return ll(a,b[0])&&ll(a,b[1])}function Fl(a,b,c,d,e){var f,g=d.coordinateSystem,h=a.getItemModel(b),i=te(h.get("x"),e.getWidth()),j=te(h.get("y"),e.getHeight());if(isNaN(i)||isNaN(j)){if(d.getMarkerPosition)f=d.getMarkerPosition(a.getValues(a.dimensions,b));else{var k=g.dimensions,l=a.get(k[0],b),m=a.get(k[1],b);f=g.dataToPoint([l,m])}if("cartesian2d"===g.type){var n=g.getAxis("x"),o=g.getAxis("y"),k=g.dimensions;Cl(a.get(k[0],b))?f[0]=n.toGlobalCoord(n.getExtent()[c?0:1]):Cl(a.get(k[1],b))&&(f[1]=o.toGlobalCoord(o.getExtent()[c?0:1]))}isNaN(i)||(f[0]=i),isNaN(j)||(f[1]=j)}else f=[i,j];a.setItemLayout(b,f)}function Gl(a,b,c){var d;d=a?n(a&&a.dimensions,function(a){return g({name:a},b.getData().getDimensionInfo(b.getData().mapDimension(a))||{})}):[{name:"value",type:"float"}];var e=new wu(d,c),f=new wu(d,c),h=new wu([],c),i=n(c.get("data"),r(fx,b,a,c));a&&(i=p(i,r(El,a)));var j=a?ml:function(a){return a.value};return e.initData(n(i,function(a){return a[0]}),null,j),f.initData(n(i,function(a){return a[1]}),null,j),h.initData(n(i,function(a){return a[2]})),h.hasItemOption=!0,{from:e,to:f,line:h}}function Hl(a){return!isNaN(a)&&!isFinite(a)}function Il(a,b,c,d){var e=1-a;return Hl(b[e])&&Hl(c[e])}function Jl(a,b){var c=b.coord[0],d=b.coord[1];return!("cartesian2d"!==a.type||!c||!d||!Il(1,c,d,a)&&!Il(0,c,d,a))||ll(a,{coord:c,x:b.x0,y:b.y0})||ll(a,{coord:d,x:b.x1,y:b.y1})}function Kl(a,b,c,d,e){var f,g=d.coordinateSystem,h=a.getItemModel(b),i=te(h.get(c[0]),e.getWidth()),j=te(h.get(c[1]),e.getHeight());if(isNaN(i)||isNaN(j)){if(d.getMarkerPosition)f=d.getMarkerPosition(a.getValues(c,b));else{var k=[n=a.get(c[0],b),o=a.get(c[1],b)];g.clampData&&g.clampData(k,k),f=g.dataToPoint(k,!0)}if("cartesian2d"===g.type){var l=g.getAxis("x"),m=g.getAxis("y"),n=a.get(c[0],b),o=a.get(c[1],b);Hl(n)?f[0]=l.toGlobalCoord(l.getExtent()["x0"===c[0]?0:1]):Hl(o)&&(f[1]=m.toGlobalCoord(m.getExtent()["y0"===c[1]?0:1]))}isNaN(i)||(f[0]=i),isNaN(j)||(f[1]=j)}else f=[i,j];return f}function Ll(a,b,c){var d,e,f=["x0","y0","x1","y1"];a?(d=n(a&&a.dimensions,function(a){var c=b.getData();return g({name:a},c.getDimensionInfo(c.mapDimension(a))||{})}),e=new wu(n(f,function(a,b){return{name:a,type:d[b%2].type}}),c)):e=new wu(d=[{name:"value",type:"float"}],c);var h=n(c.get("data"),r(gx,b,a,c));a&&(h=p(h,r(Jl,a)));var i=a?function(a,b,c,d){return a.coord[Math.floor(d/2)][d%2]}:function(a){return a.value};return e.initData(h,null,i),e.hasItemOption=!0,e}function Ml(a){return i(ix,a)>=0}function Nl(a,b,c){function d(a,b){return i(b.nodes,a)>=0}function e(a,d){var e=!1;return b(function(b){m(c(a,b)||[],function(a){d.records[b.name][a]&&(e=!0)})}),e}function f(a,d){d.nodes.push(a),b(function(b){m(c(a,b)||[],function(a){d.records[b.name][a]=!0})})}return function(c){var g={nodes:[],records:{}};if(b(function(a){g.records[a.name]={}}),!c)return g;f(c,g);var h;do{h=!1,a(function(a){!d(a,g)&&e(a,g)&&(f(a,g),h=!0)})}while(h);return g}}function Ol(a,b,c){var d=[1/0,-1/0];return kx(c,function(a){var c=a.getData();c&&kx(c.mapDimension(b,!0),function(a){var b=c.getApproximateExtent(a);b[0]<d[0]&&(d[0]=b[0]),b[1]>d[1]&&(d[1]=b[1])})}),d[1]<d[0]&&(d=[NaN,NaN]),Pl(a,d),d}function Pl(a,b){var c=a.getAxisModel(),d=c.getMin(!0),e="category"===c.get("type"),f=e&&c.getCategories().length;null!=d&&"dataMin"!==d&&"function"!=typeof d?b[0]=d:e&&(b[0]=f>0?0:NaN);var g=c.getMax(!0);return null!=g&&"dataMax"!==g&&"function"!=typeof g?b[1]=g:e&&(b[1]=f>0?f-1:NaN),c.get("scale",!0)||(b[0]>0&&(b[0]=0),b[1]<0&&(b[1]=0)),b}function Ql(a,b){var c=a.getAxisModel(),d=a._percentWindow,e=a._valueWindow;if(d){var f=ye(e,[0,500]);f=Math.min(f,20);var g=b||0===d[0]&&100===d[1];c.setRange(g?null:+e[0].toFixed(f),g?null:+e[1].toFixed(f))}}function Rl(a){var b=a._minMaxSpan={},c=a._dataZoomModel;kx(["min","max"],function(d){b[d+"Span"]=c.get(d+"Span");var e=c.get(d+"ValueSpan");if(null!=e&&(b[d+"ValueSpan"]=e,null!=(e=a.getAxisModel().axis.scale.parse(e)))){var f=a._dataExtent;b[d+"Span"]=se(f[0]+e,f,[0,100],!0)}})}function Sl(a){var b={};return nx(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}function Tl(a,b){var c=a._rangePropMode,d=a.get("rangeMode");nx([["start","startValue"],["end","endValue"]],function(a,e){var f=null!=b[a[0]],g=null!=b[a[1]];f&&!g?c[e]="percent":!f&&g?c[e]="value":d?c[e]=d[e]:f&&(c[e]="percent")})}function Ul(a,b){var c=a[b]-a[1-b];return{span:Math.abs(c),sign:c>0?-1:c<0?1:b?-1:1}}function Vl(a,b){return Math.min(b[1],Math.max(b[0],a))}function Wl(a){return{x:"y",y:"x",radius:"angle",angle:"radius"}[a]}function Xl(a){return"vertical"===a?"ns-resize":"ew-resize"}function Yl(a,b,c){_l(a)[b]=c}function Zl(a,b,c){var d=_l(a);d[b]===c&&(d[b]=null)}function $l(a,b){return!!_l(a)[b]}function _l(a){return a[Cx]||(a[Cx]={})}function am(a){this.pointerChecker,this._zr=a,this._opt={};var b=q,d=b(bm,this),e=b(cm,this),f=b(dm,this),h=b(em,this),i=b(fm,this);So.call(this),this.setPointerChecker=function(a){this.pointerChecker=a},this.enable=function(b,j){this.disable(),this._opt=g(c(j)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==b&&(b=!0),!0!==b&&"move"!==b&&"pan"!==b||(a.on("mousedown",d),a.on("mousemove",e),a.on("mouseup",f)),!0!==b&&"scale"!==b&&"zoom"!==b||(a.on("mousewheel",h),a.on("pinch",i))},this.disable=function(){a.off("mousedown",d),a.off("mousemove",e),a.off("mouseup",f),a.off("mousewheel",h),a.off("pinch",i)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function bm(a){if(!(gc(a)||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function cm(a){if(!gc(a)&&hm(this,"moveOnMouseMove",a)&&this._dragging&&"pinch"!==a.gestureEvent&&!$l(this._zr,"globalPan")){var b=a.offsetX,c=a.offsetY,d=this._x,e=this._y,f=b-d,g=c-e;this._x=b,this._y=c,this._opt.preventDefaultMouseMove&&aq(a.event),this.trigger("pan",f,g,d,e,b,c)}}function dm(a){gc(a)||(this._dragging=!1)}function em(a){if(hm(this,"zoomOnMouseWheel",a)&&0!==a.wheelDelta){var b=a.wheelDelta>0?1.1:1/1.1;gm.call(this,a,b,a.offsetX,a.offsetY)}}function fm(a){if(!$l(this._zr,"globalPan")){var b=a.pinchScale>1?1.1:1/1.1;gm.call(this,a,b,a.pinchX,a.pinchY)}}function gm(a,b,c,d){this.pointerChecker&&this.pointerChecker(a,c,d)&&(aq(a.event),this.trigger("zoom",b,c,d))}function hm(a,b,c){var d=a._opt[b];return d&&(!u(d)||c.event[d+"Key"])}function im(a,b){var c=lm(a),d=b.dataZoomId,e=b.coordId;m(c,function(a,c){var f=a.dataZoomInfos;f[d]&&i(b.allCoordIds,e)<0&&(delete f[d],a.count--)}),nm(c);var f=c[e];f||((f=c[e]={coordId:e,dataZoomInfos:{},count:0}).controller=mm(a,f),f.dispatchAction=r(rm,a)),!f.dataZoomInfos[d]&&f.count++,f.dataZoomInfos[d]=b;var g=sm(f.dataZoomInfos);f.controller.enable(g.controlType,g.opt),f.controller.setPointerChecker(b.containsPoint),jg(f,"dispatchAction",b.throttleRate,"fixRate")}function jm(a,b){var c=lm(a);m(c,function(a){a.controller.dispose();var c=a.dataZoomInfos;c[b]&&(delete c[b],a.count--)}),nm(c)}function km(a){return a.type+"\0_"+a.id}function lm(a){var b=a.getZr();return b[Ex]||(b[Ex]={})}function mm(a,b){var c=new am(a.getZr());return c.on("pan",Dx(om,b)),c.on("zoom",Dx(pm,b)),c}function nm(a){m(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function om(a,b,c,d,e,f,g){qm(a,function(h){return h.panGetRange(a.controller,b,c,d,e,f,g)})}function pm(a,b,c,d){qm(a,function(e){return e.zoomGetRange(a.controller,b,c,d)})}function qm(a,b){var c=[];m(a.dataZoomInfos,function(a){var d=b(a);!a.disabled&&d&&c.push({dataZoomId:a.dataZoomId,start:d[0],end:d[1]})}),c.length&&a.dispatchAction(c)}function rm(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function sm(a){var b,c={},d={type_true:2,type_move:1,type_false:0,type_undefined:-1};return m(a,function(a){var e=!a.disabled&&(!a.zoomLock||"move");d["type_"+e]>d["type_"+b]&&(b=e),f(c,a.roamControllerOpt)}),{controlType:b,opt:c}}function tm(a,b){Ix[a]=b}function um(a){return Ix[a]}function vm(a){return 0===a.indexOf("my")}function wm(a){this.model=a}function xm(a){this.model=a}function ym(a){var b={},c=[],d=[];return a.eachRawSeries(function(a){var e=a.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)c.push(a);else{var f=e.getBaseAxis();if("category"===f.type){var g=f.dim+"_"+f.index;b[g]||(b[g]={categoryAxis:f,valueAxis:e.getOtherAxis(f),series:[]},d.push({axisDim:f.dim,axisIndex:f.index})),b[g].series.push(a)}else c.push(a)}}),{seriesGroupByCategoryAxis:b,other:c,meta:d}}function zm(a){var b=[];return m(a,function(a,c){var d=a.categoryAxis,e=a.valueAxis.dim,f=[" "].concat(n(a.series,function(a){return a.name})),g=[d.model.getCategories()];m(a.series,function(a){g.push(a.getRawData().mapArray(e,function(a){return a}))});for(var h=[f.join(Rx)],i=0;i<g[0].length;i++){for(var j=[],k=0;k<g.length;k++)j.push(g[k][i]);h.push(j.join(Rx))}b.push(h.join("\n"))}),b.join("\n\n"+Qx+"\n\n")}function Am(a){return n(a,function(a){var b=a.getRawData(),c=[a.name],d=[];return b.each(b.dimensions,function(){for(var a=arguments.length,e=arguments[a-1],f=b.getName(e),g=0;g<a-1;g++)d[g]=arguments[g];c.push((f?f+Rx:"")+d.join(Rx))}),c.join("\n")}).join("\n\n"+Qx+"\n\n")}function Bm(a){var b=ym(a);return{value:p([zm(b.seriesGroupByCategoryAxis),Am(b.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+Qx+"\n\n"),meta:b.meta}}function Cm(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dm(a){if(a.slice(0,a.indexOf("\n")).indexOf(Rx)>=0)return!0}function Em(a){for(var b=a.split(/\n+/g),c=[],d=n(Cm(b.shift()).split(Sx),function(a){return{name:a,data:[]}}),e=0;e<b.length;e++){var f=Cm(b[e]).split(Sx);c.push(f.shift());for(var g=0;g<f.length;g++)d[g]&&(d[g].data[e]=f[g])}return{series:d,categories:c}}function Fm(a){for(var b=a.split(/\n+/g),c=Cm(b.shift()),d=[],e=0;e<b.length;e++){var f,g=Cm(b[e]).split(Sx),h="",i=!1;isNaN(g[0])?(i=!0,h=g[0],g=g.slice(1),d[e]={name:h,value:[]},f=d[e].value):f=d[e]=[];for(var j=0;j<g.length;j++)f.push(+g[j]);1===f.length&&(i?d[e].value=f[0]:d[e]=f[0])}return{name:c,data:d}}function Gm(a,b){var c={series:[]};return m(a.split(new RegExp("\n*"+Qx+"\n*","g")),function(a,d){if(Dm(a)){var e=Em(a),f=b[d],g=f.axisDim+"Axis";f&&(c[g]=c[g]||[],c[g][f.axisIndex]={data:e.categories},c.series=c.series.concat(e.series))}else e=Fm(a),c.series.push(e)}),c}function Hm(a){this._dom=null,this.model=a}function Im(a,b){return n(a,function(a,c){var d=b&&b[c];return v(d)&&!s(d)?(v(a)&&!s(a)&&(a=a.value),g({value:a},d)):a})}function Jm(a){So.call(this),this._zr=a,this.group=new yp,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+ey++,this._handlers={},Ux(fy,function(a,b){this._handlers[b]=q(a,this)},this)}function Km(a,b){var e=a._zr;a._enableGlobalPan||Yl(e,ay,a._uid),Ux(a._handlers,function(a,b){e.on(b,a)}),a._brushType=b.brushType,a._brushOption=d(c(dy),b,!0)}function Lm(a){var b=a._zr;Zl(b,ay,a._uid),Ux(a._handlers,function(a,c){b.off(c,a)}),a._brushType=a._brushOption=null}function Mm(a,b){var c=gy[b.brushType].createCover(a,b);return c.__brushOption=b,Pm(c,b),a.group.add(c),c}function Nm(a,b){var c=Rm(b);return c.endCreating&&(c.endCreating(a,b),Pm(b,b.__brushOption)),b}function Om(a,b){var c=b.__brushOption;Rm(b).updateCoverShape(a,b,c.range,c)}function Pm(a,b){var c=b.z;null==c&&(c=Zx),a.traverse(function(a){a.z=c,a.z2=c})}function Qm(a,b){Rm(b).updateCommon(a,b),Om(a,b)}function Rm(a){return gy[a.__brushOption.brushType]}function Sm(a,b,c){var d=a._panels;if(!d)return!0;var e,f=a._transform;return Ux(d,function(a){a.isTargetByCursor(b,c,f)&&(e=a)}),e}function Tm(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null==d||c[d]}function Um(a){var b=a._covers,c=b.length;return Ux(b,function(b){a.group.remove(b)},a),b.length=0,!!c}function Vm(a,b){var d=Vx(a._covers,function(a){var b=a.__brushOption,d=c(b.range);return{brushType:b.brushType,panelId:b.panelId,range:d}});a.trigger("brush",d,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function Wm(a){var b=a._track;if(!b.length)return!1;var c=b[b.length-1],d=b[0],e=c[0]-d[0],f=c[1]-d[1];return Yx(e*e+f*f,.5)>$x}function Xm(a){var b=a.length-1;return b<0&&(b=0),[a[0],a[b]]}function Ym(a,b,c,d){var e=new yp;return e.add(new Or({name:"main",style:an(c),silent:!0,draggable:!0,cursor:"move",drift:Tx(a,b,e,"nswe"),ondragend:Tx(Vm,b,{isEnd:!0})})),Ux(d,function(c){e.add(new Or({name:c,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Tx(a,b,e,c),ondragend:Tx(Vm,b,{isEnd:!0})}))}),e}function Zm(a,b,c,d){var e=d.brushStyle.lineWidth||0,f=Xx(e,_x),g=c[0][0],h=c[1][0],i=g-e/2,j=h-e/2,k=c[0][1],l=c[1][1],m=k-f+e/2,n=l-f+e/2,o=k-g,p=l-h,q=o+e,r=p+e;_m(a,b,"main",g,h,o,p),d.transformable&&(_m(a,b,"w",i,j,f,r),_m(a,b,"e",m,j,f,r),_m(a,b,"n",i,j,q,f),_m(a,b,"s",i,n,q,f),_m(a,b,"nw",i,j,f,f),_m(a,b,"ne",m,j,f,f),_m(a,b,"sw",i,n,f,f),_m(a,b,"se",m,n,f,f))}function $m(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(an(c)),e.attr({silent:!d,cursor:d?"move":"default"}),Ux(["w","e","n","s","se","sw","ne","nw"],function(c){var e=b.childOfName(c),f=dn(a,c);e&&e.attr({silent:!d,invisible:!d,cursor:d?cy[f]+"-resize":null})})}function _m(a,b,c,d,e,f,g){var h=b.childOfName(c);h&&h.setShape(jn(hn(a,b,[[d,e],[d+f,e+g]])))}function an(a){return g({strokeNoScale:!0},a.brushStyle)}function bn(a,b,c,d){var e=[Wx(a,c),Wx(b,d)],f=[Xx(a,c),Xx(b,d)];return[[e[0],f[0]],[e[1],f[1]]]}function cn(a){return he(a.group)}function dn(a,b){if(b.length>1)return("e"===(d=[dn(a,(b=b.split(""))[0]),dn(a,b[1])])[0]||"w"===d[0])&&d.reverse(),d.join("");var c={left:"w",right:"e",top:"n",bottom:"s"},d=je({w:"left",e:"right",n:"top",s:"bottom"}[b],cn(a));return c[d]}function en(a,b,c,d,e,f,g,h){var i=d.__brushOption,j=a(i.range),k=gn(c,f,g);Ux(e.split(""),function(a){var b=by[a];j[b[0]][b[1]]+=k[b[0]]}),i.range=b(bn(j[0][0],j[1][0],j[0][1],j[1][1])),Qm(c,d),Vm(c,{isEnd:!1})}function fn(a,b,c,d,e){var f=b.__brushOption.range,g=gn(a,c,d);Ux(f,function(a){a[0]+=g[0],a[1]+=g[1]}),Qm(a,b),Vm(a,{isEnd:!1})}function gn(a,b,c){var d=a.group,e=d.transformCoordToLocal(b,c),f=d.transformCoordToLocal(0,0);return[e[0]-f[0],e[1]-f[1]]}function hn(a,b,d){var e=Tm(a,b);return e&&!0!==e?e.clipPath(d,a._transform):c(d)}function jn(a){var b=Wx(a[0][0],a[1][0]),c=Wx(a[0][1],a[1][1]);return{x:b,y:c,width:Xx(a[0][0],a[1][0])-b,height:Xx(a[0][1],a[1][1])-c}}function kn(a,b,c){if(a._brushType){var d=a._zr,e=a._covers,f=Sm(a,b,c);if(!a._dragging)for(var g=0;g<e.length;g++){var h=e[g].__brushOption;if(f&&(!0===f||h.panelId===f.panelId)&&gy[h.brushType].contain(e[g],c[0],c[1]))return}f&&d.setCursorStyle("crosshair")}}function ln(a){var b=a.event;b.preventDefault&&b.preventDefault()}function mn(a,b,c){return a.childOfName("main").contain(b,c)}function nn(a,b,d,e){var f,g=a._creatingCover,h=a._creatingPanel,i=a._brushOption;if(a._track.push(d.slice()),Wm(a)||g){if(h&&!g){"single"===i.brushMode&&Um(a);var j=c(i);j.brushType=on(j.brushType,h),j.panelId=!0===h?null:h.panelId,g=a._creatingCover=Mm(a,j),a._covers.push(g)}if(g){var k=gy[on(a._brushType,h)];g.__brushOption.range=k.getCreatingRange(hn(a,g,a._track)),e&&(Nm(a,g),k.updateCommon(a,g)),Om(a,g),f={isEnd:e}}}else e&&"single"===i.brushMode&&i.removeOnClick&&Sm(a,b,d)&&Um(a)&&(f={isEnd:e,removeOnClick:!0});return f}function on(a,b){return"auto"===a?b.defaultBrushType:a}function pn(a){if(this._dragging){ln(a);var b=nn(this,a,this.group.transformCoordToLocal(a.offsetX,a.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,b&&Vm(this,b)}}function qn(a){return{createCover:function(b,c){return Ym(Tx(en,function(b){var c=[b,[0,100]];return a&&c.reverse(),c},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){var c=Xm(b);return[Wx(c[0][a],c[1][a]),Xx(c[0][a],c[1][a])]},updateCoverShape:function(b,c,d,e){var f,g=Tm(b,c);if(!0!==g&&g.getLinearBrushOtherExtent)f=g.getLinearBrushOtherExtent(a,b._transform);else{var h=b._zr;f=[0,[h.getWidth(),h.getHeight()][1-a]]}var i=[d,f];a&&i.reverse(),Zm(b,c,i,e)},updateCommon:$m,contain:mn}}function rn(a,b,c){var d=b.getComponentByElement(a.topTarget),e=d&&d.coordinateSystem;return d&&d!==c&&!hy[d.mainType]&&e&&e.model!==c}function sn(a){return a=vn(a),function(b,c){return le(b,a)}}function tn(a,b){return a=vn(a),function(c){var d=null!=b?b:c,e=d?a.width:a.height,f=d?a.x:a.y;return[f,f+(e||0)]}}function un(a,b,c){return a=vn(a),function(d,e,f){return a.contain(e[0],e[1])&&!rn(d,b,c)}}function vn(a){return Ua.create(a)}function wn(a,b,c){var d=this._targetInfoList=[],e={},f=yn(b,a);iy(oy,function(a,b){(!c||!c.include||jy(c.include,b)>=0)&&a(f,d,e)})}function xn(a){return a[0]>a[1]&&a.reverse(),a}function yn(a,b){return Cc(a,b,{includeMainTypes:my})}function zn(a,b,c,d){var e=c.getAxis(["x","y"][a]),f=xn(n([0,1],function(a){return b?e.coordToData(e.toLocalCoord(d[a])):e.toGlobalCoord(e.dataToCoord(d[a]))})),g=[];return g[a]=f,g[1-a]=[NaN,NaN],{values:f,xyMinMax:g}}function An(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function Bn(a,b){var c=Cn(a),d=Cn(b),e=[c[0]/d[0],c[1]/d[1]];return isNaN(e[0])&&(e[0]=1),isNaN(e[1])&&(e[1]=1),e}function Cn(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}function Dn(a,b){var c=Hn(a);ty(b,function(b,d){for(var e=c.length-1;e>=0&&!c[e][d];e--);if(e<0){var f=a.queryComponents({mainType:"dataZoom",subType:"select",id:d})[0];if(f){var g=f.getPercentRange();c[0][d]={dataZoomId:d,start:g[0],end:g[1]}}}}),c.push(b)}function En(a){var b=Hn(a),c=b[b.length-1];b.length>1&&b.pop();var d={};return ty(c,function(a,c){for(var e=b.length-1;e>=0;e--)if(a=b[e][c]){d[c]=a;break}}),d}function Fn(a){a[uy]=null}function Gn(a){return Hn(a).length}function Hn(a){var b=a[uy];return b||(b=a[uy]=[{}]),b}function In(a,b,c){(this._brushController=new Jm(c.getZr())).on("brush",q(this._onBrush,this)).mount(),this._isZoomActive}function Jn(a){var b={};return m(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c],null==b[c]&&(b[c]="all"),(!1===b[c]||"none"===b[c])&&(b[c]=[])}),b}function Kn(a,b){a.setIconStatus("back",Gn(b)>1?"emphasis":"normal")}function Ln(a,b,c,d,e){var f=c._isZoomActive;d&&"takeGlobalCursor"===d.type&&(f="dataZoomSelect"===d.key&&d.dataZoomSelectActive),c._isZoomActive=f,a.setIconStatus("zoom",f?"emphasis":"normal");var g=new wn(Jn(a.option),b,{include:["grid"]});c._brushController.setPanels(g.makePanelOpts(e,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(!!f&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}function Mn(a){this.model=a}function Nn(a){return By(a)}function On(){if(!Ey&&Fy){Ey=!0;var a=Fy.styleSheets;a.length<31?Fy.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}}function Pn(a){return parseInt(a,10)}function Qn(a,b){On(),this.root=a,this.storage=b;var c=document.createElement("div"),d=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",d.style.cssText="position:absolute;left:0;top:0;",a.appendChild(c),this._vmlRoot=d,this._vmlViewport=c,this.resize();var e=b.delFromStorage,f=b.addToStorage;b.delFromStorage=function(a){e.call(b,a),a&&a.onRemove&&a.onRemove(d)},b.addToStorage=function(a){a.onAdd&&a.onAdd(d),f.call(b,a)},this._firstPaint=!0}function Rn(a){return function(){sp('In IE8.0 VML mode painter not support method "'+a+'"')}}function Sn(a){return document.createElementNS(lz,a)}function Tn(a){return pz(1e4*a)/1e4}function Un(a){return a<vz&&a>-vz}function Vn(a,b){var c=b?a.textFill:a.fill;return null!=c&&c!==oz}function Wn(a,b){var c=b?a.textStroke:a.stroke;return null!=c&&c!==oz}function Xn(a,b){b&&Yn(a,"transform","matrix("+nz.call(b,",")+")")}function Yn(a,b,c){(!c||"linear"!==c.type&&"radial"!==c.type)&&("string"==typeof c&&c.indexOf("NaN")>-1&&console.log(c),a.setAttribute(b,c))}function Zn(a,b,c){a.setAttributeNS("http://www.w3.org/1999/xlink",b,c)}function $n(a,b,c){if(Vn(b,c)){var d=c?b.textFill:b.fill;d="transparent"===d?oz:d,"none"!==a.getAttribute("clip-path")&&d===oz&&(d="rgba(0, 0, 0, 0.002)"),Yn(a,"fill",d),Yn(a,"fill-opacity",b.opacity)}else Yn(a,"fill",oz);if(Wn(b,c)){var e=c?b.textStroke:b.stroke;Yn(a,"stroke",e="transparent"===e?oz:e),Yn(a,"stroke-width",(c?b.textStrokeWidth:b.lineWidth)/(!c&&b.strokeNoScale?b.host.getLineScale():1)),Yn(a,"paint-order",c?"stroke":"fill"),Yn(a,"stroke-opacity",b.opacity),b.lineDash?(Yn(a,"stroke-dasharray",b.lineDash.join(",")),Yn(a,"stroke-dashoffset",pz(b.lineDashOffset||0))):Yn(a,"stroke-dasharray",""),b.lineCap&&Yn(a,"stroke-linecap",b.lineCap),b.lineJoin&&Yn(a,"stroke-linejoin",b.lineJoin),b.miterLimit&&Yn(a,"stroke-miterlimit",b.miterLimit)}else Yn(a,"stroke",oz)}function _n(a){for(var b=[],c=a.data,d=a.len(),e=0;e<d;){var f="",g=0;switch(c[e++]){case mz.M:f="M",g=2;break;case mz.L:f="L",g=2;break;case mz.Q:f="Q",g=4;break;case mz.C:f="C",g=6;break;case mz.A:var h=c[e++],i=c[e++],j=c[e++],k=c[e++],l=c[e++],m=c[e++],n=c[e++],o=c[e++],p=Math.abs(m),q=Un(p-tz)&&!Un(p),r=!1;r=p>=tz||!Un(p)&&(m>-sz&&m<0||m>sz)==!!o;var s=Tn(h+j*rz(l)),t=Tn(i+k*qz(l));q&&(m=o?tz-1e-4:1e-4-tz,r=!0,9===e&&b.push("M",s,t));var u=Tn(h+j*rz(l+m)),v=Tn(i+k*qz(l+m));b.push("A",Tn(j),Tn(k),pz(n*uz),+r,+o,u,v);break;case mz.Z:f="Z";break;case mz.R:var u=Tn(c[e++]),v=Tn(c[e++]),w=Tn(c[e++]),x=Tn(c[e++]);b.push("M",u,v,"L",u+w,v,"L",u+w,v+x,"L",u,v+x,"L",u,v)}f&&b.push(f);for(var y=0;y<g;y++)b.push(Tn(c[e++]))}return b.join(" ")}function ao(a){return"middle"===a?"middle":"bottom"===a?"baseline":"hanging"}function bo(){}function co(a,b,c,d){for(var e=0,f=b.length,g=0,h=0;e<f;e++){var i=b[e];if(i.removed){for(var j=[],k=h;k<h+i.count;k++)j.push(k);i.indices=j,h+=i.count}else{for(var j=[],k=g;k<g+i.count;k++)j.push(k);i.indices=j,g+=i.count,i.added||(h+=i.count)}}return b}function eo(a){return{newPos:a.newPos,components:a.components.slice(0)}}function fo(a,b,c,d,e){this._zrId=a,this._svgRoot=b,this._tagNames="string"==typeof c?[c]:c,this._markLabel=d,this._domName=e||"_dom",this.nextId=0}function go(a,b){fo.call(this,a,b,["linearGradient","radialGradient"],"__gradient_in_use__")}function ho(a,b){fo.call(this,a,b,"clipPath","__clippath_in_use__")}function io(a,b){fo.call(this,a,b,["filter"],"__filter_in_use__","_shadowDom")}function jo(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY||a.textShadowBlur||a.textShadowOffsetX||a.textShadowOffsetY)}function ko(a){return parseInt(a,10)}function lo(a){return a instanceof sd?wz:a instanceof Vb?xz:a instanceof Er?yz:wz}function mo(a,b){return b&&a&&b.parentNode!==a}function no(a,b,c){if(mo(a,b)&&c){var d=c.nextSibling;d?a.insertBefore(b,d):a.appendChild(b)}}function oo(a,b){if(mo(a,b)){var c=a.firstChild;c?a.insertBefore(b,c):a.appendChild(b)}}function po(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)}function qo(a){return a.__textSvgEl}function ro(a){return a.__svgEl}function so(a){return function(){sp('In SVG mode painter not support method "'+a+'"')}}var to=2311,uo=function(){return to++},vo={},wo=vo="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(a){var b={},c={},d=a.match(/Firefox\/([\d.]+)/),e=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),f=a.match(/Edge\/([\d.]+)/),g=/micromessenger/i.test(a);return d&&(c.firefox=!0,c.version=d[1]),e&&(c.ie=!0,c.version=e[1]),f&&(c.edge=!0,c.version=f[1]),g&&(c.weChat=!0),{browser:c,os:b,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!c.ie&&!c.edge,pointerEventsSupported:"onpointerdown"in window&&(c.edge||c.ie&&c.version>=11)}}(navigator.userAgent),xo={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},yo={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},zo=Object.prototype.toString,Ao=Array.prototype,Bo=Ao.forEach,Co=Ao.filter,Do=Ao.slice,Eo=Ao.map,Fo=Ao.reduce,Go={},Ho=function(){return Go.createCanvas()};Go.createCanvas=function(){return document.createElement("canvas")};var Io,Jo="__ec_primitive__";J.prototype={constructor:J,get:function(a){return this.hasOwnProperty(a)?this[a]:null},set:function(a,b){return this[a]=b},each:function(a,b){void 0!==b&&(a=q(a,b));for(var c in this)this.hasOwnProperty(c)&&a(this[c],c)},removeKey:function(a){delete this[a]}};var Ko=(Object.freeze||Object)({$override:b,clone:c,merge:d,mergeAll:e,extend:f,defaults:g,createCanvas:Ho,getContext:h,indexOf:i,inherits:j,mixin:k,isArrayLike:l,each:m,map:n,reduce:o,filter:p,find:function(a,b,c){if(a&&b)for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d]},bind:q,curry:r,isArray:s,isFunction:t,isString:u,isObject:v,isBuiltInObject:w,isTypedArray:x,isDom:y,eqNaN:z,retrieve:A,retrieve2:B,retrieve3:C,slice:D,normalizeCssArray:E,assert:F,trim:G,setAsPrimitive:H,isPrimitive:I,createHashMap:K,concatArray:function(a,b){for(var c=new a.constructor(a.length+b.length),d=0;d<a.length;d++)c[d]=a[d];var e=a.length;for(d=0;d<b.length;d++)c[d+e]=b[d];return c},noop:L}),Lo="undefined"==typeof Float32Array?Array:Float32Array,Mo=S,No=T,Oo=W,Po=X,Qo=(Object.freeze||Object)({create:M,copy:N,clone:O,set:function(a,b,c){return a[0]=b,a[1]=c,a},add:P,scaleAndAdd:Q,sub:R,len:S,length:Mo,lenSquare:T,lengthSquare:No,mul:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},div:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:U,normalize:V,distance:W,dist:Oo,distanceSquare:X,distSquare:Po,negate:function(a,b){return a[0]=-b[0],a[1]=-b[1],a},lerp:function(a,b,c,d){return a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a},applyTransform:Y,min:Z,max:$});_.prototype={constructor:_,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(aa(b,a),"dragstart",a.event))},_drag:function(a){var b=this._draggingTarget;if(b){var c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y;this._x=c,this._y=d,b.drift(e,f,a),this.dispatchToElement(aa(b,a),"drag",a.event);var g=this.findHover(c,d,b).target,h=this._dropTarget;this._dropTarget=g,b!==g&&(h&&g!==h&&this.dispatchToElement(aa(h,a),"dragleave",a.event),g&&g!==h&&this.dispatchToElement(aa(g,a),"dragenter",a.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.dispatchToElement(aa(b,a),"dragend",a.event),this._dropTarget&&this.dispatchToElement(aa(this._dropTarget,a),"drop",a.event),this._draggingTarget=null,this._dropTarget=null}};var Ro=Array.prototype.slice,So=function(){this._$handlers={}};So.prototype={constructor:So,one:function(a,b,c){var d=this._$handlers;if(!b||!a)return this;d[a]||(d[a]=[]);for(var e=0;e<d[a].length;e++)if(d[a][e].h===b)return this;return d[a].push({h:b,one:!0,ctx:c||this}),this},on:function(a,b,c){var d=this._$handlers;if(!b||!a)return this;d[a]||(d[a]=[]);for(var e=0;e<d[a].length;e++)if(d[a][e].h===b)return this;return d[a].push({h:b,one:!1,ctx:c||this}),this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(a,b){var c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;e<f;e++)c[a][e].h!=b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},trigger:function(a){if(this._$handlers[a]){var b=arguments,c=b.length;c>3&&(b=Ro.call(b,1));for(var d=this._$handlers[a],e=d.length,f=0;f<e;){switch(c){case 1:d[f].h.call(d[f].ctx);break;case 2:d[f].h.call(d[f].ctx,b[1]);break;case 3:d[f].h.call(d[f].ctx,b[1],b[2]);break;default:d[f].h.apply(d[f].ctx,b)}d[f].one?(d.splice(f,1),e--):f++}}return this},triggerWithContext:function(a){if(this._$handlers[a]){var b=arguments,c=b.length;c>4&&(b=Ro.call(b,1,b.length-1));for(var d=b[b.length-1],e=this._$handlers[a],f=e.length,g=0;g<f;){switch(c){case 1:e[g].h.call(d);break;case 2:e[g].h.call(d,b[1]);break;case 3:e[g].h.call(d,b[1],b[2]);break;default:e[g].h.apply(d,b)}e[g].one?(e.splice(g,1),f--):g++}}return this}};var To="silent";ca.prototype.dispose=function(){};var Uo=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Vo=function(a,b,c,d){So.call(this),this.storage=a,this.painter=b,this.painterRoot=d,c=c||new ca,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,_.call(this),this.setHandlerProxy(c)};Vo.prototype={constructor:Vo,setHandlerProxy:function(a){this.proxy&&this.proxy.dispose(),a&&(m(Uo,function(b){a.on&&a.on(b,this[b],this)},this),a.handler=this),this.proxy=a},mousemove:function(a){var b=a.zrX,c=a.zrY,d=this._hovered,e=d.target;e&&!e.__zr&&(e=(d=this.findHover(d.x,d.y)).target);var f=this._hovered=this.findHover(b,c),g=f.target,h=this.proxy;h.setCursor&&h.setCursor(g?g.cursor:"default"),e&&g!==e&&this.dispatchToElement(d,"mouseout",a),this.dispatchToElement(f,"mousemove",a),g&&g!==e&&this.dispatchToElement(f,"mouseover",a)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);var b,c=a.toElement||a.relatedTarget;do{c=c&&c.parentNode}while(c&&9!=c.nodeType&&!(b=c===this.painterRoot));!b&&this.trigger("globalout",{event:a})},resize:function(a){this._hovered={}},dispatch:function(a,b){var c=this[a];c&&c.call(this,b)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(a,b,c){var d=(a=a||{}).target;if(!d||!d.silent){for(var e="on"+b,f=ba(b,a,c);d&&(d[e]&&(f.cancelBubble=d[e].call(d,f)),d.trigger(b,f),d=d.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(b,f),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[e]&&a[e].call(a,f),a.trigger&&a.trigger(b,f)}))}},findHover:function(a,b,c){for(var d=this.storage.getDisplayList(),e={x:a,y:b},f=d.length-1;f>=0;f--){var g;if(d[f]!==c&&!d[f].ignore&&(g=da(d[f],a,b))&&(!e.topTarget&&(e.topTarget=d[f]),g!==To)){e.target=d[f];break}}return e}},m(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){Vo.prototype[a]=function(b){var c=this.findHover(b.zrX,b.zrY),d=c.target;if("mousedown"===a)this._downEl=d,this._downPoint=[b.zrX,b.zrY],this._upEl=d;else if("mouseup"===a)this._upEl=d;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||Oo(this._downPoint,[b.zrX,b.zrY])>4)return;this._downPoint=null}this.dispatchToElement(c,a,b)}}),k(Vo,So),k(Vo,_);var Wo="undefined"==typeof Float32Array?Array:Float32Array,Xo=(Object.freeze||Object)({create:ea,identity:fa,copy:ga,mul:ha,translate:ia,rotate:ja,scale:ka,invert:la,clone:function(a){var b=ea();return ga(b,a),b}}),Yo=fa,Zo=5e-5,$o=function(a){(a=a||{}).position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},_o=$o.prototype;_o.transform=null,_o.needLocalTransform=function(){return ma(this.rotation)||ma(this.position[0])||ma(this.position[1])||ma(this.scale[0]-1)||ma(this.scale[1]-1)},_o.updateTransform=function(){var a=this.parent,b=a&&a.transform,c=this.needLocalTransform(),d=this.transform;c||b?(d=d||ea(),c?this.getLocalTransform(d):Yo(d),b&&(c?ha(d,a.transform,d):ga(d,a.transform)),this.transform=d,this.invTransform=this.invTransform||ea(),la(this.invTransform,d)):d&&Yo(d)},_o.getLocalTransform=function(a){return $o.getLocalTransform(this,a)},_o.setTransform=function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)},_o.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)};var ap=[];_o.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(ha(ap,a.invTransform,b),b=ap);var c=b[0]*b[0]+b[1]*b[1],d=b[2]*b[2]+b[3]*b[3],e=this.position,f=this.scale;ma(c-1)&&(c=Math.sqrt(c)),ma(d-1)&&(d=Math.sqrt(d)),b[0]<0&&(c=-c),b[3]<0&&(d=-d),e[0]=b[4],e[1]=b[5],f[0]=c,f[1]=d,this.rotation=Math.atan2(-b[1]/d,b[0]/c)}},_o.getGlobalScale=function(){var a=this.transform;if(!a)return[1,1];var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(a[2]*a[2]+a[3]*a[3]);return a[0]<0&&(b=-b),a[3]<0&&(c=-c),[b,c]},_o.transformCoordToLocal=function(a,b){var c=[a,b],d=this.invTransform;return d&&Y(c,c,d),c},_o.transformCoordToGlobal=function(a,b){var c=[a,b],d=this.transform;return d&&Y(c,c,d),c},$o.getLocalTransform=function(a,b){Yo(b=b||[]);var c=a.origin,d=a.scale||[1,1],e=a.rotation||0,f=a.position||[0,0];return c&&(b[4]-=c[0],b[5]-=c[1]),ka(b,b,d),e&&ja(b,b,e),c&&(b[4]+=c[0],b[5]+=c[1]),b[4]+=f[0],b[5]+=f[1],b};var bp={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(2-Math.pow(2,-10*(a-1)))},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),-c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/.4))},elasticOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin((a-b)*(2*Math.PI)/.4)+1)},elasticInOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),(a*=2)<1?c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/.4)*-.5:c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*(2*Math.PI)/.4)*.5+1)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return--a*a*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return(a*=2)<1?a*a*((b+1)*a-b)*.5:.5*((a-=2)*a*((b+1)*a+b)+2)},bounceIn:function(a){return 1-bp.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?.5*bp.bounceIn(2*a):.5*bp.bounceOut(2*a-1)+.5}};na.prototype={constructor:na,step:function(a,b){if(this._initialized||(this._startTime=a+this._delay,this._initialized=!0),this._paused)this._pausedTime+=b;else{var c=(a-this._startTime-this._pausedTime)/this._life;if(!(c<0)){c=Math.min(c,1);var d=this.easing,e="string"==typeof d?bp[d]:d,f="function"==typeof e?e(c):c;return this.fire("frame",f),1==c?this.loop?(this.restart(a),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(a){var b=(a-this._startTime-this._pausedTime)%this._life;this._startTime=a-b+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(a,b){this[a="on"+a]&&this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var cp=function(){this.head=null,this.tail=null,this._len=0},dp=cp.prototype;dp.insert=function(a){var b=new ep(a);return this.insertEntry(b),b},dp.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},dp.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},dp.len=function(){return this._len},dp.clear=function(){this.head=this.tail=null,this._len=0};var ep=function(a){this.value=a,this.next,this.prev},fp=function(a){this._list=new cp,this._map={},this._maxSize=a||10,this._lastRemovedEntry=null},gp=fp.prototype;gp.put=function(a,b){var c=this._list,d=this._map,e=null;if(null==d[a]){var f=c.len(),g=this._lastRemovedEntry;if(f>=this._maxSize&&f>0){var h=c.head;c.remove(h),delete d[h.key],e=h.value,this._lastRemovedEntry=h}g?g.value=b:g=new ep(b),g.key=a,c.insertEntry(g),d[a]=g}return e},gp.get=function(a){var b=this._map[a],c=this._list;if(null!=b)return b!==c.tail&&(c.remove(b),c.insertEntry(b)),b.value},gp.clear=function(){this._list.clear(),this._map={}};var hp={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},ip=new fp(20),jp=null,kp=Da,lp=Ea,mp=(Object.freeze||Object)({parse:ya,lift:Ba,toHex:Ca,fastLerp:Da,fastMapToColor:kp,lerp:Ea,mapToColor:lp,modifyHSL:function(a,b,c,d){if(a=ya(a))return a=Aa(a),null!=b&&(a[0]=pa(b)),null!=c&&(a[1]=sa(c)),null!=d&&(a[2]=sa(d)),Ga(za(a),"rgba")},modifyAlpha:Fa,stringify:Ga}),np=Array.prototype.slice,op=function(a,b,c,d){this._tracks={},this._target=a,this._loop=b||!1,this._getter=c||Ha,this._setter=d||Ia,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};op.prototype={when:function(a,b){var c=this._tracks;for(var d in b)if(b.hasOwnProperty(d)){if(!c[d]){c[d]=[];var e=this._getter(this._target,d);if(null==e)continue;0!==a&&c[d].push({time:0,value:Qa(e)})}c[d].push({time:a,value:b[d]})}return this},during:function(a){return this._onframeList.push(a),this},pause:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].pause();this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var a=this._doneList,b=a.length,c=0;c<b;c++)a[c].call(this)},start:function(a,b){var c,d=this,e=0;for(var f in this._tracks)if(this._tracks.hasOwnProperty(f)){var g=Ta(this,a,function(){--e||d._doneCallback()},this._tracks[f],f,b);g&&(this._clipList.push(g),e++,this.animation&&this.animation.addClip(g),c=g)}if(c){var h=c.onframe;c.onframe=function(a,b){h(a,b);for(var c=0;c<d._onframeList.length;c++)d._onframeList[c](a,b)}}return e||this._doneCallback(),this},stop:function(a){for(var b=this._clipList,c=this.animation,d=0;d<b.length;d++){var e=b[d];a&&e.onframe(this._target,1),c&&c.removeClip(e)}b.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}};var pp=1;"undefined"!=typeof window&&(pp=Math.max(window.devicePixelRatio||1,1));var qp=pp,rp=function(){},sp=rp,tp=function(){this.animators=[]};tp.prototype={constructor:tp,animate:function(a,b){var c,d=!1,e=this,f=this.__zr;if(a){var g=a.split("."),h=e;d="shape"===g[0];for(var j=0,k=g.length;j<k;j++)h&&(h=h[g[j]]);h&&(c=h)}else c=e;if(c){var l=e.animators,m=new op(c,b);return m.during(function(a){e.dirty(d)}).done(function(){l.splice(i(l,m),1)}),l.push(m),f&&f.animation.addAnimator(m),m}sp('Property "'+a+'" is not existed in element '+e.id)},stopAnimation:function(a){for(var b=this.animators,c=b.length,d=0;d<c;d++)b[d].stop(a);return b.length=0,this},animateTo:function(a,b,c,d,e,f){u(c)?(e=d,d=c,c=0):t(d)?(e=d,d="linear",c=0):t(c)?(e=c,c=0):t(b)?(e=b,b=500):b||(b=500),this.stopAnimation(),this._animateToShallow("",this,a,b,c);var g=this.animators.slice(),h=g.length;h||e&&e();for(var i=0;i<g.length;i++)g[i].done(function(){--h||e&&e()}).start(d,f)},_animateToShallow:function(a,b,c,d,e){var f={},g=0;for(var h in c)if(c.hasOwnProperty(h))if(null!=b[h])v(c[h])&&!l(c[h])?this._animateToShallow(a?a+"."+h:h,b[h],c[h],d,e):(f[h]=c[h],g++);else if(null!=c[h])if(a){var i={};i[a]={},i[a][h]=c[h],this.attr(i)}else this.attr(h,c[h]);return g>0&&this.animate(a,!1).when(null==d?500:d,f).delay(e||0),this}};var up=function(a){$o.call(this,a),So.call(this,a),tp.call(this,a),this.id=a.id||uo()};up.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(a,b){switch(this.draggable){case"horizontal":b=0;break;case"vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]),c[4]+=a,c[5]+=b,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,b){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]),c[0]=b[0],c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"==typeof a)this.attrKV(a,b);else if(v(a))for(var c in a)a.hasOwnProperty(c)&&this.attrKV(c,a[c]);return this.dirty(!1),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=b,a.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this.clipPath&&this.clipPath.removeSelfFromZr(a)}},k(up,tp),k(up,$o),k(up,So);var vp=Y,wp=Math.min,xp=Math.max;Ua.prototype={constructor:Ua,union:function(a){var b=wp(a.x,this.x),c=wp(a.y,this.y);this.width=xp(a.x+a.width,this.x+this.width)-b,this.height=xp(a.y+a.height,this.y+this.height)-c,this.x=b,this.y=c},applyTransform:function(){var a=[],b=[],c=[],d=[];return function(e){if(e){a[0]=c[0]=this.x,a[1]=d[1]=this.y,b[0]=d[0]=this.x+this.width,b[1]=c[1]=this.y+this.height,vp(a,a,e),vp(b,b,e),vp(c,c,e),vp(d,d,e),this.x=wp(a[0],b[0],c[0],d[0]),this.y=wp(a[1],b[1],c[1],d[1]);var f=xp(a[0],b[0],c[0],d[0]),g=xp(a[1],b[1],c[1],d[1]);this.width=f-this.x,this.height=g-this.y}}}(),calculateTransform:function(a){var b=this,c=a.width/b.width,d=a.height/b.height,e=ea();return ia(e,e,[-b.x,-b.y]),ka(e,e,[c,d]),ia(e,e,[a.x,a.y]),e},intersect:function(a){if(!a)return!1;a instanceof Ua||(a=Ua.create(a));var b=this,c=b.x,d=b.x+b.width,e=b.y,f=b.y+b.height,g=a.x,h=a.x+a.width,i=a.y,j=a.y+a.height;return!(d<g||h<c||f<i||j<e)},contain:function(a,b){var c=this;return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},clone:function(){return new Ua(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Ua.create=function(a){return new Ua(a.x,a.y,a.width,a.height)};var yp=function(a){a=a||{},up.call(this,a);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._children=[],this.__storage=null,this.__dirty=!0};yp.prototype={constructor:yp,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);d>=0&&(c.splice(d,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof yp&&a.addChildrenToStorage(b)),c&&c.refresh()},remove:function(a){var b=this.__zr,c=this.__storage,d=this._children,e=i(d,a);return e<0?this:(d.splice(e,1),a.parent=null,c&&(c.delFromStorage(a),a instanceof yp&&a.delChildrenFromStorage(c)),b&&b.refresh(),this)},removeAll:function(){var a,b,c=this._children,d=this.__storage;for(b=0;b<c.length;b++)a=c[b],d&&(d.delFromStorage(a),a instanceof yp&&a.delChildrenFromStorage(d)),a.parent=null;return c.length=0,this},eachChild:function(a,b){for(var c=this._children,d=0;d<c.length;d++){var e=c[d];a.call(b,e,d)}return this},traverse:function(a,b){for(var c=0;c<this._children.length;c++){var d=this._children[c];a.call(b,d),"group"===d.type&&d.traverse(a,b)}return this},addChildrenToStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.addToStorage(c),c instanceof yp&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromStorage(c),c instanceof yp&&c.delChildrenFromStorage(a)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(a){for(var b=null,c=new Ua(0,0,0,0),d=a||this._children,e=[],f=0;f<d.length;f++){var g=d[f];if(!g.ignore&&!g.invisible){var h=g.getBoundingRect(),i=g.getLocalTransform(e);i?(c.copy(h),c.applyTransform(i),(b=b||c.clone()).union(c)):(b=b||h.clone()).union(h)}}return b||c}},j(yp,up);var zp=32,Ap=7,Bp=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Bp.prototype={constructor:Bp,traverse:function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},getDisplayList:function(a,b){return b=b||!1,a&&this.updateDisplayList(b),this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var b=this._roots,c=this._displayList,d=0,e=b.length;d<e;d++)this._updateAndAddDisplayable(b[d],null,a);c.length=this._displayListLen,wo.canvasSupported&&ab(c,bb)},_updateAndAddDisplayable:function(a,b,c){if(!a.ignore||c){a.beforeUpdate(),a.__dirty&&a.update(),a.afterUpdate();var d=a.clipPath;if(d){b=b?b.slice():[];for(var e=d,f=a;e;)e.parent=f,e.updateTransform(),b.push(e),f=e,e=e.clipPath}if(a.isGroup){for(var g=a._children,h=0;h<g.length;h++){var i=g[h];a.__dirty&&(i.__dirty=!0),this._updateAndAddDisplayable(i,b,c)}a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof yp&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(c=0;c<this._roots.length;c++){var b=this._roots[c];b instanceof yp&&b.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(a instanceof Array)for(var c=0,d=a.length;c<d;c++)this.delRoot(a[c]);else{var e=i(this._roots,a);e>=0&&(this.delFromStorage(a),this._roots.splice(e,1),a instanceof yp&&a.delChildrenFromStorage(this))}},addToStorage:function(a){return a&&(a.__storage=this,a.dirty(!1)),this},delFromStorage:function(a){return a&&(a.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:bb};var Cp={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Dp=function(a,b,c){return Cp.hasOwnProperty(b)?c*=a.dpr:c},Ep=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Fp=function(a,b){this.extendFrom(a,!1),this.host=b};Fp.prototype={constructor:Fp,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(a,b,c){for(var d=this,e=c&&c.style,f=!e,g=0;g<Ep.length;g++){var h=Ep[g],i=h[0];(f||d[i]!==e[i])&&(a[i]=Dp(a,i,d[i]||h[1]))}if((f||d.fill!==e.fill)&&(a.fillStyle=d.fill),(f||d.stroke!==e.stroke)&&(a.strokeStyle=d.stroke),(f||d.opacity!==e.opacity)&&(a.globalAlpha=null==d.opacity?1:d.opacity),(f||d.blend!==e.blend)&&(a.globalCompositeOperation=d.blend||"source-over"),this.hasStroke()){var j=d.lineWidth;a.lineWidth=j/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1)}},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&this.lineWidth>0},extendFrom:function(a,b){if(a)for(var c in a)!a.hasOwnProperty(c)||!0!==b&&(!1===b?this.hasOwnProperty(c):null==a[c])||(this[c]=a[c])},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a},getGradient:function(a,b,c){for(var d=("radial"===b.type?db:cb)(a,b,c),e=b.colorStops,f=0;f<e.length;f++)d.addColorStop(e[f].offset,e[f].color);return d}};for(var Gp=Fp.prototype,Hp=0;Hp<Ep.length;Hp++){var Ip=Ep[Hp];Ip[0]in Gp||(Gp[Ip[0]]=Ip[1])}Fp.getGradient=Gp.getGradient;var Jp=function(a,b){this.image=a,this.repeat=b,this.type="pattern"};Jp.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};var Kp=function(a,b,c){var d;c=c||qp,"string"==typeof a?d=fb(a,b,c):v(a)&&(a=(d=a).id),this.id=a,this.dom=d;var e=d.style;e&&(d.onselectstart=eb,e["-webkit-user-select"]="none",e["user-select"]="none",e["-webkit-touch-callout"]="none",e["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",e.padding=0,e.margin=0,e["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=b,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=c};Kp.prototype={constructor:Kp,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=fb("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),1!=a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e&&(e.width=a+"px",e.height=b+"px"),d.width=a*c,d.height=b*c,f&&(f.width=a*c,f.height=b*c,1!=c&&this.ctxBack.scale(c,c))},clear:function(a,b){var c=this.dom,d=this.ctx,e=c.width,f=c.height,b=b||this.clearColor,g=this.motionBlur&&!a,h=this.lastFrameAlpha,i=this.dpr;if(g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(c,0,0,e/i,f/i)),d.clearRect(0,0,e,f),b&&"transparent"!==b){var j;b.colorStops?(j=b.__canvasGradient||Fp.getGradient(d,b,{x:0,y:0,width:e,height:f}),b.__canvasGradient=j):b.image&&(j=Jp.prototype.getCanvasPattern.call(b,d)),d.save(),d.fillStyle=j||b,d.fillRect(0,0,e,f),d.restore()}if(g){var k=this.domBack;d.save(),d.globalAlpha=h,d.drawImage(k,0,0,e,f),d.restore()}}};var Lp="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},Mp=new fp(50),Np={},Op=0,Pp=5e3,Qp=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Rp="12px sans-serif",Sp={};Sp.measureText=function(a,b){var c=h();return c.font=b||Rp,c.measureText(a)};var Tp={left:1,right:1,center:1},Up={top:1,bottom:1,middle:1},Vp=new Ua,Wp=function(){};Wp.prototype={constructor:Wp,drawRectText:function(a,b){var c=this.style;b=c.textRect||b,this.__dirty&&Cb(c);var d=c.text;if(null!=d&&(d+=""),Tb(d,c)){a.save();var e=this.transform;c.transformText?this.setTransform(a):e&&(Vp.copy(b),Vp.applyTransform(e),b=Vp),Eb(this,a,d,c,b),a.restore()}}},Ub.prototype={constructor:Ub,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,b){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){var c=this.transformCoordToLocal(a,b);return this.getBoundingRect().contain(c[0],c[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?up.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(!1),this},useStyle:function(a){return this.style=new Fp(a,this),this.dirty(!1),this}},j(Ub,up),k(Ub,Wp),Vb.prototype={constructor:Vb,type:"image",brush:function(a,b){var c=this.style,d=c.image;c.bind(a,this,b);var e=this._image=hb(d,this._image,this,this.onload);if(e&&jb(e)){var f=c.x||0,g=c.y||0,h=c.width,i=c.height,j=e.width/e.height;if(null==h&&null!=i?h=i*j:null==i&&null!=h?i=h/j:null==h&&null==i&&(h=e.width,i=e.height),this.setTransform(a),c.sWidth&&c.sHeight){var k=c.sx||0,l=c.sy||0;a.drawImage(e,k,l,c.sWidth,c.sHeight,f,g,h,i)}else if(c.sx&&c.sy){var m=h-(k=c.sx),n=i-(l=c.sy);a.drawImage(e,k,l,m,n,f,g,h,i)}else a.drawImage(e,f,g,h,i);null!=c.text&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new Ua(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},j(Vb,Ub);var Xp=new Ua(0,0,0,0),Yp=new Ua(0,0,0,0),Zp=function(a,b,c){this.type="canvas";var d=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=c=f({},c||{}),this.dpr=c.devicePixelRatio||qp,this._singleCanvas=d,this.root=a;var e=a.style;e&&(e["-webkit-tap-highlight-color"]="transparent",e["-webkit-user-select"]=e["user-select"]=e["-webkit-touch-callout"]="none",a.innerHTML=""),this.storage=b;var g=this._zlevelList=[],h=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,d){var i=a.width,j=a.height;null!=c.width&&(i=c.width),null!=c.height&&(j=c.height),this.dpr=c.devicePixelRatio||1,a.width=i*this.dpr,a.height=j*this.dpr,this._width=i,this._height=j;var k=new Kp(a,this,this.dpr);k.__builtin__=!0,k.initContext(),h[314159]=k,k.zlevel=314159,g.push(314159),this._domRoot=a}else{this._width=this._getSize(0),this._height=this._getSize(1);var l=this._domRoot=_b(this._width,this._height);a.appendChild(l)}this._hoverlayer=null,this._hoverElements=[]};Zp.prototype={constructor:Zp,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(a){var b=this.storage.getDisplayList(!0),c=this._zlevelList;this._redrawId=Math.random(),this._paintList(b,a,this._redrawId);for(var d=0;d<c.length;d++){var e=c[d],f=this._layers[e];if(!f.__builtin__&&f.refresh){var g=0===d?this._backgroundColor:null;f.refresh(g)}}return this.refreshHover(),this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape});c.__from=a,a.__hoverMir=c,c.setStyle(b),this._hoverElements.push(c)}},removeHover:function(a){var b=a.__hoverMir,c=this._hoverElements,d=i(c,b);d>=0&&c.splice(d,1),a.__hoverMir=null},clearHover:function(a){for(var b=this._hoverElements,c=0;c<b.length;c++){var d=b[c].__from;d&&(d.__hoverMir=null)}b.length=0},refreshHover:function(){var a=this._hoverElements,b=a.length,c=this._hoverlayer;if(c&&c.clear(),b){ab(a,this.storage.displayableSortFunc),c||(c=this._hoverlayer=this.getLayer(1e5));var d={};c.ctx.save();for(var e=0;e<b;){var f=a[e],g=f.__from;g&&g.__zr?(e++,g.invisible||(f.transform=g.transform,f.invTransform=g.invTransform,f.__clipPaths=g.__clipPaths,this._doPaintEl(f,c,!0,d))):(a.splice(e,1),g.__hoverMir=null,b--)}c.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(a,b,c){if(this._redrawId===c){b=b||!1,this._updateLayerStatus(a);var d=this._doPaintList(a,b);if(this._needsManuallyCompositing&&this._compositeManually(),!d){var e=this;Lp(function(){e._paintList(a,b,c)})}}},_compositeManually:function(){var a=this.getLayer(314159).ctx,b=this._domRoot.width,c=this._domRoot.height;a.clearRect(0,0,b,c),this.eachBuiltinLayer(function(d){d.virtual&&a.drawImage(d.dom,0,0,b,c)})},_doPaintList:function(a,b){for(var c=[],d=0;d<this._zlevelList.length;d++){var e=this._zlevelList[d];(h=this._layers[e]).__builtin__&&h!==this._hoverlayer&&(h.__dirty||b)&&c.push(h)}for(var f=!0,g=0;g<c.length;g++){var h=c[g],i=h.ctx,j={};i.save();var k=b?h.__startIndex:h.__drawIndex,l=!b&&h.incremental&&Date.now,n=l&&Date.now(),o=h.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(h.__startIndex===h.__endIndex)h.clear(!1,o);else if(k===h.__startIndex){var p=a[k];p.incremental&&p.notClear&&!b||h.clear(!1,o)}-1===k&&(console.error("For some unknown reason. drawIndex is -1"),k=h.__startIndex);for(var q=k;q<h.__endIndex;q++){var r=a[q];if(this._doPaintEl(r,h,b,j),r.__dirty=!1,l&&Date.now()-n>15)break}h.__drawIndex=q,h.__drawIndex<h.__endIndex&&(f=!1),j.prevElClipPaths&&i.restore(),i.restore()}return wo.wxa&&m(this._layers,function(a){a&&a.ctx&&a.ctx.draw&&a.ctx.draw()}),f},_doPaintEl:function(a,b,c,d){var e=b.ctx,f=a.transform;if((b.__dirty||c)&&!a.invisible&&0!==a.style.opacity&&(!f||f[0]||f[3])&&(!a.culling||!Yb(a,this._width,this._height))){var g=a.__clipPaths;d.prevElClipPaths&&!Zb(g,d.prevElClipPaths)||(d.prevElClipPaths&&(b.ctx.restore(),d.prevElClipPaths=null,d.prevEl=null),g&&(e.save(),$b(g,e),d.prevElClipPaths=g)),a.beforeBrush&&a.beforeBrush(e),a.brush(e,d.prevEl||null),d.prevEl=a,a.afterBrush&&a.afterBrush(e)}},getLayer:function(a,b){this._singleCanvas&&!this._needsManuallyCompositing&&(a=314159);var c=this._layers[a];return c||((c=new Kp("zr_"+a,this,this.dpr)).zlevel=a,c.__builtin__=!0,this._layerConfig[a]&&d(c,this._layerConfig[a],!0),b&&(c.virtual=b),this.insertLayer(a,c),c.initContext()),c},insertLayer:function(a,b){var c=this._layers,d=this._zlevelList,e=d.length,f=null,g=-1,h=this._domRoot;if(c[a])sp("ZLevel "+a+" has been used already");else if(Xb(b)){if(e>0&&a>d[0]){for(g=0;g<e-1&&!(d[g]<a&&d[g+1]>a);g++);f=c[d[g]]}if(d.splice(g+1,0,a),c[a]=b,!b.virtual)if(f){var i=f.dom;i.nextSibling?h.insertBefore(b.dom,i.nextSibling):h.appendChild(b.dom)}else h.firstChild?h.insertBefore(b.dom,h.firstChild):h.appendChild(b.dom)}else sp("Layer of zlevel "+a+" is not valid")},eachLayer:function(a,b){var c,d,e=this._zlevelList;for(d=0;d<e.length;d++)c=e[d],a.call(b,this._layers[c],c)},eachBuiltinLayer:function(a,b){var c,d,e,f=this._zlevelList;for(e=0;e<f.length;e++)d=f[e],(c=this._layers[d]).__builtin__&&a.call(b,c,d)},eachOtherLayer:function(a,b){var c,d,e,f=this._zlevelList;for(e=0;e<f.length;e++)d=f[e],(c=this._layers[d]).__builtin__||a.call(b,c,d)},getLayers:function(){return this._layers},_updateLayerStatus:function(a){function b(a){c&&(c.__endIndex!==a&&(c.__dirty=!0),c.__endIndex=a)}if(this.eachBuiltinLayer(function(a,b){a.__dirty=a.__used=!1}),this._singleCanvas)for(e=1;e<a.length;e++)if((g=a[e]).zlevel!==a[e-1].zlevel||g.incremental){this._needsManuallyCompositing=!0;break}for(var c=null,d=0,e=0;e<a.length;e++){var f,g=a[e],h=g.zlevel;g.incremental?((f=this.getLayer(h+.001,this._needsManuallyCompositing)).incremental=!0,d=1):f=this.getLayer(h+(d>0?.01:0),this._needsManuallyCompositing),f.__builtin__||sp("ZLevel "+h+" has been used by unkown layer "+f.id),f!==c&&(f.__used=!0,f.__startIndex!==e&&(f.__dirty=!0),f.__startIndex=e,f.incremental?f.__drawIndex=-1:f.__drawIndex=e,b(e),c=f),g.__dirty&&(f.__dirty=!0,f.incremental&&f.__drawIndex<0&&(f.__drawIndex=e))}b(e),this.eachBuiltinLayer(function(a,b){!a.__used&&a.getElementCount()>0&&(a.__dirty=!0,a.__startIndex=a.__endIndex=a.__drawIndex=0),a.__dirty&&a.__drawIndex<0&&(a.__drawIndex=a.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},setBackgroundColor:function(a){this._backgroundColor=a},configLayer:function(a,b){if(b){var c=this._layerConfig;c[a]?d(c[a],b,!0):c[a]=b;for(var e=0;e<this._zlevelList.length;e++){var f=this._zlevelList[e];f!==a&&f!==a+.01||d(this._layers[f],c[a],!0)}}},delLayer:function(a){var b=this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(i(c,a),1))},resize:function(a,b){if(this._domRoot.style){var c=this._domRoot;c.style.display="none";var d=this._opts;if(null!=a&&(d.width=a),null!=b&&(d.height=b),a=this._getSize(0),b=this._getSize(1),c.style.display="",this._width!=a||b!=this._height){c.style.width=a+"px",c.style.height=b+"px";for(var e in this._layers)this._layers.hasOwnProperty(e)&&this._layers[e].resize(a,b);m(this._progressiveLayers,function(c){c.resize(a,b)}),this.refresh(!0)}this._width=a,this._height=b}else{if(null==a||null==b)return;this._width=a,this._height=b,this.getLayer(314159).resize(a,b)}return this},clearLayer:function(a){var b=this._layers[a];b&&b.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){if(a=a||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var b=new Kp("image",this,a.pixelRatio||this.dpr);if(b.initContext(),b.clear(!1,a.backgroundColor||this._backgroundColor),a.pixelRatio<=this.dpr){this.refresh();var c=b.dom.width,d=b.dom.height,e=b.ctx;this.eachLayer(function(a){a.__builtin__?e.drawImage(a.dom,0,0,c,d):a.renderToCanvas&&(b.ctx.save(),a.renderToCanvas(b.ctx),b.ctx.restore())})}else for(var f={},g=this.storage.getDisplayList(!0),h=0;h<g.length;h++){var i=g[h];this._doPaintEl(i,b,!0,f)}return b.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a],f=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);var g=this.root,h=document.defaultView.getComputedStyle(g);return(g[d]||Wb(h[c])||Wb(g.style[c]))-(Wb(h[e])||0)-(Wb(h[f])||0)|0},pathToImage:function(a,b){b=b||this.dpr;var c=document.createElement("canvas"),d=c.getContext("2d"),e=a.getBoundingRect(),f=a.style,g=f.shadowBlur*b,h=f.shadowOffsetX*b,i=f.shadowOffsetY*b,j=f.hasStroke()?f.lineWidth:0,k=Math.max(j/2,-h+g),l=Math.max(j/2,h+g),m=Math.max(j/2,-i+g),n=Math.max(j/2,i+g),o=e.width+k+l,p=e.height+m+n;c.width=o*b,c.height=p*b,d.scale(b,b),d.clearRect(0,0,o,p),d.dpr=b;var q={position:a.position,rotation:a.rotation,scale:a.scale};a.position=[k-e.x,m-e.y],a.rotation=0,a.scale=[1,1],a.updateTransform(),a&&a.brush(d);var r=new Vb({style:{x:0,y:0,image:c}});return null!=q.position&&(r.position=a.position=q.position),null!=q.rotation&&(r.rotation=a.rotation=q.rotation),null!=q.scale&&(r.scale=a.scale=q.scale),r}};var $p="undefined"!=typeof window&&!!window.addEventListener,_p=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,aq=$p?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0},bq=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,So.call(this)};bq.prototype={constructor:bq,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;for(var b=a.getClips(),c=0;c<b.length;c++)this.addClip(b[c])},removeClip:function(a){var b=i(this._clips,a);b>=0&&this._clips.splice(b,1)},removeAnimator:function(a){for(var b=a.getClips(),c=0;c<b.length;c++)this.removeClip(b[c]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,b=a-this._time,c=this._clips,d=c.length,e=[],f=[],g=0;g<d;g++){var h=c[g],i=h.step(a,b);i&&(e.push(i),f.push(h))}for(g=0;g<d;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;for(d=e.length,g=0;g<d;g++)f[g].fire(e[g]);this._time=a,this.onframe(b),this.trigger("frame",b),this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(Lp(a),!b._paused&&b._update())}var b=this;this._running=!0,Lp(a)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(a,b){var c=new op(a,(b=b||{}).loop,b.getter,b.setter);return this.addAnimator(c),c}},k(bq,So);var cq=function(){this._track=[]};cq.prototype={constructor:cq,recognize:function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(a,b,c){var d=a.touches;if(d){for(var e={points:[],touches:[],target:b,event:a},f=0,g=d.length;f<g;f++){var h=d[f],i=bc(c,h,{});e.points.push([i.zrX,i.zrY]),e.touches.push(h)}this._track.push(e)}},_recognize:function(a){for(var b in dq)if(dq.hasOwnProperty(b)){var c=dq[b](this._track,a);if(c)return c}}};var dq={pinch:function(a,b){var c=a.length;if(c){var d=(a[c-1]||{}).points,e=(a[c-2]||{}).points||d;if(e&&e.length>1&&d&&d.length>1){var f=hc(d)/hc(e);!isFinite(f)&&(f=1),b.pinchScale=f;var g=ic(d);return b.pinchX=g[0],b.pinchY=g[1],{type:"pinch",target:a[0].target,event:b}}}}},eq=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],fq=["touchstart","touchend","touchmove"],gq={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},hq=n(eq,function(a){var b=a.replace("mouse","pointer");return gq[b]?b:a}),iq={mousemove:function(a){a=dc(this.dom,a),this.trigger("mousemove",a)},mouseout:function(a){var b=(a=dc(this.dom,a)).toElement||a.relatedTarget;if(b!=this.dom)for(;b&&9!=b.nodeType;){if(b===this.dom)return;b=b.parentNode}this.trigger("mouseout",a)},touchstart:function(a){(a=dc(this.dom,a)).zrByTouch=!0,this._lastTouchMoment=new Date,kc(this,a,"start"),iq.mousemove.call(this,a),iq.mousedown.call(this,a),lc(this)},touchmove:function(a){(a=dc(this.dom,a)).zrByTouch=!0,kc(this,a,"change"),iq.mousemove.call(this,a),lc(this)},touchend:function(a){(a=dc(this.dom,a)).zrByTouch=!0,kc(this,a,"end"),iq.mouseup.call(this,a),+new Date-this._lastTouchMoment<300&&iq.click.call(this,a),lc(this)},pointerdown:function(a){iq.mousedown.call(this,a)},pointermove:function(a){mc(a)||iq.mousemove.call(this,a)},pointerup:function(a){iq.mouseup.call(this,a)},pointerout:function(a){mc(a)||iq.mouseout.call(this,a)}};m(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){iq[a]=function(b){b=dc(this.dom,b),this.trigger(a,b)}});var jq=oc.prototype;jq.dispose=function(){for(var a=eq.concat(fq),b=0;b<a.length;b++){var c=a[b];fc(this.dom,jc(c),this._handlers[c])}},jq.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},k(oc,So);var kq=!wo.canvasSupported,lq={canvas:Zp},mq={},nq=function(a,b,c){c=c||{},this.dom=b,this.id=a;var d=this,e=new Bp,f=c.renderer;if(kq){if(!lq.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");f="vml"}else f&&lq[f]||(f="canvas");var g=new lq[f](b,e,c,a);this.storage=e,this.painter=g;var h=wo.node||wo.worker?null:new oc(g.getViewportRoot());this.handler=new Vo(e,g,h,g.root),this.animation=new bq({stage:{update:q(this.flush,this)}}),this.animation.start(),this._needsRefresh;var i=e.delFromStorage,j=e.addToStorage;e.delFromStorage=function(a){i.call(e,a),a&&a.removeSelfFromZr(d)},e.addToStorage=function(a){j.call(e,a),a.addSelfToZr(d)}};nq.prototype={constructor:nq,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer&&this.painter.configLayer(a,b),this._needsRefresh=!0},setBackgroundColor:function(a){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var a;this._needsRefresh&&(a=!0,this.refreshImmediately()),this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately()),a&&this.trigger("rendered")},addHover:function(a,b){this.painter.addHover&&(this.painter.addHover(a,b),this.refreshHover())},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{},this.painter.resize(a.width,a.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,b){return this.handler.findHover(a,b)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,rc(this.id)}};var oq=(Object.freeze||Object)({version:"4.0.4",init:pc,dispose:function(a){if(a)a.dispose();else{for(var b in mq)mq.hasOwnProperty(b)&&mq[b].dispose();mq={}}return this},getInstance:function(a){return mq[a]},registerPainter:qc}),pq=m,qq=v,rq=s,sq="series\0",tq=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],uq=0,vq=".",wq="___EC__COMPONENT__CONTAINER___",xq=0,yq=function(a){for(var b=0;b<a.length;b++)a[b][1]||(a[b][1]=a[b][0]);return function(b,c,d){for(var e={},f=0;f<a.length;f++){var g=a[f][1];if(!(c&&i(c,g)>=0||d&&i(d,g)<0)){var h=b.getShallow(g);null!=h&&(e[a[f][0]]=h)}}return e}},zq=yq([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Aq={getLineStyle:function(a){var b=zq(this,a),c=this.getLineDash(b.lineWidth);return c&&(b.lineDash=c),b},getLineDash:function(a){null==a&&(a=1);var b=this.get("type"),c=Math.max(a,2),d=4*a;return"solid"===b||null==b?null:"dashed"===b?[d,d]:[c,c]}},Bq=yq([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Cq={getAreaStyle:function(a,b){return Bq(this,a,b)}},Dq=Math.pow,Eq=Math.sqrt,Fq=1e-8,Gq=1e-4,Hq=Eq(3),Iq=1/3,Jq=M(),Kq=M(),Lq=M(),Mq=Math.min,Nq=Math.max,Oq=Math.sin,Pq=Math.cos,Qq=2*Math.PI,Rq=M(),Sq=M(),Tq=M(),Uq=[],Vq=[],Wq={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Xq=[],Yq=[],Zq=[],$q=[],_q=Math.min,ar=Math.max,br=Math.cos,cr=Math.sin,dr=Math.sqrt,er=Math.abs,fr="undefined"!=typeof Float32Array,gr=function(a){this._saveData=!a,this._saveData&&(this.data=[]),this._ctx=null};gr.prototype={constructor:gr,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,b){this._ux=er(1/qp/a)||0,this._uy=er(1/qp/b)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData(Wq.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){var c=er(a-this._xi)>this._ux||er(b-this._yi)>this._uy||this._len<5;return this.addData(Wq.L,a,b),this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),c&&(this._xi=a,this._yi=b),this},bezierCurveTo:function(a,b,c,d,e,f){return this.addData(Wq.C,a,b,c,d,e,f),this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,f):this._ctx.bezierCurveTo(a,b,c,d,e,f)),this._xi=e,this._yi=f,this},quadraticCurveTo:function(a,b,c,d){return this.addData(Wq.Q,a,b,c,d),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d)),this._xi=c,this._yi=d,this},arc:function(a,b,c,d,e,f){return this.addData(Wq.A,a,b,c,c,d,e-d,0,f?0:1),this._ctx&&this._ctx.arc(a,b,c,d,e,f),this._xi=br(e)*c+a,this._yi=cr(e)*c+a,this},arcTo:function(a,b,c,d,e){return this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},rect:function(a,b,c,d){return this._ctx&&this._ctx.rect(a,b,c,d),this.addData(Wq.R,a,b,c,d),this},closePath:function(){this.addData(Wq.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath()),this._xi=b,this._yi=c,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a,this._dashIdx=0;for(var b=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length==b||!fr||(this.data=new Float32Array(b));for(var c=0;c<b;c++)this.data[c]=a[c];this._len=b},appendPath:function(a){a instanceof Array||(a=[a]);for(var b=a.length,c=0,d=this._len,e=0;e<b;e++)c+=a[e].len();for(fr&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c)),e=0;e<b;e++)for(var f=a[e].data,g=0;g<f.length;g++)this.data[d++]=f[g];this._len=d},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var c,d,e=this._dashSum,f=this._dashOffset,g=this._lineDash,h=this._ctx,i=this._xi,j=this._yi,k=a-i,l=b-j,m=dr(k*k+l*l),n=i,o=j,p=g.length;for(k/=m,l/=m,f<0&&(f=e+f),n-=(f%=e)*k,o-=f*l;k>0&&n<=a||k<0&&n>=a||0==k&&(l>0&&o<=b||l<0&&o>=b);)n+=k*(c=g[d=this._dashIdx]),o+=l*c,this._dashIdx=(d+1)%p,k>0&&n<i||k<0&&n>i||l>0&&o<j||l<0&&o>j||h[d%2?"moveTo":"lineTo"](k>=0?_q(n,a):ar(n,a),l>=0?_q(o,b):ar(o,b));k=n-a,l=o-b,this._dashOffset=-dr(k*k+l*l)},_dashedBezierTo:function(a,b,c,d,e,f){var g,h,i,j,k,l=this._dashSum,m=this._dashOffset,n=this._lineDash,o=this._ctx,p=this._xi,q=this._yi,r=Pc,s=0,t=this._dashIdx,u=n.length,v=0;for(m<0&&(m=l+m),m%=l,g=0;g<1;g+=.1)h=r(p,a,c,e,g+.1)-r(p,a,c,e,g),i=r(q,b,d,f,g+.1)-r(q,b,d,f,g),s+=dr(h*h+i*i);for(;t<u&&!((v+=n[t])>m);t++);for(g=(v-m)/s;g<=1;)j=r(p,a,c,e,g),k=r(q,b,d,f,g),t%2?o.moveTo(j,k):o.lineTo(j,k),g+=n[t]/s,t=(t+1)%u;t%2!=0&&o.lineTo(e,f),h=e-j,i=f-k,this._dashOffset=-dr(h*h+i*i)},_dashedQuadraticTo:function(a,b,c,d){var e=c,f=d;c=(c+2*a)/3,d=(d+2*b)/3,a=(this._xi+2*a)/3,b=(this._yi+2*b)/3,this._dashedBezierTo(a,b,c,d,e,f)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,fr&&(this.data=new Float32Array(a)))},getBoundingRect:function(){Xq[0]=Xq[1]=Zq[0]=Zq[1]=Number.MAX_VALUE,Yq[0]=Yq[1]=$q[0]=$q[1]=-Number.MAX_VALUE;for(var a=this.data,b=0,c=0,d=0,e=0,f=0;f<a.length;){var g=a[f++];switch(1==f&&(d=b=a[f],e=c=a[f+1]),g){case Wq.M:b=d=a[f++],c=e=a[f++],Zq[0]=d,Zq[1]=e,$q[0]=d,$q[1]=e;break;case Wq.L:ad(b,c,a[f],a[f+1],Zq,$q),b=a[f++],c=a[f++];break;case Wq.C:bd(b,c,a[f++],a[f++],a[f++],a[f++],a[f],a[f+1],Zq,$q),b=a[f++],c=a[f++];break;case Wq.Q:cd(b,c,a[f++],a[f++],a[f],a[f+1],Zq,$q),b=a[f++],c=a[f++];break;case Wq.A:var h=a[f++],i=a[f++],j=a[f++],k=a[f++],l=a[f++],m=a[f++]+l,n=(a[f++],1-a[f++]);1==f&&(d=br(l)*j+h,e=cr(l)*k+i),dd(h,i,j,k,l,m,n,Zq,$q),b=br(m)*j+h,c=cr(m)*k+i;break;case Wq.R:ad(d=b=a[f++],e=c=a[f++],d+a[f++],e+a[f++],Zq,$q);break;case Wq.Z:b=d,c=e}Z(Xq,Xq,Zq),$(Yq,Yq,$q)}return 0===f&&(Xq[0]=Xq[1]=Yq[0]=Yq[1]=0),new Ua(Xq[0],Xq[1],Yq[0]-Xq[0],Yq[1]-Xq[1])},rebuildPath:function(a){for(var b,c,d,e,f,g,h=this.data,i=this._ux,j=this._uy,k=this._len,l=0;l<k;){var m=h[l++];switch(1==l&&(b=d=h[l],c=e=h[l+1]),m){case Wq.M:b=d=h[l++],c=e=h[l++],a.moveTo(d,e);break;case Wq.L:f=h[l++],g=h[l++],(er(f-d)>i||er(g-e)>j||l===k-1)&&(a.lineTo(f,g),d=f,e=g);break;case Wq.C:a.bezierCurveTo(h[l++],h[l++],h[l++],h[l++],h[l++],h[l++]),d=h[l-2],e=h[l-1];break;case Wq.Q:a.quadraticCurveTo(h[l++],h[l++],h[l++],h[l++]),d=h[l-2],e=h[l-1];break;case Wq.A:var n=h[l++],o=h[l++],p=h[l++],q=h[l++],r=h[l++],s=h[l++],t=h[l++],u=h[l++],v=p>q?p:q,w=p>q?1:p/q,x=p>q?q/p:1,y=r+s;Math.abs(p-q)>.001?(a.translate(n,o),a.rotate(t),a.scale(w,x),a.arc(0,0,v,r,y,1-u),a.scale(1/w,1/x),a.rotate(-t),a.translate(-n,-o)):a.arc(n,o,v,r,y,1-u),1==l&&(b=br(r)*p+n,c=cr(r)*q+o),d=br(y)*p+n,e=cr(y)*q+o;break;case Wq.R:b=d=h[l],c=e=h[l+1],a.rect(h[l++],h[l++],h[l++],h[l++]);break;case Wq.Z:a.closePath(),d=b,e=c}}}},gr.CMD=Wq;var hr=2*Math.PI,ir=2*Math.PI,jr=gr.CMD,kr=2*Math.PI,lr=1e-4,mr=[-1,-1,-1],nr=[-1,-1],or=Jp.prototype.getCanvasPattern,pr=Math.abs,qr=new gr(!0);sd.prototype={constructor:sd,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(a,b){var c=this.style,d=this.path||qr,e=c.hasStroke(),f=c.hasFill(),g=c.fill,h=c.stroke,i=f&&!!g.colorStops,j=e&&!!h.colorStops,k=f&&!!g.image,l=e&&!!h.image;if(c.bind(a,this,b),this.setTransform(a),this.__dirty){var m;i&&(m=m||this.getBoundingRect(),this._fillGradient=c.getGradient(a,g,m)),j&&(m=m||this.getBoundingRect(),this._strokeGradient=c.getGradient(a,h,m))}i?a.fillStyle=this._fillGradient:k&&(a.fillStyle=or.call(g,a)),j?a.strokeStyle=this._strokeGradient:l&&(a.strokeStyle=or.call(h,a));var n=c.lineDash,o=c.lineDashOffset,p=!!a.setLineDash,q=this.getGlobalScale();d.setScale(q[0],q[1]),this.__dirtyPath||n&&!p&&e?(d.beginPath(a),n&&!p&&(d.setLineDash(n),d.setLineDashOffset(o)),this.buildPath(d,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(a.beginPath(),this.path.rebuildPath(a)),f&&d.fill(a),n&&p&&(a.setLineDash(n),a.lineDashOffset=o),e&&d.stroke(a),n&&p&&a.setLineDash([]),null!=c.text&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))},buildPath:function(a,b,c){},createPathProxy:function(){this.path=new gr},getBoundingRect:function(){var a=this._rect,b=this.style,c=!a;if(c){var d=this.path;d||(d=this.path=new gr),this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1)),a=d.getBoundingRect()}if(this._rect=a,b.hasStroke()){var e=this._rectWithStroke||(this._rectWithStroke=a.clone());if(this.__dirty||c){e.copy(a);var f=b.lineWidth,g=b.strokeNoScale?this.getLineScale():1;b.hasFill()||(f=Math.max(f,this.strokeContainThreshold||4)),g>1e-10&&(e.width+=f/g,e.height+=f/g,e.x-=f/g/2,e.y-=f/g/2)}return e}return a},contain:function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),e=this.style;if(a=c[0],b=c[1],d.contain(a,b)){var f=this.path.data;if(e.hasStroke()){var g=e.lineWidth,h=e.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(e.hasFill()||(g=Math.max(g,this.strokeContainThreshold)),rd(f,g/h,a,b)))return!0}if(e.hasFill())return qd(f,a,b)}return!1},dirty:function(a){null==a&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):Ub.prototype.attrKV.call(this,a,b)},setShape:function(a,b){var c=this.shape;if(c){if(v(a))for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);else c[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&pr(a[0]-1)>1e-10&&pr(a[3]-1)>1e-10?Math.sqrt(pr(a[0]*a[3]-a[2]*a[1])):1}},sd.extend=function(a){var b=function(b){sd.call(this,b),a.style&&this.style.extendFrom(a.style,!1);var c=a.shape;if(c){this.shape=this.shape||{};var d=this.shape;for(var e in c)!d.hasOwnProperty(e)&&c.hasOwnProperty(e)&&(d[e]=c[e])}a.init&&a.init.call(this,b)};j(b,sd);for(var c in a)"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c]);return b},j(sd,Ub);var rr=gr.CMD,sr=[[],[],[]],tr=Math.sqrt,ur=Math.atan2,vr=function(a,b){var c,d,e,f,g,h,i=a.data,j=rr.M,k=rr.C,l=rr.L,m=rr.R,n=rr.A,o=rr.Q;for(e=0,f=0;e<i.length;){switch(c=i[e++],f=e,d=0,c){case j:case l:d=1;break;case k:d=3;break;case o:d=2;break;case n:var p=b[4],q=b[5],r=tr(b[0]*b[0]+b[1]*b[1]),s=tr(b[2]*b[2]+b[3]*b[3]),t=ur(-b[1]/s,b[0]/r);i[e]*=r,i[e++]+=p,i[e]*=s,i[e++]+=q,i[e++]*=r,i[e++]*=s,i[e++]+=t,i[e++]+=t,f=e+=2;break;case m:h[0]=i[e++],h[1]=i[e++],Y(h,h,b),i[f++]=h[0],i[f++]=h[1],h[0]+=i[e++],h[1]+=i[e++],Y(h,h,b),i[f++]=h[0],i[f++]=h[1]}for(g=0;g<d;g++)(h=sr[g])[0]=i[e++],h[1]=i[e++],Y(h,h,b),i[f++]=h[0],i[f++]=h[1]}},wr=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],xr=Math.sqrt,yr=Math.sin,zr=Math.cos,Ar=Math.PI,Br=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},Cr=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Br(a)*Br(b))},Dr=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(Cr(a,b))},Er=function(a){Ub.call(this,a)};Er.prototype={constructor:Er,type:"text",brush:function(a,b){var c=this.style;this.__dirty&&Cb(c),c.fill=c.stroke=c.shadowBlur=c.shadowColor=c.shadowOffsetX=c.shadowOffsetY=null;var d=c.text;null!=d&&(d+=""),c.bind(a,this,b),Tb(d,c)&&(this.setTransform(a),Eb(this,a,d,c),this.restoreTransform(a))},getBoundingRect:function(){var a=this.style;if(this.__dirty&&Cb(a),!this._rect){var b=a.text;null!=b?b+="":b="";var c=lb(a.text+"",a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.rich);if(c.x+=a.x||0,c.y+=a.y||0,Pb(a.textStroke,a.textStrokeWidth)){var d=a.textStrokeWidth;c.x-=d/2,c.y-=d/2,c.width+=d,c.height+=d}this._rect=c}return this._rect}},j(Er,Ub);var Fr=sd.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy),a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}}),Gr=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Hr=function(a){return wo.browser.ie&&wo.browser.version>=11?function(){var b,c=this.__clipPaths,d=this.style;if(c)for(var e=0;e<c.length;e++){var f=c[e],g=f&&f.shape,h=f&&f.type;if(g&&("sector"===h&&g.startAngle===g.endAngle||"rect"===h&&(!g.width||!g.height))){for(i=0;i<Gr.length;i++)Gr[i][2]=d[Gr[i][0]],d[Gr[i][0]]=Gr[i][1];b=!0;break}}if(a.apply(this,arguments),b)for(var i=0;i<Gr.length;i++)d[Gr[i][0]]=Gr[i][2]}:a},Ir=sd.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Hr(sd.prototype.brush),buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=b.startAngle,h=b.endAngle,i=b.clockwise,j=Math.cos(g),k=Math.sin(g);a.moveTo(j*e+c,k*e+d),a.lineTo(j*f+c,k*f+d),a.arc(c,d,f,g,h,!i),a.lineTo(Math.cos(h)*e+c,Math.sin(h)*e+d),0!==e&&a.arc(c,d,e,h,g,i),a.closePath()}}),Jr=sd.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=2*Math.PI;a.moveTo(c+b.r,d),a.arc(c,d,b.r,0,e,!1),a.moveTo(c+b.r0,d),a.arc(c,d,b.r0,0,e,!0)}}),Kr=function(a,b){for(var c=a.length,d=[],e=0,f=1;f<c;f++)e+=W(a[f-1],a[f]);var g=e/2;for(g=g<c?c:g,f=0;f<g;f++){var h,i,j,k=f/(g-1)*(b?c:c-1),l=Math.floor(k),m=k-l,n=a[l%c];b?(h=a[(l-1+c)%c],i=a[(l+1)%c],j=a[(l+2)%c]):(h=a[0===l?l:l-1],i=a[l>c-2?c-1:l+1],j=a[l>c-3?c-1:l+2]);var o=m*m,p=m*o;d.push([yd(h[0],n[0],i[0],j[0],m,o,p),yd(h[1],n[1],i[1],j[1],m,o,p)])}return d},Lr=function(a,b,c,d){var e,f,g,h,i=[],j=[],k=[],l=[];if(d){g=[1/0,1/0],h=[-1/0,-1/0];for(var m=0,n=a.length;m<n;m++)Z(g,g,a[m]),$(h,h,a[m]);Z(g,g,d[0]),$(h,h,d[1])}for(var m=0,n=a.length;m<n;m++){var o=a[m];if(c)e=a[m?m-1:n-1],f=a[(m+1)%n];else{if(0===m||m===n-1){i.push(O(a[m]));continue}e=a[m-1],f=a[m+1]}R(j,f,e),U(j,j,b);var p=W(o,e),q=W(o,f),r=p+q;0!==r&&(p/=r,q/=r),U(k,j,-p),U(l,j,q);var s=P([],o,k),t=P([],o,l);d&&($(s,s,g),Z(s,s,h),$(t,t,g),Z(t,t,h)),i.push(s),i.push(t)}return c&&i.push(i.shift()),i},Mr=sd.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){zd(a,b,!0)}}),Nr=sd.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){zd(a,b,!1)}}),Or=sd.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width,f=b.height;b.r?Bb(a,b):a.rect(c,d,e,f),a.closePath()}}),Pr=sd.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.percent;0!==g&&(a.moveTo(c,d),g<1&&(e=c*(1-g)+e*g,f=d*(1-g)+f*g),a.lineTo(e,f))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),Qr=[],Rr=sd.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.cpx1,h=b.cpy1,i=b.cpx2,j=b.cpy2,k=b.percent;0!==k&&(a.moveTo(c,d),null==i||null==j?(k<1&&(Zc(c,g,e,k,Qr),g=Qr[1],e=Qr[2],Zc(d,h,f,k,Qr),h=Qr[1],f=Qr[2]),a.quadraticCurveTo(g,h,e,f)):(k<1&&(Tc(c,g,i,e,k,Qr),g=Qr[1],i=Qr[2],e=Qr[3],Tc(d,h,j,f,k,Qr),h=Qr[1],j=Qr[2],f=Qr[3]),a.bezierCurveTo(g,h,i,j,e,f)))},pointAt:function(a){return Ad(this.shape,a,!1)},tangentAt:function(a){var b=Ad(this.shape,a,!0);return V(b,b)}}),Sr=sd.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle,h=b.clockwise,i=Math.cos(f),j=Math.sin(f);a.moveTo(i*e+c,j*e+d),a.arc(c,d,e,f,g,!h)}}),Tr=sd.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++)a=a||b[c].__dirtyPath;this.__dirtyPath=a,this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++)a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1])},buildPath:function(a,b){for(var c=b.paths||[],d=0;d<c.length;d++)c[d].buildPath(a,c[d].shape,!0)},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++)a[b].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),sd.prototype.getBoundingRect.call(this)}}),Ur=function(a){this.colorStops=a||[]};Ur.prototype={constructor:Ur,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}};var Vr=function(a,b,c,d,e,f){this.x=null==a?0:a,this.y=null==b?0:b,this.x2=null==c?1:c,this.y2=null==d?0:d,this.type="linear",this.global=f||!1,Ur.call(this,e)};Vr.prototype={constructor:Vr},j(Vr,Ur);var Wr=function(a,b,c,d,e){this.x=null==a?.5:a,this.y=null==b?.5:b,this.r=null==c?.5:c,this.type="radial",this.global=e||!1,Ur.call(this,d)};Wr.prototype={constructor:Wr},j(Wr,Ur),Bd.prototype.incremental=!0,Bd.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Bd.prototype.addDisplayable=function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a),this.dirty()},Bd.prototype.addDisplayables=function(a,b){b=b||!1;for(var c=0;c<a.length;c++)this.addDisplayable(a[c],b)},Bd.prototype.eachPendingDisplayable=function(a){for(b=this._cursor;b<this._displayables.length;b++)a&&a(this._displayables[b]);for(var b=0;b<this._temporaryDisplayables.length;b++)a&&a(this._temporaryDisplayables[b])},Bd.prototype.update=function(){for(this.updateTransform(),a=this._cursor;a<this._displayables.length;a++)(b=this._displayables[a]).parent=this,b.update(),b.parent=null;for(var a=0;a<this._temporaryDisplayables.length;a++){var b=this._temporaryDisplayables[a];b.parent=this,b.update(),b.parent=null}},Bd.prototype.brush=function(a,b){for(c=this._cursor;c<this._displayables.length;c++)(d=this._displayables[c]).beforeBrush&&d.beforeBrush(a),d.brush(a,c===this._cursor?null:this._displayables[c-1]),d.afterBrush&&d.afterBrush(a);this._cursor=c;for(var c=0;c<this._temporaryDisplayables.length;c++){var d=this._temporaryDisplayables[c];d.beforeBrush&&d.beforeBrush(a),d.brush(a,0===c?null:this._temporaryDisplayables[c-1]),d.afterBrush&&d.afterBrush(a)}this._temporaryDisplayables=[],this.notClear=!0};var Xr=[];Bd.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new Ua(1/0,1/0,-1/0,-1/0),b=0;b<this._displayables.length;b++){var c=this._displayables[b],d=c.getBoundingRect().clone();c.needLocalTransform()&&d.applyTransform(c.getLocalTransform(Xr)),a.union(d)}this._rect=a}return this._rect},Bd.prototype.contain=function(a,b){var c=this.transformCoordToLocal(a,b);if(this.getBoundingRect().contain(c[0],c[1]))for(var d=0;d<this._displayables.length;d++)if(this._displayables[d].contain(a,b))return!0;return!1},j(Bd,Ub);var Yr=Math.round,Zr=Math.max,$r=Math.min,_r={},as=(Object.freeze||Object)({extendShape:Cd,extendPath:function(a,b){return xd(a,b)},makePath:Dd,makeImage:Ed,mergePath:function(a,b){for(var c=[],d=a.length,e=0;e<d;e++){var f=a[e];f.path||f.createPathProxy(),f.__dirtyPath&&f.buildPath(f.path,f.shape,!0),c.push(f.path)}var g=new sd(b);return g.createPathProxy(),g.buildPath=function(a){a.appendPath(c);var b=a.getContext();b&&a.rebuildPath(b)},g},resizePath:Gd,subPixelOptimizeLine:Hd,subPixelOptimizeRect:Id,subPixelOptimize:Jd,setHoverStyle:Wd,setLabelStyle:Xd,setTextStyle:Yd,setText:function(a,b,c){var d,e={isRectText:!0};!1===c?d=!0:e.autoColor=c,Zd(a,b,e,d),a.host&&a.host.dirty&&a.host.dirty(!1)},getFont:de,updateProps:fe,initProps:ge,getTransform:he,applyTransform:ie,transformDirection:je,groupTransition:ke,clipPointsByRect:le,clipRectByRect:function(a,b){var c=Zr(a.x,b.x),d=$r(a.x+a.width,b.x+b.width),e=Zr(a.y,b.y),f=$r(a.y+a.height,b.y+b.height);if(d>=c&&f>=e)return{x:c,y:e,width:d-c,height:f-e}},createIcon:me,Group:yp,Image:Vb,Text:Er,Circle:Fr,Sector:Ir,Ring:Jr,Polygon:Mr,Polyline:Nr,Rect:Or,Line:Pr,BezierCurve:Rr,Arc:Sr,IncrementalDisplayable:Bd,CompoundPath:Tr,LinearGradient:Vr,RadialGradient:Wr,BoundingRect:Ua}),bs=["textStyle","color"],cs={getTextColor:function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(bs):null)},getFont:function(){return de({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return lb(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},ds=yq([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),es={getItemStyle:function(a,b){var c=ds(this,a,b),d=this.getBorderLineDash();return d&&(c.lineDash=d),c},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}},fs=k,gs=Bc();ne.prototype={constructor:ne,init:null,mergeOption:function(a){d(this.option,a,!0)},get:function(a,b){return null==a?this.option:oe(this.option,this.parsePath(a),!b&&pe(this,a))},getShallow:function(a,b){var c=this.option,d=null==c?c:c[a],e=!b&&pe(this,a);return null==d&&e&&(d=e.getShallow(a)),d},getModel:function(a,b){var c,d=null==a?this.option:oe(this.option,a=this.parsePath(a));return b=b||(c=pe(this,a))&&c.getModel(a),new ne(d,b,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(c(this.option))},setReadOnly:function(a){},parsePath:function(a){return"string"==typeof a&&(a=a.split(".")),a},customizeGetParent:function(a){gs(this).getParent=a},isAnimationEnabled:function(){if(!wo.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Ic(ne),Jc(ne),fs(ne,Aq),fs(ne,Cq),fs(ne,cs),fs(ne,es);var hs=0,is=1e-4,js=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,ks=(Object.freeze||Object)({linearMap:se,parsePercent:te,round:ue,asc:ve,getPrecision:we,getPrecisionSafe:xe,getPixelPrecision:ye,getPercentWithPrecision:ze,MAX_SAFE_INTEGER:9007199254740991,remRadian:Ae,isRadianAroundZero:Be,parseDate:Ce,quantity:De,nice:Fe,quantile:function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},reformIntervals:function(a){function b(a,c,d){return a.interval[d]<c.interval[d]||a.interval[d]===c.interval[d]&&(a.close[d]-c.close[d]==(d?-1:1)||!d&&b(a,c,1))}a.sort(function(a,c){return b(a,c,0)?-1:1});for(var c=-1/0,d=1,e=0;e<a.length;){for(var f=a[e].interval,g=a[e].close,h=0;h<2;h++)f[h]<=c&&(f[h]=c,g[h]=h?1:1-d),c=f[h],d=g[h];f[0]===f[1]&&g[0]*g[1]!=1?a.splice(e,1):e++}return a},isNumeric:function(a){return a-parseFloat(a)>=0}}),ls=E,ms=/([&<>"'])/g,ns={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},os=["a","b","c","d","e","f","g"],ps=function(a,b){return"{"+a+(null==b?"":b)+"}"},qs=rb,rs=lb,ss=(Object.freeze||Object)({addCommas:Ge,toCamelCase:He,normalizeCssArray:ls,encodeHTML:Ie,formatTpl:Je,formatTplSimple:function(a,b,c){return m(b,function(b,d){a=a.replace("{"+d+"}",c?Ie(b):b)}),a},getTooltipMarker:Ke,formatTime:Me,capitalFirst:Ne,truncateText:qs,getTextRect:rs}),ts=m,us=["left","right","top","bottom","width","height"],vs=[["width","left","right"],["height","top","bottom"]],ws=Oe,xs=(r(Oe,"vertical"),r(Oe,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),ys=Bc(),zs=ne.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(a,b,c,d){ne.call(this,a,b,c,d),this.uid=qe("ec_cpt_model")},init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,e=c?Se(a):{};d(a,b.getTheme().get(this.mainType)),d(a,this.getDefaultOption()),c&&Re(a,e,c)},mergeOption:function(a,b){d(this.option,a,!0);var c=this.layoutMode;c&&Re(this.option,a,c)},optionUpdated:function(a,b){},getDefaultOption:function(){var a=ys(this);if(!a.defaultOption){for(var b=[],c=this.constructor;c;){var e=c.prototype.defaultOption;e&&b.push(e),c=c.superClass}for(var f={},g=b.length-1;g>=0;g--)f=d(f,b[g],!0);a.defaultOption=f}return a.defaultOption},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});Mc(zs,{registerWhenExtend:!0}),function(a){var b={};a.registerSubTypeDefaulter=function(a,c){a=Gc(a),b[a.main]=c},a.determineSubType=function(c,d){var e=d.type;if(!e){var f=Gc(c).main;a.hasSubTypes(c)&&b[f]&&(e=b[f](d))}return e}}(zs),function(a,b){function c(a){var c={},f=[];return m(a,function(g){var h=d(c,g),j=e(h.originalDeps=b(g),a);h.entryCount=j.length,0===h.entryCount&&f.push(g),m(j,function(a){i(h.predecessor,a)<0&&h.predecessor.push(a);var b=d(c,a);i(b.successor,a)<0&&b.successor.push(g)})}),{graph:c,noEntryList:f}}function d(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}function e(a,b){var c=[];return m(a,function(a){i(b,a)>=0&&c.push(a)}),c}a.topologicalTravel=function(a,b,d,e){function f(a){0===--h[a].entryCount&&i.push(a)}if(a.length){var g=c(b),h=g.graph,i=g.noEntryList,j={};for(m(a,function(a){j[a]=!0});i.length;){var k=i.pop(),l=h[k],n=!!j[k];n&&(d.call(e,k,l.originalDeps.slice()),delete j[k]),m(l.successor,n?function(a){j[a]=!0,f(a)}:f)}m(j,function(){throw new Error("Circle dependency may exists")})}}}(zs,function(a){var b=[];return m(zs.getClassesByMainType(a),function(a){b=b.concat(a.prototype.dependencies||[])}),b=n(b,function(a){return Gc(a).main}),"dataset"!==a&&i(b,"dataset")<=0&&b.unshift("dataset"),b}),k(zs,xs);var As="";"undefined"!=typeof navigator&&(As=navigator.platform||"");var Bs={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:As.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Cs=Bc(),Ds={clearColorPalette:function(){Cs(this).colorIdx=0,Cs(this).colorNameMap={}},getColorFromPalette:function(a,b,c){var d=Cs(b=b||this),e=d.colorIdx||0,f=d.colorNameMap=d.colorNameMap||{};if(f.hasOwnProperty(a))return f[a];var g=sc(this.get("color",!0)),h=this.get("colorLayer",!0),i=null!=c&&h?Ue(h,c):g;if((i=i||g)&&i.length){var j=i[e];return a&&(f[a]=j),d.colorIdx=(e+1)%i.length,j}}},Es={cartesian2d:function(a,b,c,d){var e=a.getReferringComponents("xAxis")[0],f=a.getReferringComponents("yAxis")[0];b.coordSysDims=["x","y"],c.set("x",e),c.set("y",f),We(e)&&(d.set("x",e),b.firstCategoryDimIndex=0),We(f)&&(d.set("y",f),b.firstCategoryDimIndex=1)},singleAxis:function(a,b,c,d){var e=a.getReferringComponents("singleAxis")[0];b.coordSysDims=["single"],c.set("single",e),We(e)&&(d.set("single",e),b.firstCategoryDimIndex=0)},polar:function(a,b,c,d){var e=a.getReferringComponents("polar")[0],f=e.findAxisModel("radiusAxis"),g=e.findAxisModel("angleAxis");b.coordSysDims=["radius","angle"],c.set("radius",f),c.set("angle",g),We(f)&&(d.set("radius",f),b.firstCategoryDimIndex=0),We(g)&&(d.set("angle",g),b.firstCategoryDimIndex=1)},geo:function(a,b,c,d){b.coordSysDims=["lng","lat"]},parallel:function(a,b,c,d){var e=a.ecModel,f=e.getComponent("parallel",a.get("parallelIndex")),g=b.coordSysDims=f.dimensions.slice();m(f.parallelAxisIndex,function(a,f){var h=e.getComponent("parallelAxis",a),i=g[f];c.set(i,h),We(h)&&null==b.firstCategoryDimIndex&&(d.set(i,h),b.firstCategoryDimIndex=f)})}},Fs="original",Gs="arrayRows",Hs="objectRows",Is="keyedColumns",Js="unknown",Ks="typedArray",Ls="column",Ms="row";Xe.seriesDataToSource=function(a){return new Xe({data:a,sourceFormat:x(a)?Ks:Fs,fromDataset:!1})},Jc(Xe);var Ns=Bc(),Os="\0_ec_inner",Ps=ne.extend({init:function(a,b,c,d){c=c||{},this.option=null,this._theme=new ne(c),this._optionManager=d},setOption:function(a,b){F(!(Os in a),"please use chart.getOption()"),this._optionManager.setOption(a,b),this.resetOption(null)},resetOption:function(a){var b=!1,c=this._optionManager;if(!a||"recreate"===a){var d=c.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this.mergeOption(d)):lf.call(this,d),b=!0}if("timeline"!==a&&"media"!==a||this.restoreData(),!a||"recreate"===a||"timeline"===a){var e=c.getTimelineOption(this);e&&(this.mergeOption(e),b=!0)}if(!a||"recreate"===a||"media"===a){var f=c.getMediaOption(this,this._api);f.length&&m(f,function(a){this.mergeOption(a,b=!0)},this)}return b},mergeOption:function(a){var b=this.option,e=this._componentsMap,g=[];$e(this),m(a,function(a,e){null!=a&&(zs.hasClass(e)?e&&g.push(e):b[e]=null==b[e]?c(a):d(b[e],a,!0))}),zs.topologicalTravel(g,zs.getAllClassMainTypes(),function(c,d){var g=sc(a[c]),h=wc(e.get(c),g);xc(h),m(h,function(a,b){var d=a.option;v(d)&&(a.keyInfo.mainType=c,a.keyInfo.subType=nf(c,d,a.exist))});var i=mf(e,d);b[c]=[],e.set(c,[]),m(h,function(a,d){var g=a.exist,h=a.option;if(F(v(h)||g,"Empty component definition"),h){var j=zs.getClass(c,a.keyInfo.subType,!0);if(g&&g instanceof j)g.name=a.keyInfo.name,g.mergeOption(h,this),g.optionUpdated(h,!1);else{var k=f({dependentModels:i,componentIndex:d},a.keyInfo);f(g=new j(h,this,this,k),k),g.init(h,this,this,k),g.optionUpdated(null,!0)}}else g.mergeOption({},this),g.optionUpdated({},!1);e.get(c)[d]=g,b[c][d]=g.option},this),"series"===c&&of(this,e.get("series"))},this),this._seriesIndicesMap=K(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var a=c(this.option);return m(a,function(b,c){if(zs.hasClass(c)){for(var d=(b=sc(b)).length-1;d>=0;d--)zc(b[d])&&b.splice(d,1);a[c]=b}}),delete a[Os],a},getTheme:function(){return this._theme},getComponent:function(a,b){var c=this._componentsMap.get(a);if(c)return c[b||0]},queryComponents:function(a){var b=a.mainType;if(!b)return[];var c=a.index,d=a.id,e=a.name,f=this._componentsMap.get(b);if(!f||!f.length)return[];var g;if(null!=c)s(c)||(c=[c]),g=p(n(c,function(a){return f[a]}),function(a){return!!a});else if(null!=d){var h=s(d);g=p(f,function(a){return h&&i(d,a.id)>=0||!h&&a.id===d})}else if(null!=e){var j=s(e);g=p(f,function(a){return j&&i(e,a.name)>=0||!j&&a.name===e})}else g=f.slice();return pf(g,a)},findComponents:function(a){var b=a.query,c=a.mainType,d=function(a){var b=c+"Index",d=c+"Id",e=c+"Name";return!a||null==a[b]&&null==a[d]&&null==a[e]?null:{mainType:c,index:a[b],id:a[d],name:a[e]}}(b);return function(b){return a.filter?p(b,a.filter):b}(pf(d?this.queryComponents(d):this._componentsMap.get(c),a))},eachComponent:function(a,b,c){var d=this._componentsMap;"function"==typeof a?(c=b,b=a,d.each(function(a,d){m(a,function(a,e){b.call(c,d,a,e)})})):u(a)?m(d.get(a),b,c):v(a)&&m(this.findComponents(a),b,c)},getSeriesByName:function(a){return p(this._componentsMap.get("series"),function(b){return b.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){return p(this._componentsMap.get("series"),function(b){return b.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(a,b){m(this._seriesIndices,function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){m(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(a,b,c){m(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];e.subType===a&&b.call(c,e,d)},this)},eachRawSeriesByType:function(a,b,c){return m(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){return null==this._seriesIndicesMap.get(a.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(a,b){of(this,p(this._componentsMap.get("series"),a,b))},restoreData:function(a){var b=this._componentsMap;of(this,b.get("series"));var c=[];b.each(function(a,b){c.push(b)}),zs.topologicalTravel(c,zs.getAllClassMainTypes(),function(c,d){m(b.get(c),function(b){("series"!==c||!jf(b,a))&&b.restoreData()})})}});k(Ps,Ds);var Qs=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],Rs={};rf.prototype={constructor:rf,create:function(a,b){var c=[];m(Rs,function(d,e){var f=d.create(a,b);c=c.concat(f||[])}),this._coordinateSystems=c},update:function(a,b){m(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},rf.register=function(a,b){Rs[a]=b},rf.get=function(a){return Rs[a]};var Ss=m,Ts=c,Us=n,Vs=d,Ws=/^(min|max)?(.+)$/;sf.prototype={constructor:sf,setOption:function(a,b){a&&m(sc(a.series),function(a){a&&a.data&&x(a.data)&&H(a.data)}),a=Ts(a,!0);var c=this._optionBackup,d=tf.call(this,a,b,!c);this._newBaseOption=d.baseOption,c?(xf(c.baseOption,d.baseOption),d.timelineOptions.length&&(c.timelineOptions=d.timelineOptions),d.mediaList.length&&(c.mediaList=d.mediaList),d.mediaDefault&&(c.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(a){var b=this._optionBackup;return this._timelineOptions=Us(b.timelineOptions,Ts),this._mediaList=Us(b.mediaList,Ts),this._mediaDefault=Ts(b.mediaDefault),this._currentMediaIndices=[],Ts(a?b.baseOption:this._newBaseOption)},getTimelineOption:function(a){var b,c=this._timelineOptions;if(c.length){var d=a.getComponent("timeline");d&&(b=Ts(c[d.getCurrentIndex()],!0))}return b},getMediaOption:function(a){var b=this._api.getWidth(),c=this._api.getHeight(),d=this._mediaList,e=this._mediaDefault,f=[],g=[];if(!d.length&&!e)return g;for(var h=0,i=d.length;h<i;h++)uf(d[h].query,b,c)&&f.push(h);return!f.length&&e&&(f=[-1]),f.length&&!wf(f,this._currentMediaIndices)&&(g=Us(f,function(a){return Ts(-1===a?e.option:d[a].option)})),this._currentMediaIndices=f,g}};var Xs=m,Ys=v,Zs=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],$s=function(a,b){Xs(Ef(a.series),function(a){Ys(a)&&Df(a)});var c=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis"),Xs(c,function(b){Xs(Ef(a[b]),function(a){a&&(Bf(a,"axisLabel"),Bf(a.axisPointer,"label"))})}),Xs(Ef(a.parallel),function(a){var b=a&&a.parallelAxisDefault;Bf(b,"axisLabel"),Bf(b&&b.axisPointer,"label")}),Xs(Ef(a.calendar),function(a){zf(a,"itemStyle"),Bf(a,"dayLabel"),Bf(a,"monthLabel"),Bf(a,"yearLabel")}),Xs(Ef(a.radar),function(a){Bf(a,"name")}),Xs(Ef(a.geo),function(a){Ys(a)&&(Cf(a),Xs(Ef(a.regions),function(a){Cf(a)}))}),Xs(Ef(a.timeline),function(a){Cf(a),zf(a,"label"),zf(a,"itemStyle"),zf(a,"controlStyle",!0);var b=a.data;s(b)&&m(b,function(a){v(a)&&(zf(a,"label"),zf(a,"itemStyle"))})}),Xs(Ef(a.toolbox),function(a){zf(a,"iconStyle"),Xs(a.feature,function(a){zf(a,"iconStyle")})}),Bf(Ff(a.axisPointer),"label"),Bf(Ff(a.tooltip).axisPointer,"label")},_s=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],at=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],bt=function(a,b){$s(a,b),a.series=sc(a.series),m(a.series,function(a){if(v(a)){var b=a.type;if("pie"!==b&&"gauge"!==b||null!=a.clockWise&&(a.clockwise=a.clockWise),"gauge"===b){var c=Gf(a,"pointer.color");null!=c&&Hf(a,"itemStyle.normal.color",c)}If(a)}}),a.dataRange&&(a.visualMap=a.dataRange),m(at,function(b){var c=a[b];c&&(s(c)||(c=[c]),m(c,function(a){If(a)}))})},ct=Kf.prototype;ct.pure=!1,ct.persistent=!0,ct.getSource=function(){return this._source};var dt={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(a){return this._data[a+this._source.startIndex]},appendData:Nf},arrayRows_row:{pure:!0,count:function(){var a=this._data[0];return a?Math.max(0,a.length-this._source.startIndex):0},getItem:function(a){a+=this._source.startIndex;for(var b=[],c=this._data,d=0;d<c.length;d++){var e=c[d];b.push(e?e[a]:null)}return b},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Lf,getItem:Mf,appendData:Nf},keyedColumns:{pure:!0,count:function(){var a=this._source.dimensionsDefine[0].name,b=this._data[a];return b?b.length:0},getItem:function(a){for(var b=[],c=this._source.dimensionsDefine,d=0;d<c.length;d++){var e=this._data[c[d].name];b.push(e?e[a]:null)}return b},appendData:function(a){var b=this._data;m(a,function(a,c){for(var d=b[c]||(b[c]=[]),e=0;e<(a||[]).length;e++)d.push(a[e])})}},original:{count:Lf,getItem:Mf,appendData:Nf},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(a,b){a-=this._offset,b=b||[];for(var c=this._dimSize*a,d=0;d<this._dimSize;d++)b[d]=this._data[c+d];return b},appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}}},et={arrayRows:Of,objectRows:function(a,b,c,d){return null!=c?a[d]:a},keyedColumns:Of,original:function(a,b,c,d){var e=uc(a);return null!=c&&e instanceof Array?e[c]:e},typedArray:Of},ft={arrayRows:Pf,objectRows:function(a,b,c,d){return Qf(a[b],this._dimensionInfos[b])},keyedColumns:Pf,original:function(a,b,c,d){var e=a&&(null==a.value?a:a.value);return!this._rawData.pure&&vc(a)&&(this.hasItemOption=!0),Qf(e instanceof Array?e[d]:e,this._dimensionInfos[b])},typedArray:function(a,b,c,d){return a[d]}},gt=/\{@(.+?)\}/g,ht={getDataParams:function(a,b){var c=this.getData(b),d=this.getRawValue(a,b),e=c.getRawIndex(a),f=c.getName(a),g=c.getRawDataItem(a),h=c.getItemVisual(a,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:f,dataIndex:e,data:g,dataType:b,value:d,color:h,marker:Ke(h),$vars:["seriesName","name","value"]}},getFormattedLabel:function(a,b,c,d,e){b=b||"normal";var f=this.getData(c),g=f.getItemModel(a),h=this.getDataParams(a,c);null!=d&&h.value instanceof Array&&(h.value=h.value[d]);var i=g.get("normal"===b?[e||"label","formatter"]:[b,e||"label","formatter"]);return"function"==typeof i?(h.status=b,i(h)):"string"==typeof i?Je(i,h).replace(gt,function(b,c){var d=c.length;return"["===c.charAt(0)&&"]"===c.charAt(d-1)&&(c=+c.slice(1,d-1)),Rf(f,a,c)}):void 0},getRawValue:function(a,b){return Rf(this.getData(b),a)},formatTooltip:function(){}},it=Uf.prototype;it.perform=function(a){function b(a){return!(a>=1)&&(a=1),a}var c=this._upstream,d=a&&a.skip;if(this._dirty&&c){var e=this.context;e.data=e.outputData=c.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var f;this._plan&&!d&&(f=this._plan(this.context));var g=b(this._modBy),h=this._modDataCount||0,i=b(a&&a.modBy),j=a&&a.modDataCount||0;g===i&&h===j||(f="reset");var k;(this._dirty||"reset"===f)&&(this._dirty=!1,k=Wf(this,d)),this._modBy=i,this._modDataCount=j;var l=a&&a.step;if(this._dueEnd=c?c._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var m=this._dueIndex,n=Math.min(null!=l?this._dueIndex+l:1/0,this._dueEnd);if(!d&&(k||m<n)){var o=this._progress;if(s(o))for(var p=0;p<o.length;p++)Vf(this,o[p],m,n,i,j);else Vf(this,o,m,n,i,j)}this._dueIndex=n;var q=null!=this._settedOutputEnd?this._settedOutputEnd:n;this._outputDueEnd=q}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var jt=function(){function a(){return d<c?d++:null}function b(){var a=d%g*e+Math.ceil(d/g),b=d>=c?null:a<f?a:d;return d++,b}var c,d,e,f,g,h={reset:function(i,j,k,l){d=i,c=j,e=k,f=l,g=Math.ceil(f/e),h.next=e>1&&f>0?b:a}};return h}();it.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},it.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},it.pipe=function(a){(this._downstream!==a||this._dirty)&&(this._downstream=a,a._upstream=this,a.dirty())},it.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},it.getUpstream=function(){return this._upstream},it.getDownstream=function(){return this._downstream},it.setOutputEnd=function(a){this._outputDueEnd=this._settedOutputEnd=a};var kt=Bc(),lt=zs.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(a,b,c,d){this.seriesIndex=this.componentIndex,this.dataTask=Tf({count:Zf,reset:$f}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(a,c),_e(this);var e=this.getInitialData(a,c);ag(e,this),this.dataTask.context.data=e,kt(this).dataBeforeProcessed=e,Xf(this)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,e=c?Se(a):{},f=this.subType;zs.hasClass(f)&&(f+="Series"),d(a,b.getTheme().get(this.subType)),d(a,this.getDefaultOption()),tc(a,"label",["show"]),this.fillDataTextStyle(a.data),c&&Re(a,e,c)},mergeOption:function(a,b){a=d(this.option,a,!0),this.fillDataTextStyle(a.data);var c=this.layoutMode;c&&Re(this.option,a,c),_e(this);var e=this.getInitialData(a,b);ag(e,this),this.dataTask.dirty(),this.dataTask.context.data=e,kt(this).dataBeforeProcessed=e,Xf(this)},fillDataTextStyle:function(a){if(a&&!x(a))for(var b=["show"],c=0;c<a.length;c++)a[c]&&a[c].label&&tc(a[c],"label",b)},getInitialData:function(){},appendData:function(a){this.getRawData().appendData(a.data)},getData:function(a){var b=cg(this);if(b){var c=b.context.data;return null==a?c:c.getLinkedData(a)}return kt(this).data},setData:function(a){var b=cg(this);if(b){var c=b.context;c.data!==a&&b.modifyOutputEnd&&b.setOutputEnd(a.count()),c.outputData=a,b!==this.dataTask&&(c.data=a)}kt(this).data=a},getSource:function(){return Ze(this)},getRawData:function(){return kt(this).dataBeforeProcessed},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(a,b,c){function d(a){return Ie(Ge(a))}var e=this.getData(),f=e.mapDimension("defaultedTooltip",!0),g=f.length,h=this.getRawValue(a),i=s(h),j=e.getItemVisual(a,"color");v(j)&&j.colorStops&&(j=(j.colorStops[0]||{}).color),j=j||"transparent";var k=g>1||i&&!g?function(c){function d(a,c){var d=e.getDimensionInfo(c);if(d&&!1!==d.otherDims.tooltip){var f=d.type,i=Ke({color:j,type:"subItem"}),k=(g?i+Ie(d.displayName||"-")+": ":"")+Ie("ordinal"===f?a+"":"time"===f?b?"":Me("yyyy/MM/dd hh:mm:ss",a):Ge(a));k&&h.push(k)}}var g=o(c,function(a,b,c){var d=e.getDimensionInfo(c);return a|=d&&!1!==d.tooltip&&null!=d.displayName},0),h=[];return f.length?m(f,function(b){d(Rf(e,a,b),b)}):m(c,d),(g?"<br/>":"")+h.join(g?"<br/>":", ")}(h):d(g?Rf(e,a,f[0]):i?h[0]:h),l=Ke(j),n=e.getName(a),p=this.name;return yc(this)||(p=""),p=p?Ie(p)+(b?": ":"<br/>"):"",b?l+p+k:p+l+(n?Ie(n)+": "+k:k)},isAnimationEnabled:function(){if(wo.node)return!1;var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),a},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(a,b,c){var d=this.ecModel,e=Ds.getColorFromPalette.call(this,a,b,c);return e||(e=d.getColorFromPalette(a,b,c)),e},coordDimToDataDim:function(a){return this.getRawData().mapDimension(a,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});k(lt,ht),k(lt,Ds);var mt=function(){this.group=new yp,this.uid=qe("viewComponent")};mt.prototype={constructor:mt,init:function(a,b){},render:function(a,b,c,d){},dispose:function(){}};var nt=mt.prototype;nt.updateView=nt.updateLayout=nt.updateVisual=function(a,b,c,d){},Ic(mt),Mc(mt,{registerWhenExtend:!0});var ot=function(){var a=Bc();return function(b){var c=a(b),d=b.pipelineContext,e=c.large,f=c.progressiveRender,g=c.large=d.large,h=c.progressiveRender=d.progressiveRender;return!!(e^g||f^h)&&"reset"}},pt=Bc(),qt=ot();dg.prototype={type:"chart",init:function(a,b){},render:function(a,b,c,d){},highlight:function(a,b,c,d){fg(a.getData(),d,"emphasis")},downplay:function(a,b,c,d){fg(a.getData(),d,"normal")},remove:function(a,b){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};var rt=dg.prototype;rt.updateView=rt.updateLayout=rt.updateVisual=function(a,b,c,d){this.render(a,b,c,d)},Ic(dg),Mc(dg,{registerWhenExtend:!0}),dg.markUpdateMethod=function(a,b){pt(a).updateMethod=b};var st={incrementalPrepareRender:{progress:function(a,b){b.view.incrementalRender(a,b.model,b.ecModel,b.api,b.payload)}},render:{forceFirstProgress:!0,progress:function(a,b){b.view.render(b.model,b.ecModel,b.api,b.payload)}}},tt="\0__throttleOriginMethod",ut="\0__throttleRate",vt="\0__throttleType",wt={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){var c=a.getData(),d=(a.visualColorAccessPath||"itemStyle.color").split("."),e=a.get(d)||a.getColorFromPalette(a.name,null,b.getSeriesCount());if(c.setVisual("color",e),!b.isSeriesFiltered(a))return"function"!=typeof e||e instanceof Ur||c.each(function(b){c.setItemVisual(b,"color",e(a.getDataParams(b)))}),{dataEach:c.hasItemOption?function(a,b){var c=a.getItemModel(b).get(d,!0);null!=c&&a.setItemVisual(b,"color",c)}:null}}},xt={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},yt=function(a,b){function c(a,b){if("string"!=typeof a)return a;var c=a;return m(b,function(a,b){c=c.replace(new RegExp("\\{\\s*"+b+"\\s*\\}","g"),a)}),c}function d(a){var b=f.get(a);if(null==b){for(var c=a.split("."),d=xt.aria,e=0;e<c.length;++e)d=d[c[e]];return d}return b}function e(a){return xt.series.typeNames[a]||"自定义图"}var f=b.getModel("aria");if(f.get("show"))if(f.get("description"))a.setAttribute("aria-label",f.get("description"));else{var g=0;b.eachSeries(function(a,b){++g},this);var h,i=f.get("data.maxCount")||10,j=f.get("series.maxCount")||10,k=Math.min(g,j);if(!(g<1)){var l=function(){var a=b.getModel("title").option;return a&&a.length&&(a=a[0]),a&&a.text}();h=l?c(d("general.withTitle"),{title:l}):d("general.withoutTitle");var n=[];h+=c(d(g>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:g}),b.eachSeries(function(a,b){if(b<k){var f,h=a.get("name"),j="series."+(g>1?"multiple":"single")+".";f=c(f=d(h?j+"withName":j+"withoutName"),{seriesId:a.seriesIndex,seriesName:a.get("name"),seriesType:e(a.subType)});var l=a.getData();window.data=l,l.count()>i?f+=c(d("data.partialData"),{displayCnt:i}):f+=d("data.allData");for(var m=[],o=0;o<l.count();o++)if(o<i){var p=l.getName(o),q=Rf(l,o);m.push(c(d(p?"data.withName":"data.withoutName"),{name:p,value:q}))}f+=m.join(d("data.separator.middle"))+d("data.separator.end"),n.push(f)}}),h+=n.join(d("series.multiple.separator.middle"))+d("series.multiple.separator.end"),a.setAttribute("aria-label",h)}}},zt=Math.PI,At=lg.prototype;At.restoreData=function(a,b){a.restoreData(b),this._stageTaskMap.each(function(a){var b=a.overallTask;b&&b.dirty()})},At.getPerformArgs=function(a,b){if(a.__pipeline){var c=this._pipelineMap.get(a.__pipeline.id),d=c.context,e=!b&&c.progressiveEnabled&&(!d||d.progressiveRender)&&a.__idxInPipeline>c.blockIndex?c.step:null,f=d&&d.modDataCount;return{step:e,modBy:null!=f?Math.ceil(f/e):null,modDataCount:f}}},At.getPipeline=function(a){return this._pipelineMap.get(a)},At.updateStreamModes=function(a,b){var c=this._pipelineMap.get(a.uid),d=a.getData().count(),e=c.progressiveEnabled&&b.incrementalPrepareRender&&d>=c.threshold,f=a.get("large")&&d>=a.get("largeThreshold"),g="mod"===a.get("progressiveChunkMode")?d:null;a.pipelineContext=c.context={progressiveRender:e,modDataCount:g,large:f}},At.restorePipelines=function(a){var b=this,c=b._pipelineMap=K();a.eachSeries(function(a){var d=a.getProgressive(),e=a.uid;c.set(e,{id:e,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:d&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(d||700),count:0}),xg(b,a,a.dataTask)})},At.prepareStageTasks=function(){var a=this._stageTaskMap,b=this.ecInstance.getModel(),c=this.api;m(this._allHandlers,function(d){var e=a.get(d.uid)||a.set(d.uid,[]);d.reset&&ng(this,d,e,b,c),d.overallReset&&og(this,d,e,b,c)},this)},At.prepareView=function(a,b,c,d){var e=a.renderTask,f=e.context;f.model=b,f.ecModel=c,f.api=d,e.__block=!a.incrementalPrepareRender,xg(this,b,e)},At.performDataProcessorTasks=function(a,b){mg(this,this._dataProcessorHandlers,a,b,{block:!0})},At.performVisualTasks=function(a,b,c){mg(this,this._visualHandlers,a,b,c)},At.performSeriesTasks=function(a){var b;a.eachSeries(function(a){b|=a.dataTask.perform()}),this.unfinished|=b},At.plan=function(){this._pipelineMap.each(function(a){var b=a.tail;do{if(b.__block){a.blockIndex=b.__idxInPipeline;break}b=b.getUpstream()}while(b)})};var Bt=At.updatePayload=function(a,b){"remain"!==b&&(a.context.payload=b)},Ct=vg(0);lg.wrapStageHandler=function(a,b){return t(a)&&(a={overallReset:a,seriesType:yg(a)}),a.uid=qe("stageHandler"),b&&(a.visualType=b),a};var Dt,Et={},Ft={};zg(Et,Ps),zg(Ft,qf),Et.eachSeriesByType=Et.eachRawSeriesByType=function(a){Dt=a},Et.eachComponent=function(a){"series"===a.mainType&&a.subType&&(Dt=a.subType)};var Gt=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Ht={color:Gt,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Gt]},It=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],Jt={color:It,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:It[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:It},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};Jt.categoryAxis.splitLine.show=!1,zs.extend({type:"dataset",defaultOption:{seriesLayoutBy:Ls,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){Ye(this)}}),mt.extend({type:"dataset"});var Kt=F,Lt=m,Mt=t,Nt=v,Ot=zs.parseClassType,Pt={zrender:"4.0.4"},Qt=1e3,Rt=1e3,St=3e3,Tt={PROCESSOR:{FILTER:Qt,STATISTIC:5e3},VISUAL:{LAYOUT:Rt,GLOBAL:2e3,CHART:St,COMPONENT:4e3,BRUSH:5e3}},Ut="__flagInMainProcess",Vt="__optionUpdated",Wt=/^[a-zA-Z0-9_]+$/;Bg.prototype.on=Ag("on"),Bg.prototype.off=Ag("off"),Bg.prototype.one=Ag("one"),k(Bg,So);var Xt=Cg.prototype;Xt._onframe=function(){if(!this._disposed){var a=this._scheduler;if(this[Vt]){var b=this[Vt].silent;this[Ut]=!0,Eg(this),Yt.update.call(this),this[Ut]=!1,this[Vt]=!1,Ig.call(this,b),Jg.call(this,b)}else if(a.unfinished){var c=1,d=this._model;this._api,a.unfinished=!1;do{var e=+new Date;a.performSeriesTasks(d),a.performDataProcessorTasks(d),Gg(this,d),a.performVisualTasks(d),Pg(this,this._model,0,"remain"),c-=+new Date-e}while(c>0&&a.unfinished);a.unfinished||this._zr.flush()}}},Xt.getDom=function(){return this._dom},Xt.getZr=function(){return this._zr},Xt.setOption=function(a,b,c){var d;if(Nt(b)&&(c=b.lazyUpdate,d=b.silent,b=b.notMerge),this[Ut]=!0,!this._model||b){var e=new sf(this._api),f=this._theme,g=this._model=new Ps(null,null,f,e);g.scheduler=this._scheduler,g.init(null,null,f,e)}this._model.setOption(a,bu),c?(this[Vt]={silent:d},this[Ut]=!1):(Eg(this),Yt.update.call(this),this._zr.flush(),this[Vt]=!1,this[Ut]=!1,Ig.call(this,d),Jg.call(this,d))},Xt.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Xt.getModel=function(){return this._model},Xt.getOption=function(){return this._model&&this._model.getOption()},Xt.getWidth=function(){return this._zr.getWidth()},Xt.getHeight=function(){return this._zr.getHeight()},Xt.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Xt.getRenderedCanvas=function(a){if(wo.canvasSupported)return(a=a||{}).pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(a)},Xt.getSvgDataUrl=function(){if(wo.svgSupported){var a=this._zr;return m(a.storage.getDisplayList(),function(a){a.stopAnimation(!0)}),a.painter.pathToDataUrl()}},Xt.getDataURL=function(a){var b=(a=a||{}).excludeComponents,c=this._model,d=[],e=this;Lt(b,function(a){c.eachComponent({mainType:a},function(a){var b=e._componentsMap[a.__viewId];b.group.ignore||(d.push(b),b.group.ignore=!0)})});var f="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return Lt(d,function(a){a.group.ignore=!1}),f},Xt.getConnectedDataURL=function(a){if(wo.canvasSupported){var b=this.group,d=Math.min,e=Math.max;if(hu[b]){var f=1/0,g=1/0,h=-1/0,i=-1/0,j=[],k=a&&a.pixelRatio||1;m(gu,function(k,l){if(k.group===b){var m=k.getRenderedCanvas(c(a)),n=k.getDom().getBoundingClientRect();f=d(n.left,f),g=d(n.top,g),h=e(n.right,h),i=e(n.bottom,i),j.push({dom:m,left:n.left,top:n.top})}});var l=(h*=k)-(f*=k),n=(i*=k)-(g*=k),o=Ho();o.width=l,o.height=n;var p=pc(o);return Lt(j,function(a){var b=new Vb({style:{x:a.left*k-f,y:a.top*k-g,image:a.dom}});p.add(b)}),p.refreshImmediately(),o.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}},Xt.convertToPixel=r(Dg,"convertToPixel"),Xt.convertFromPixel=r(Dg,"convertFromPixel"),Xt.containPixel=function(a,b){var c;return a=Cc(this._model,a),m(a,function(a,d){d.indexOf("Models")>=0&&m(a,function(a){var e=a.coordinateSystem;if(e&&e.containPoint)c|=!!e.containPoint(b);else if("seriesModels"===d){var f=this._chartsMap[a.__viewId];f&&f.containPoint&&(c|=f.containPoint(b,a))}},this)},this),!!c},Xt.getVisual=function(a,b){var c=(a=Cc(this._model,a,{defaultMainType:"series"})).seriesModel.getData(),d=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?c.indexOfRawIndex(a.dataIndex):null;return null!=d?c.getItemVisual(d,b):c.getVisual(b)},Xt.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},Xt.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var Yt={prepareAndUpdate:function(a){Eg(this),Yt.update.call(this,a)},update:function(a){var b=this._model,c=this._api,d=this._zr,e=this._coordSysMgr,f=this._scheduler;if(b){f.restoreData(b,a),f.performSeriesTasks(b),e.create(b,c),f.performDataProcessorTasks(b,a),Gg(this,b),e.update(b,c),Mg(b),f.performVisualTasks(b,a),Ng(this,b,c,a);var g=b.get("backgroundColor")||"transparent";if(wo.canvasSupported)d.setBackgroundColor(g);else{var h=ya(g);g=Ga(h,"rgb"),0===h[3]&&(g="transparent")}Qg(b,c)}},updateTransform:function(a){var b=this._model,c=this,d=this._api;if(b){var e=[];b.eachComponent(function(f,g){var h=c.getViewOfComponentModel(g);if(h&&h.__alive)if(h.updateTransform){var i=h.updateTransform(g,b,d,a);i&&i.update&&e.push(h)}else e.push(h)});var f=K();b.eachSeries(function(e){var g=c._chartsMap[e.__viewId];if(g.updateTransform){var h=g.updateTransform(e,b,d,a);h&&h.update&&f.set(e.uid,1)}else f.set(e.uid,1)}),Mg(b),this._scheduler.performVisualTasks(b,a,{setDirty:!0,dirtyMap:f}),Pg(c,b,0,a,f),Qg(b,this._api)}},updateView:function(a){var b=this._model;b&&(dg.markUpdateMethod(a,"updateView"),Mg(b),this._scheduler.performVisualTasks(b,a,{setDirty:!0}),Ng(this,this._model,this._api,a),Qg(b,this._api))},updateVisual:function(a){Yt.update.call(this,a)},updateLayout:function(a){Yt.update.call(this,a)}};Xt.resize=function(a){this._zr.resize(a);var b=this._model;if(this._loadingFX&&this._loadingFX.resize(),b){var c=b.resetOption("media"),d=a&&a.silent;this[Ut]=!0,c&&Eg(this),Yt.update.call(this),this[Ut]=!1,Ig.call(this,d),Jg.call(this,d)}},Xt.showLoading=function(a,b){if(Nt(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),fu[a]){var c=fu[a](this._api,b),d=this._zr;this._loadingFX=c,d.add(c)}},Xt.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Xt.makeActionFromEvent=function(a){var b=f({},a);return b.type=_t[a.type],b},Xt.dispatchAction=function(a,b){Nt(b)||(b={silent:!!b}),$t[a.type]&&this._model&&(this[Ut]?this._pendingActions.push(a):(Hg.call(this,a,b.silent),b.flush?this._zr.flush(!0):!1!==b.flush&&wo.browser.weChat&&this._throttledZrFlush(),Ig.call(this,b.silent),Jg.call(this,b.silent)))},Xt.appendData=function(a){var b=a.seriesIndex;this.getModel().getSeriesByIndex(b).appendData(a),this._scheduler.unfinished=!0},Xt.on=Ag("on"),Xt.off=Ag("off"),Xt.one=Ag("one");var Zt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Xt._initEvents=function(){Lt(Zt,function(a){this._zr.on(a,function(b){var c,d=this.getModel(),e=b.target;if("globalout"===a)c={};else if(e&&null!=e.dataIndex){var g=e.dataModel||d.getSeriesByIndex(e.seriesIndex);c=g&&g.getDataParams(e.dataIndex,e.dataType)||{}}else e&&e.eventData&&(c=f({},e.eventData));c&&(c.event=b,c.type=a,this.trigger(a,c))},this)},this),Lt(_t,function(a,b){this._messageCenter.on(b,function(a){this.trigger(b,a)},this)},this)},Xt.isDisposed=function(){return this._disposed},Xt.clear=function(){this.setOption({series:[]},!0)},Xt.dispose=function(){if(!this._disposed){this._disposed=!0,Ec(this.getDom(),ku,"");var a=this._api,b=this._model;Lt(this._componentsViews,function(c){c.dispose(b,a)}),Lt(this._chartsViews,function(c){c.dispose(b,a)}),this._zr.dispose(),delete gu[this.id]}},k(Cg,So);var $t={},_t={},au=[],bu=[],cu=[],du=[],eu={},fu={},gu={},hu={},iu=new Date-0,ju=new Date-0,ku="_echarts_instance_",lu={},mu=Wg;bh(2e3,wt),Zg(bt),$g(5e3,function(a){var b=K();a.eachSeries(function(a){var c=a.get("stack");if(c){var d=b.get(c)||b.set(c,[]),e=a.getData(),f={stackResultDimension:e.getCalculationInfo("stackResultDimension"),stackedOverDimension:e.getCalculationInfo("stackedOverDimension"),stackedDimension:e.getCalculationInfo("stackedDimension"),stackedByDimension:e.getCalculationInfo("stackedByDimension"),isStackedByIndex:e.getCalculationInfo("isStackedByIndex"),data:e,seriesModel:a};if(!f.stackedDimension||!f.isStackedByIndex&&!f.stackedByDimension)return;d.length&&e.setCalculationInfo("stackedOnSeries",d[d.length-1].seriesModel),d.push(f)}}),b.each(Jf)}),dh("default",function(a,b){g(b=b||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var c=new Or({style:{fill:b.maskColor},zlevel:b.zlevel,z:1e4}),d=new Sr({shape:{startAngle:-zt/2,endAngle:-zt/2+.1,r:10},style:{stroke:b.color,lineCap:"round",lineWidth:5},zlevel:b.zlevel,z:10001}),e=new Or({style:{fill:"none",text:b.text,textPosition:"right",textDistance:10,textFill:b.textColor},zlevel:b.zlevel,z:10001});d.animateShape(!0).when(1e3,{endAngle:3*zt/2}).start("circularInOut"),d.animateShape(!0).when(1e3,{startAngle:3*zt/2}).delay(300).start("circularInOut");var f=new yp;return f.add(d),f.add(e),f.add(c),f.resize=function(){var b=a.getWidth()/2,f=a.getHeight()/2;d.setShape({cx:b,cy:f});var g=d.shape.r;e.setShape({x:b-g,y:f-g,width:2*g,height:2*g}),c.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},f.resize(),f}),_g({type:"highlight",event:"highlight",update:"highlight"},L),_g({type:"downplay",event:"downplay",update:"downplay"},L),Yg("light",Ht),Yg("dark",Jt);var nu={};jh.prototype={constructor:jh,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var a=this._old,b=this._new,c={},d=[],e=[];for(kh(a,{},d,"_oldKeyGetter",this),kh(b,c,e,"_newKeyGetter",this),f=0;f<a.length;f++)null!=(h=c[g=d[f]])?((j=h.length)?(1===j&&(c[g]=null),h=h.unshift()):c[g]=null,this._update&&this._update(h,f)):this._remove&&this._remove(f);for(var f=0;f<e.length;f++){var g=e[f];if(c.hasOwnProperty(g)){var h=c[g];if(null==h)continue;if(h.length)for(var i=0,j=h.length;i<j;i++)this._add&&this._add(h[i]);else this._add&&this._add(h)}}}};var ou=K(["tooltip","label","itemName","itemId","seriesName"]),pu=v,qu="e\0\0",ru={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},su="undefined"==typeof Uint32Array?Array:Uint32Array,tu="undefined"==typeof Uint16Array?Array:Uint16Array,uu=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],vu=["_extent","_approximateExtent","_rawExtent"],wu=function(a,b){a=a||["x","y"];for(var c={},d=[],e={},f=0;f<a.length;f++){var g=a[f];u(g)&&(g={name:g});var h=g.name;g.type=g.type||"float",g.coordDim||(g.coordDim=h,g.coordDimIndex=0),g.otherDims=g.otherDims||{},d.push(h),c[h]=g,g.index=f,g.createInvertedIndices&&(e[h]=[])}this.dimensions=d,this._dimensionInfos=c,this.hostModel=b,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=lh(this),this._invertedIndicesMap=e,this._calculationInfo={}},xu=wu.prototype;xu.type="list",xu.hasItemOption=!0,xu.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a},xu.getDimensionInfo=function(a){return this._dimensionInfos[this.getDimension(a)]},xu.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},xu.mapDimension=function(a,b){var c=this._dimensionsSummary;if(null==b)return c.encodeFirstDimNotExtra[a];var d=c.encode[a];return!0===b?(d||[]).slice():d&&d[b]},xu.initData=function(a,b,c){(Xe.isInstance(a)||l(a))&&(a=new Kf(a,this.dimensions.length)),this._rawData=a,this._storage={},this._indices=null,this._nameList=b||[],this._idList=[],this._nameRepeatCount={},c||(this.hasItemOption=!1),this.defaultDimValueGetter=ft[this._rawData.getSource().sourceFormat],this._dimValueGetter=c=c||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,a.count()),a.pure&&(this.hasItemOption=!1)},xu.getProvider=function(){return this._rawData},xu.appendData=function(a){var b=this._rawData,c=this.count();b.appendData(a);var d=b.count();b.persistent||(d+=c),this._initDataFromProvider(c,d)},xu._initDataFromProvider=function(a,b){if(!(a>=b)){for(var c,d=this._chunkSize,e=this._rawData,f=this._storage,g=this.dimensions,h=g.length,i=this._dimensionInfos,j=this._nameList,k=this._idList,l=this._rawExtent,m=this._nameRepeatCount={},n=this._chunkCount,o=n-1,p=0;p<h;p++){l[A=g[p]]||(l[A]=[1/0,-1/0]);var q=i[A];0===q.otherDims.itemName&&(c=this._nameDimIdx=p),0===q.otherDims.itemId&&(this._idDimIdx=p);var r=ru[q.type];f[A]||(f[A]=[]);var s=f[A][o];if(s&&s.length<d){for(var t=new r(Math.min(b-o*d,d)),u=0;u<s.length;u++)t[u]=s[u];f[A][o]=t}for(z=n*d;z<b;z+=d)f[A].push(new r(Math.min(b-z,d)));this._chunkCount=f[A].length}for(var v=new Array(h),w=a;w<b;w++){v=e.getItem(w,v);for(var x=Math.floor(w/d),y=w%d,z=0;z<h;z++){var A=g[z],B=f[A][x],C=this._dimValueGetter(v,A,w,z);B[y]=C;var D=l[A];C<D[0]&&(D[0]=C),C>D[1]&&(D[1]=C)}if(!e.pure){var E=j[w];if(v&&null==E)if(null!=v.name)j[w]=E=v.name;else if(null!=c){var F=g[c],G=f[F][x];if(G){E=G[y];var H=i[F].ordinalMeta;H&&H.categories.length&&(E=H.categories[E])}}var I=null==v?null:v.id;null==I&&null!=E&&(m[E]=m[E]||0,I=E,m[E]>0&&(I+="__ec__"+m[E]),m[E]++),null!=I&&(k[w]=I)}}!e.persistent&&e.clean&&e.clean(),this._rawCount=this._count=b,this._extent={},rh(this)}},xu.count=function(){return this._count},xu.getIndices=function(){var a=this._indices;if(a){var b=a.constructor,c=this._count;if(b===Array)for(d=new b(c),e=0;e<c;e++)d[e]=a[e];else d=new b(a.buffer,0,c)}else for(var d=new(b=oh(this))(this.count()),e=0;e<d.length;e++)d[e]=e;return d},xu.get=function(a,b){if(!(b>=0&&b<this._count))return NaN;var c=this._storage;if(!c[a])return NaN;b=this.getRawIndex(b);var d=Math.floor(b/this._chunkSize),e=b%this._chunkSize;return c[a][d][e]},xu.getByRawIndex=function(a,b){if(!(b>=0&&b<this._rawCount))return NaN;var c=this._storage[a];if(!c)return NaN;var d=Math.floor(b/this._chunkSize),e=b%this._chunkSize;return c[d][e]},xu._getFast=function(a,b){var c=Math.floor(b/this._chunkSize),d=b%this._chunkSize;return this._storage[a][c][d]},xu.getValues=function(a,b){var c=[];s(a)||(b=a,a=this.dimensions);for(var d=0,e=a.length;d<e;d++)c.push(this.get(a[d],b));return c},xu.hasValue=function(a){for(var b=this._dimensionsSummary.dataDimsOnCoord,c=this._dimensionInfos,d=0,e=b.length;d<e;d++)if("ordinal"!==c[b[d]].type&&isNaN(this.get(b[d],a)))return!1;return!0},xu.getDataExtent=function(a){a=this.getDimension(a);var b=[1/0,-1/0];if(!this._storage[a])return b;var c,d=this.count();if(!this._indices)return this._rawExtent[a].slice();if(c=this._extent[a])return c.slice();for(var e=(c=b)[0],f=c[1],g=0;g<d;g++){var h=this._getFast(a,this.getRawIndex(g));h<e&&(e=h),h>f&&(f=h)}return c=[e,f],this._extent[a]=c,c},xu.getApproximateExtent=function(a){return a=this.getDimension(a),this._approximateExtent[a]||this.getDataExtent(a)},xu.setApproximateExtent=function(a,b){b=this.getDimension(b),this._approximateExtent[b]=a.slice()},xu.getCalculationInfo=function(a){return this._calculationInfo[a]},xu.setCalculationInfo=function(a,b){pu(a)?f(this._calculationInfo,a):this._calculationInfo[a]=b},xu.getSum=function(a){var b=0;if(this._storage[a])for(var c=0,d=this.count();c<d;c++){var e=this.get(a,c);isNaN(e)||(b+=e)}return b},xu.getMedian=function(a){var b=[];this.each(a,function(a,c){isNaN(a)||b.push(a)});var c=[].concat(b).sort(function(a,b){return a-b}),d=this.count();return 0===d?0:d%2==1?c[(d-1)/2]:(c[d/2]+c[d/2-1])/2},xu.rawIndexOf=function(a,b){var c=(a&&this._invertedIndicesMap[a])[b];return null==c||isNaN(c)?-1:c},xu.indexOfName=function(a){for(var b=0,c=this.count();b<c;b++)if(this.getName(b)===a)return b;return-1},xu.indexOfRawIndex=function(a){if(!this._indices)return a;if(a>=this._rawCount||a<0)return-1;var b=this._indices,c=b[a];if(null!=c&&c<this._count&&c===a)return a;for(var d=0,e=this._count-1;d<=e;){var f=(d+e)/2|0;if(b[f]<a)d=f+1;else{if(!(b[f]>a))return f;e=f-1}}return-1},xu.indicesOfNearest=function(a,b,c){var d=[];if(!this._storage[a])return d;null==c&&(c=1/0);for(var e=Number.MAX_VALUE,f=-1,g=0,h=this.count();g<h;g++){var i=b-this.get(a,g),j=Math.abs(i);i<=c&&j<=e&&((j<e||i>=0&&f<0)&&(e=j,f=i,d.length=0),d.push(g))}return d},xu.getRawIndex=th,xu.getRawDataItem=function(a){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(a));for(var b=[],c=0;c<this.dimensions.length;c++){var d=this.dimensions[c];b.push(this.get(d,a))}return b},xu.getName=function(a){var b=this.getRawIndex(a);return this._nameList[b]||sh(this,this._nameDimIdx,b)||""},xu.getId=function(a){return vh(this,this.getRawIndex(a))},xu.each=function(a,b,c,d){if(this._count){"function"==typeof a&&(d=c,c=b,b=a,a=[]),c=c||d||this;for(var e=(a=n(wh(a),this.getDimension,this)).length,f=0;f<this.count();f++)switch(e){case 0:b.call(c,f);break;case 1:b.call(c,this.get(a[0],f),f);break;case 2:b.call(c,this.get(a[0],f),this.get(a[1],f),f);break;default:for(var g=0,h=[];g<e;g++)h[g]=this.get(a[g],f);h[g]=f,b.apply(c,h)}}},xu.filterSelf=function(a,b,c,d){if(this._count){"function"==typeof a&&(d=c,c=b,b=a,a=[]),c=c||d||this,a=n(wh(a),this.getDimension,this);for(var e=this.count(),f=new(oh(this))(e),g=[],h=a.length,i=0,j=a[0],k=0;k<e;k++){var l,m=this.getRawIndex(k);if(0===h)l=b.call(c,k);else if(1===h){var o=this._getFast(j,m);l=b.call(c,o,k)}else{for(var p=0;p<h;p++)g[p]=this._getFast(j,m);g[p]=k,l=b.apply(c,g)}l&&(f[i++]=m)}return i<e&&(this._indices=f),this._count=i,this._extent={},this.getRawIndex=this._indices?uh:th,this}},xu.selectRange=function(a){if(this._count){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);var d=b.length;if(d){var e=this.count(),f=new(oh(this))(e),g=0,h=b[0],i=a[h][0],j=a[h][1],k=!1;if(!this._indices){var l=0;if(1===d){for(var m=this._storage[b[0]],n=0;n<this._chunkCount;n++)for(var o=m[n],p=Math.min(this._count-n*this._chunkSize,this._chunkSize),q=0;q<p;q++)((v=o[q])>=i&&v<=j||isNaN(v))&&(f[g++]=l),l++;k=!0}else if(2===d){for(var m=this._storage[h],r=this._storage[b[1]],s=a[b[1]][0],t=a[b[1]][1],n=0;n<this._chunkCount;n++)for(var o=m[n],u=r[n],p=Math.min(this._count-n*this._chunkSize,this._chunkSize),q=0;q<p;q++){var v=o[q],w=u[q];(v>=i&&v<=j||isNaN(v))&&(w>=s&&w<=t||isNaN(w))&&(f[g++]=l),l++}k=!0}}if(!k)if(1===d)for(q=0;q<e;q++)y=this.getRawIndex(q),((v=this._getFast(h,y))>=i&&v<=j||isNaN(v))&&(f[g++]=y);else for(q=0;q<e;q++){for(var x=!0,y=this.getRawIndex(q),n=0;n<d;n++){var z=b[n];((v=this._getFast(c,y))<a[z][0]||v>a[z][1])&&(x=!1)}x&&(f[g++]=this.getRawIndex(q))}return g<e&&(this._indices=f),this._count=g,this._extent={},this.getRawIndex=this._indices?uh:th,this}}},xu.mapArray=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]),c=c||d||this;var e=[];return this.each(a,function(){e.push(b&&b.apply(this,arguments))},c),e},xu.map=function(a,b,c,d){c=c||d||this;var e=xh(this,a=n(wh(a),this.getDimension,this));e._indices=this._indices,e.getRawIndex=e._indices?uh:th;for(var f=e._storage,g=[],h=this._chunkSize,i=a.length,j=this.count(),k=[],l=e._rawExtent,m=0;m<j;m++){for(var o=0;o<i;o++)k[o]=this.get(a[o],m);k[i]=m;var p=b&&b.apply(c,k);if(null!=p){"object"!=typeof p&&(g[0]=p,p=g);for(var q=this.getRawIndex(m),r=Math.floor(q/h),s=q%h,t=0;t<p.length;t++){var u=a[t],v=p[t],w=l[u],x=f[u];x&&(x[r][s]=v),v<w[0]&&(w[0]=v),v>w[1]&&(w[1]=v)}}}return e},xu.downSample=function(a,b,c,d){for(var e=xh(this,[a]),f=e._storage,g=[],h=Math.floor(1/b),i=f[a],j=this.count(),k=this._chunkSize,l=e._rawExtent[a],m=new(oh(this))(j),n=0,o=0;o<j;o+=h){h>j-o&&(h=j-o,g.length=h);for(var p=0;p<h;p++){var q=this.getRawIndex(o+p),r=Math.floor(q/k),s=q%k;g[p]=i[r][s]}var t=c(g),u=this.getRawIndex(Math.min(o+d(g,t)||0,j-1)),v=u%k;i[Math.floor(u/k)][v]=t,t<l[0]&&(l[0]=t),t>l[1]&&(l[1]=t),m[n++]=u}return e._count=n,e._indices=m,e.getRawIndex=uh,e},xu.getItemModel=function(a){var b=this.hostModel;return new ne(this.getRawDataItem(a),b,b&&b.ecModel)},xu.diff=function(a){var b=this;return new jh(a?a.getIndices():[],this.getIndices(),function(b){return vh(a,b)},function(a){return vh(b,a)})},xu.getVisual=function(a){var b=this._visual;return b&&b[a]},xu.setVisual=function(a,b){if(pu(a))for(var c in a)a.hasOwnProperty(c)&&this.setVisual(c,a[c]);else this._visual=this._visual||{},this._visual[a]=b},xu.setLayout=function(a,b){if(pu(a))for(var c in a)a.hasOwnProperty(c)&&this.setLayout(c,a[c]);else this._layout[a]=b},xu.getLayout=function(a){return this._layout[a]},xu.getItemLayout=function(a){return this._itemLayouts[a]},xu.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?f(this._itemLayouts[a]||{},b):b},xu.clearItemLayouts=function(){this._itemLayouts.length=0},xu.getItemVisual=function(a,b,c){var d=this._itemVisuals[a],e=d&&d[b];return null!=e||c?e:this.getVisual(b)},xu.setItemVisual=function(a,b,c){var d=this._itemVisuals[a]||{},e=this.hasItemVisual;if(this._itemVisuals[a]=d,pu(b))for(var f in b)b.hasOwnProperty(f)&&(d[f]=b[f],e[f]=!0);else d[b]=c,e[b]=!0},xu.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var yu=function(a){a.seriesIndex=this.seriesIndex,a.dataIndex=this.dataIndex,a.dataType=this.dataType};xu.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(yu,b)),this._graphicEls[a]=b},xu.getItemGraphicEl=function(a){return this._graphicEls[a]},xu.eachItemGraphicEl=function(a,b){m(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})},xu.cloneShallow=function(a){if(!a){var b=n(this.dimensions,this.getDimensionInfo,this);a=new wu(b,this.hostModel)}if(a._storage=this._storage,qh(a,this),this._indices){var c=this._indices.constructor;a._indices=new c(this._indices)}else a._indices=null;return a.getRawIndex=a._indices?uh:th,a},xu.wrapMethod=function(a,b){var c=this[a];"function"==typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var a=c.apply(this,arguments);return b.apply(this,[a].concat(D(arguments)))})},xu.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],xu.CHANGABLE_METHODS=["filterSelf","selectRange"];var zu=function(a,b){return b=b||{},Ah(b.coordDimensions||[],a,{dimsDef:b.dimensionsDefine||a.dimensionsDefine,encodeDef:b.encodeDefine||a.encodeDefine,dimCount:b.dimensionsCount,generateCoord:b.generateCoord,generateCoordCount:b.generateCoordCount})};Jh.prototype.parse=function(a){return a},Jh.prototype.getSetting=function(a){return this._setting[a]},Jh.prototype.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]},Jh.prototype.normalize=function(a){var b=this._extent;return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])},Jh.prototype.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]},Jh.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},Jh.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))},Jh.prototype.getExtent=function(){return this._extent.slice()},Jh.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},Jh.prototype.isBlank=function(){return this._isBlank},Jh.prototype.setBlank=function(a){this._isBlank=a},Jh.prototype.getLabel=null,Ic(Jh),Mc(Jh,{registerWhenExtend:!0}),Kh.createByAxisModel=function(a){var b=a.option,c=b.data,d=c&&n(c,Mh);return new Kh({categories:d,needCollect:!d,deduplication:!1!==b.dedplication})};var Au=Kh.prototype;Au.getOrdinal=function(a){return Lh(this).get(a)},Au.parseAndCollect=function(a){var b,c=this._needCollect;if("string"!=typeof a&&!c)return a;if(c&&!this._deduplication)return b=this.categories.length,this.categories[b]=a,b;var d=Lh(this);return null==(b=d.get(a))&&(c?(b=this.categories.length,this.categories[b]=a,d.set(a,b)):b=NaN),b};var Bu=Jh.prototype,Cu=Jh.extend({type:"ordinal",init:function(a,b){a&&!s(a)||(a=new Kh({categories:a})),this._ordinalMeta=a,this._extent=b||[0,a.categories.length-1]},parse:function(a){return"string"==typeof a?this._ordinalMeta.getOrdinal(a):Math.round(a)},contain:function(a){return a=this.parse(a),Bu.contain.call(this,a)&&null!=this._ordinalMeta.categories[a]},normalize:function(a){return Bu.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(Bu.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push(c),c++;return a},getLabel:function(a){if(!this.isBlank())return this._ordinalMeta.categories[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:L,niceExtent:L});Cu.create=function(){return new Cu};var Du=ue,Eu=ue,Fu=Jh.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a)),isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1]),Fu.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=Oh(a)},getTicks:function(){return Rh(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(a,b){if(null==a)return"";var c=b&&b.precision;return null==c?c=xe(a)||0:"auto"===c&&(c=this._intervalPrecision),a=Eu(a,c,!0),Ge(a)},niceTicks:function(a,b,c){a=a||5;var d=this._extent,e=d[1]-d[0];if(isFinite(e)){e<0&&(e=-e,d.reverse());var f=Nh(d,a,b,c);this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent}},niceExtent:function(a){var b=this._extent;if(b[0]===b[1])if(0!==b[0]){var c=b[0];a.fixMax?b[0]-=c/2:(b[1]+=c/2,b[0]-=c/2)}else b[1]=1;var d=b[1]-b[0];isFinite(d)||(b[0]=0,b[1]=1),this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);var e=this._interval;a.fixMin||(b[0]=Eu(Math.floor(b[0]/e)*e)),a.fixMax||(b[1]=Eu(Math.ceil(b[1]/e)*e))}});Fu.create=function(){return new Fu};var Gu="__ec_stack_",Hu="undefined"!=typeof Float32Array?Float32Array:Array,Iu={seriesType:"bar",plan:ot(),reset:function(a){if(Yh(a)&&Zh(a)){var b=a.getData(),c=a.coordinateSystem,d=c.getBaseAxis(),e=c.getOtherAxis(d),f=b.mapDimension(e.dim),g=b.mapDimension(d.dim),h=e.isHorizontal(),i=h?0:1,j=Xh(Vh([a]),d,a).width;return j>.5||(j=.5),{progress:function(a,b){for(var k,l=new Hu(2*a.count),m=[],n=[],o=0;null!=(k=a.next());)n[i]=b.get(f,k),n[1-i]=b.get(g,k),m=c.dataToPoint(n,null,m),l[o++]=m[0],l[o++]=m[1];b.setLayout({largePoints:l,barWidth:j,valueAxisStart:$h(d,e,!1),valueAxisHorizontal:h})}}}}},Ju=Fu.prototype,Ku=Math.ceil,Lu=Math.floor,Mu=function(a,b,c,d){for(;c<d;){var e=c+d>>>1;a[e][1]<b?c=e+1:d=e}return c},Nu=Fu.extend({type:"time",getLabel:function(a){var b=this._stepLvl,c=new Date(a);return Me(b[0],c,this.getSetting("useUTC"))},niceExtent:function(a){var b=this._extent;if(b[0]===b[1]&&(b[0]-=864e5,b[1]+=864e5),b[1]===-1/0&&b[0]===1/0){var c=new Date;b[1]=+new Date(c.getFullYear(),c.getMonth(),c.getDate()),b[0]=b[1]-864e5}this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);var d=this._interval;a.fixMin||(b[0]=ue(Lu(b[0]/d)*d)),a.fixMax||(b[1]=ue(Ku(b[1]/d)*d))},niceTicks:function(a,b,c){a=a||10;var d=this._extent,e=d[1]-d[0],f=e/a;null!=b&&f<b&&(f=b),null!=c&&f>c&&(f=c);var g=Ou.length,h=Mu(Ou,f,0,g),i=Ou[Math.min(h,g-1)],j=i[1];"year"===i[0]&&(j*=Fe(e/j/a,!0));var k=this.getSetting("useUTC")?0:60*new Date(+d[0]||+d[1]).getTimezoneOffset()*1e3,l=[Math.round(Ku((d[0]-k)/j)*j+k),Math.round(Lu((d[1]-k)/j)*j+k)];Qh(l,d),this._stepLvl=i,this._interval=j,this._niceExtent=l},parse:function(a){return+Ce(a)}});m(["contain","normalize"],function(a){Nu.prototype[a]=function(b){return Ju[a].call(this,this.parse(b))}});var Ou=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];Nu.create=function(a){return new Nu({useUTC:a.ecModel.get("useUTC")})};var Pu=Jh.prototype,Qu=Fu.prototype,Ru=xe,Su=ue,Tu=Math.floor,Uu=Math.ceil,Vu=Math.pow,Wu=Math.log,Xu=Jh.extend({type:"log",base:10,$constructor:function(){Jh.apply(this,arguments),this._originalScale=new Fu},getTicks:function(){var a=this._originalScale,b=this._extent,c=a.getExtent();return n(Qu.getTicks.call(this),function(d){var e=ue(Vu(this.base,d));return e=d===b[0]&&a.__fixMin?_h(e,c[0]):e,e=d===b[1]&&a.__fixMax?_h(e,c[1]):e},this)},getLabel:Qu.getLabel,scale:function(a){return a=Pu.scale.call(this,a),Vu(this.base,a)},setExtent:function(a,b){var c=this.base;a=Wu(a)/Wu(c),b=Wu(b)/Wu(c),Qu.setExtent.call(this,a,b)},getExtent:function(){var a=this.base,b=Pu.getExtent.call(this);b[0]=Vu(a,b[0]),b[1]=Vu(a,b[1]);var c=this._originalScale,d=c.getExtent();return c.__fixMin&&(b[0]=_h(b[0],d[0])),c.__fixMax&&(b[1]=_h(b[1],d[1])),b},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=Wu(a[0])/Wu(b),a[1]=Wu(a[1])/Wu(b),Pu.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},niceTicks:function(a){a=a||10;var b=this._extent,c=b[1]-b[0];if(!(c===1/0||c<=0)){var d=De(c);for(a/c*d<=.5&&(d*=10);!isNaN(d)&&Math.abs(d)<1&&Math.abs(d)>0;)d*=10;var e=[ue(Uu(b[0]/d)*d),ue(Tu(b[1]/d)*d)];this._interval=d,this._niceExtent=e}},niceExtent:function(a){Qu.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin,b.__fixMax=a.fixMax}});m(["contain","normalize"],function(a){Xu.prototype[a]=function(b){return b=Wu(b)/Wu(this.base),Pu[a].call(this,b)}}),Xu.create=function(){return new Xu};var Yu={getMin:function(a){var b=this.option,c=a||null==b.rangeStart?b.min:b.rangeStart;return this.axis&&null!=c&&"dataMin"!==c&&"function"!=typeof c&&!z(c)&&(c=this.axis.scale.parse(c)),c},getMax:function(a){var b=this.option,c=a||null==b.rangeEnd?b.max:b.rangeEnd;return this.axis&&null!=c&&"dataMax"!==c&&"function"!=typeof c&&!z(c)&&(c=this.axis.scale.parse(c)),c},getNeedCrossZero:function(){var a=this.option;return null==a.rangeStart&&null==a.rangeEnd&&!a.scale},getCoordSysModel:L,setRange:function(a,b){this.option.rangeStart=a,this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Zu=Cd({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d+f),a.lineTo(c-e,d+f),a.closePath()}}),$u=Cd({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d),a.lineTo(c,d+f),a.lineTo(c-e,d),a.closePath()}}),_u=Cd({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width/5*3,f=Math.max(e,b.height),g=e/2,h=g*g/(f-g),i=d-f+g+h,j=Math.asin(h/g),k=Math.cos(j)*g,l=Math.sin(j),m=Math.cos(j),n=.6*g,o=.7*g;a.moveTo(c-k,i+h),a.arc(c,i,g,Math.PI-j,2*Math.PI+j),a.bezierCurveTo(c+k-l*n,i+h+m*n,c,d-o,c,d),a.bezierCurveTo(c,d-o,c-k+l*n,i+h+m*n,c-k,i+h),a.closePath()}}),av=Cd({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.width,e=b.x,f=b.y,g=d/3*2;a.moveTo(e,f),a.lineTo(e+g,f+c),a.lineTo(e,f+c/4*3),a.lineTo(e-g,f+c),a.lineTo(e,f),a.closePath()}}),bv={line:function(a,b,c,d,e){e.x1=a,e.y1=b+d/2,e.x2=a+c,e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d},roundRect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d,e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){var f=Math.min(c,d);e.x=a,e.y=b,e.width=f,e.height=f},circle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d}},cv={};m({line:Pr,rect:Or,roundRect:Or,square:Or,circle:Fr,diamond:$u,pin:_u,arrow:av,triangle:Zu},function(a,b){cv[b]=new a});var dv=Cd({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style;"pin"===this.shape.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(a,b,c){var d=b.symbolType,e=cv[d];"none"!==b.symbolType&&(e||(e=cv[d="rect"]),bv[d](b.x,b.y,b.width,b.height,e.shape),e.buildPath(a,e.shape,c))}}),ev={isDimensionStacked:Eh,enableDataStack:Dh,getStackedDimension:Fh},fv=(Object.freeze||Object)({createList:function(a){return Gh(a.getSource(),a)},getLayoutRect:Pe,dataStack:ev,createScale:function(a,b){var c=b;ne.isInstance(b)||k(c=new ne(b),Yu);var d=di(c);return d.setExtent(a[0],a[1]),ci(d,c),d},mixinAxisModelCommonMethods:function(a){k(a,Yu)},completeDimensions:Ah,createDimensions:zu,createSymbol:ki}),gv=1e-8;ni.prototype={constructor:ni,properties:null,getBoundingRect:function(){var a=this._rect;if(a)return a;for(var b=Number.MAX_VALUE,c=[b,b],d=[-b,-b],e=[],f=[],g=this.geometries,h=0;h<g.length;h++)"polygon"===g[h].type&&(_c(g[h].exterior,e,f),Z(c,c,e),$(d,d,f));return 0===h&&(c[0]=c[1]=d[0]=d[1]=0),this._rect=new Ua(c[0],c[1],d[0]-c[0],d[1]-c[1])},contain:function(a){var b=this.getBoundingRect(),c=this.geometries;if(!b.contain(a[0],a[1]))return!1;a:for(var d=0,e=c.length;d<e;d++)if("polygon"===c[d].type){var f=c[d].exterior,g=c[d].interiors;if(mi(f,a[0],a[1])){for(var h=0;h<(g?g.length:0);h++)if(mi(g[h]))continue a;return!0}}return!1},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=e.width/e.height;c?d||(d=c/f):c=f*d;for(var g=new Ua(a,b,c,d),h=e.calculateTransform(g),i=this.geometries,j=0;j<i.length;j++)if("polygon"===i[j].type){for(var k=i[j].exterior,l=i[j].interiors,m=0;m<k.length;m++)Y(k[m],k[m],h);for(var n=0;n<(l?l.length:0);n++)for(m=0;m<l[n].length;m++)Y(l[n][m],l[n][m],h)}(e=this._rect).copy(g),this.center=[e.x+e.width/2,e.y+e.height/2]}};var hv=function(a){return oi(a),n(p(a.features,function(a){return a.geometry&&a.properties&&a.geometry.coordinates.length>0}),function(a){var b=a.properties,c=a.geometry,d=c.coordinates,e=[];"Polygon"===c.type&&e.push({type:"polygon",exterior:d[0],interiors:d.slice(1)}),"MultiPolygon"===c.type&&m(d,function(a){a[0]&&e.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})});var f=new ni(b.name,e,b.cp);return f.properties=b,f})},iv=Bc(),jv=[0,1],kv=function(a,b,c){this.dim=a,this.scale=b,this._extent=c||[0,0],this.inverse=!1,this.onBand=!1};kv.prototype={constructor:kv,contain:function(a){var b=this._extent,c=Math.min(b[0],b[1]),d=Math.max(b[0],b[1]);return a>=c&&a<=d},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return ye(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a,c[1]=b},dataToCoord:function(a,b){var c=this._extent,d=this.scale;return a=d.normalize(a),this.onBand&&"ordinal"===d.type&&Fi(c=c.slice(),d.count()),se(a,jv,c,b)},coordToData:function(a,b){var c=this._extent,d=this.scale;this.onBand&&"ordinal"===d.type&&Fi(c=c.slice(),d.count());var e=se(a,c,jv,b);return this.scale.scale(e)},pointToData:function(a,b){},getTicksCoords:function(a){var b=(a=a||{}).tickModel||this.getTickModel(),c=ri(this,b),d=n(c.ticks,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this),e=b.get("alignWithLabel");return Gi(this,d,c.tickCategoryInterval,e,a.clamp),d},getViewLabels:function(){return qi(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var a=this._extent,b=this.scale.getExtent(),c=b[1]-b[0]+(this.onBand?1:0);0===c&&(c=1);var d=Math.abs(a[1]-a[0]);return Math.abs(d)/c},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return Ai(this)}};var lv=hv,mv={};m(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(a){mv[a]=Ko[a]}),lt.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){return Gh(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var nv=Ii.prototype,ov=Ii.getSymbolSize=function(a,b){var c=a.getItemVisual(b,"symbolSize");return c instanceof Array?c.slice():[+c,+c]};nv._createSymbol=function(a,b,c,d,e){this.removeAll();var f=ki(a,-1,-1,2,2,b.getItemVisual(c,"color"),e);f.attr({z2:100,culling:!0,scale:Ji(d)}),f.drift=Ki,this._symbolType=a,this.add(f)},nv.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},nv.getSymbolPath=function(){return this.childAt(0)},nv.getScale=function(){return this.childAt(0).scale},nv.highlight=function(){this.childAt(0).trigger("emphasis")},nv.downplay=function(){this.childAt(0).trigger("normal")},nv.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a,c.z=b},nv.setDraggable=function(a){var b=this.childAt(0);b.draggable=a,b.cursor=a?"move":"pointer"},nv.updateData=function(a,b,c){this.silent=!1;var d=a.getItemVisual(b,"symbol")||"circle",e=a.hostModel,f=ov(a,b),g=d!==this._symbolType;if(g){var h=a.getItemVisual(b,"symbolKeepAspect");this._createSymbol(d,a,b,f,h)}else(i=this.childAt(0)).silent=!1,fe(i,{scale:Ji(f)},e,b);if(this._updateCommon(a,b,f,c),g){var i=this.childAt(0),j=c&&c.fadeIn,k={scale:i.scale.slice()};j&&(k.style={opacity:i.style.opacity}),i.scale=[0,0],j&&(i.style.opacity=0),ge(i,k,e,b)}this._seriesModel=e};var pv=["itemStyle"],qv=["emphasis","itemStyle"],rv=["label"],sv=["emphasis","label"];nv._updateCommon=function(a,b,c,d){var e=this.childAt(0),g=a.hostModel,h=a.getItemVisual(b,"color");"image"!==e.type&&e.useStyle({strokeNoScale:!0});var i=d&&d.itemStyle,j=d&&d.hoverItemStyle,k=d&&d.symbolRotate,l=d&&d.symbolOffset,m=d&&d.labelModel,n=d&&d.hoverLabelModel,o=d&&d.hoverAnimation,p=d&&d.cursorStyle;if(!d||a.hasItemOption){var q=d&&d.itemModel?d.itemModel:a.getItemModel(b);i=q.getModel(pv).getItemStyle(["color"]),j=q.getModel(qv).getItemStyle(),k=q.getShallow("symbolRotate"),l=q.getShallow("symbolOffset"),m=q.getModel(rv),n=q.getModel(sv),o=q.getShallow("hoverAnimation"),p=q.getShallow("cursor")}else j=f({},j);var r=e.style;e.attr("rotation",(k||0)*Math.PI/180||0),l&&e.attr("position",[te(l[0],c[0]),te(l[1],c[1])]),p&&e.attr("cursor",p),e.setColor(h,d&&d.symbolInnerColor),e.setStyle(i);var s=a.getItemVisual(b,"opacity");null!=s&&(r.opacity=s);var t=a.getItemVisual(b,"liftZ"),u=e.__z2Origin;null!=t?null==u&&(e.__z2Origin=e.z2,e.z2+=t):null!=u&&(e.z2=u,e.__z2Origin=null);var v=d&&d.useNameLabel;Xd(r,j,m,n,{labelFetcher:g,labelDataIndex:b,defaultText:function(b,c){return v?a.getName(b):Hi(a,b)},isRectText:!0,autoColor:h}),e.off("mouseover").off("mouseout").off("emphasis").off("normal"),e.hoverStyle=j,Wd(e);var w=Ji(c);if(o&&g.isAnimationEnabled()){var x=function(){if(!this.incremental){var a=w[1]/w[0];this.animateTo({scale:[Math.max(1.1*w[0],w[0]+3),Math.max(1.1*w[1],w[1]+3*a)]},400,"elasticOut")}},y=function(){this.incremental||this.animateTo({scale:w},400,"elasticOut")};e.on("mouseover",x).on("mouseout",y).on("emphasis",x).on("normal",y)}},nv.fadeOut=function(a,b){var c=this.childAt(0);this.silent=c.silent=!0,!(b&&b.keepLabel)&&(c.style.text=null),fe(c,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,a)},j(Ii,yp);var tv=Li.prototype;tv.updateData=function(a,b){b=Ni(b);var c=this.group,d=a.hostModel,e=this._data,f=this._symbolCtor,g=Oi(a);e||c.removeAll(),a.diff(e).add(function(d){var e=a.getItemLayout(d);if(Mi(a,e,d,b)){var h=new f(a,d,g);h.attr("position",e),a.setItemGraphicEl(d,h),c.add(h)}}).update(function(h,i){var j=e.getItemGraphicEl(i),k=a.getItemLayout(h);Mi(a,k,h,b)?(j?(j.updateData(a,h,g),fe(j,{position:k},d)):(j=new f(a,h)).attr("position",k),c.add(j),a.setItemGraphicEl(h,j)):c.remove(j)}).remove(function(a){var b=e.getItemGraphicEl(a);b&&b.fadeOut(function(){c.remove(b)})}).execute(),this._data=a},tv.isPersistent=function(){return!0},tv.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){var d=a.getItemLayout(c);b.attr("position",d)})},tv.incrementalPrepareUpdate=function(a){this._seriesScope=Oi(a),this._data=null,this.group.removeAll()},tv.incrementalUpdate=function(a,b,c){c=Ni(c);for(var d=a.start;d<a.end;d++){var e=b.getItemLayout(d);if(Mi(b,e,d,c)){var f=new this._symbolCtor(b,d,this._seriesScope);f.traverse(function(a){a.isGroup||(a.incremental=a.useHoverLayer=!0)}),f.attr("position",e),this.group.add(f),b.setItemGraphicEl(d,f)}}},tv.remove=function(a){var b=this.group,c=this._data;c&&a?c.eachItemGraphicEl(function(a){a.fadeOut(function(){b.remove(a)})}):b.removeAll()};var uv=function(a,b,c,d,e,f,g,h){for(var i=Si(a,b),j=[],k=[],l=[],m=[],n=[],o=[],p=[],q=Pi(e,b,g),r=Pi(f,a,h),s=0;s<i.length;s++){var t=i[s],u=!0;switch(t.cmd){case"=":var v=a.getItemLayout(t.idx),w=b.getItemLayout(t.idx1);(isNaN(v[0])||isNaN(v[1]))&&(v=w.slice()),j.push(v),k.push(w),l.push(c[t.idx]),m.push(d[t.idx1]),p.push(b.getRawIndex(t.idx1));break;case"+":x=t.idx,j.push(e.dataToPoint([b.get(q.dataDimsForPoint[0],x),b.get(q.dataDimsForPoint[1],x)])),k.push(b.getItemLayout(x).slice()),l.push(Ri(q,e,b,x)),m.push(d[x]),p.push(b.getRawIndex(x));break;case"-":var x=t.idx,y=a.getRawIndex(x);y!==x?(j.push(a.getItemLayout(x)),k.push(f.dataToPoint([a.get(r.dataDimsForPoint[0],x),a.get(r.dataDimsForPoint[1],x)])),l.push(c[x]),m.push(Ri(r,f,a,x)),p.push(y)):u=!1}u&&(n.push(t),o.push(o.length))}o.sort(function(a,b){return p[a]-p[b]});for(var z=[],A=[],B=[],C=[],D=[],s=0;s<o.length;s++)x=o[s],z[s]=j[x],A[s]=k[x],B[s]=l[x],C[s]=m[x],D[s]=n[x];return{current:z,next:A,stackedOnCurrent:B,stackedOnNext:C,status:D}},vv=Z,wv=$,xv=Q,yv=N,zv=[],Av=[],Bv=[],Cv=sd.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:Hr(sd.prototype.brush),buildPath:function(a,b){var c=b.points,d=0,e=c.length,f=Xi(c,b.smoothConstraint);if(b.connectNulls){for(;e>0&&Ti(c[e-1]);e--);for(;d<e&&Ti(c[d]);d++);}for(;d<e;)d+=Ui(a,c,d,e,e,1,f.min,f.max,b.smooth,b.smoothMonotone,b.connectNulls)+1}}),Dv=sd.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:Hr(sd.prototype.brush),buildPath:function(a,b){var c=b.points,d=b.stackedOnPoints,e=0,f=c.length,g=b.smoothMonotone,h=Xi(c,b.smoothConstraint),i=Xi(d,b.smoothConstraint);if(b.connectNulls){for(;f>0&&Ti(c[f-1]);f--);for(;e<f&&Ti(c[e]);e++);}for(;e<f;){var j=Ui(a,c,e,f,f,1,h.min,h.max,b.smooth,g,b.connectNulls);Ui(a,d,e+j-1,j,f,-1,i.min,i.max,b.stackedOnSmooth,g,b.connectNulls),e+=j+1,a.closePath()}}});dg.extend({type:"line",init:function(){var a=new yp,b=new Li;this.group.add(b.group),this._symbolDraw=b,this._lineGroup=a},render:function(a,b,c){var d=a.coordinateSystem,e=this.group,f=a.getData(),h=a.getModel("lineStyle"),i=a.getModel("areaStyle"),j=f.mapArray(f.getItemLayout),k="polar"===d.type,l=this._coordSys,m=this._symbolDraw,n=this._polyline,o=this._polygon,p=this._lineGroup,q=a.get("animation"),r=!i.isEmpty(),s=i.get("origin"),t=_i(d,f,Pi(d,f,s)),u=a.get("showSymbol"),v=u&&!k&&fj(a,f,d),w=this._data;w&&w.eachItemGraphicEl(function(a,b){a.__temp&&(e.remove(a),w.setItemGraphicEl(b,null))}),u||m.remove(),e.add(p);var x=!k&&a.get("step");n&&l.type===d.type&&x===this._step?(r&&!o?o=this._newPolygon(j,t,d,q):o&&!r&&(p.remove(o),o=this._polygon=null),p.setClipPath(cj(d,!1,!1,a)),u&&m.updateData(f,{isIgnore:v,clipShape:cj(d,!1,!0,a)}),f.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),Yi(this._stackedOnPoints,t)&&Yi(this._points,j)||(q?this._updateAnimation(f,t,d,c,x,s):(x&&(j=dj(j,d,x),t=dj(t,d,x)),n.setShape({points:j}),o&&o.setShape({points:j,stackedOnPoints:t})))):(u&&m.updateData(f,{isIgnore:v,clipShape:cj(d,!1,!0,a)}),x&&(j=dj(j,d,x),t=dj(t,d,x)),n=this._newPolyline(j,d,q),r&&(o=this._newPolygon(j,t,d,q)),p.setClipPath(cj(d,!0,!1,a)));var y=ej(f,d)||f.getVisual("color");n.useStyle(g(h.getLineStyle(),{fill:"none",stroke:y,lineJoin:"bevel"}));var z=a.get("smooth");if(z=Zi(a.get("smooth")),n.setShape({smooth:z,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")}),o){var A=f.getCalculationInfo("stackedOnSeries"),B=0;o.useStyle(g(i.getAreaStyle(),{fill:y,opacity:.7,lineJoin:"bevel"})),A&&(B=Zi(A.get("smooth"))),o.setShape({smooth:z,stackedOnSmooth:B,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")})}this._data=f,this._coordSys=d,this._stackedOnPoints=t,this._points=j,this._step=x,this._valueOrigin=s},dispose:function(){},highlight:function(a,b,c,d){var e=a.getData(),f=Ac(e,d);if(!(f instanceof Array)&&null!=f&&f>=0){var g=e.getItemGraphicEl(f);if(!g){var h=e.getItemLayout(f);if(!h)return;(g=new Ii(e,f)).position=h,g.setZ(a.get("zlevel"),a.get("z")),g.ignore=isNaN(h[0])||isNaN(h[1]),g.__temp=!0,e.setItemGraphicEl(f,g),g.stopSymbolAnimation(!0),this.group.add(g)}g.highlight()}else dg.prototype.highlight.call(this,a,b,c,d)},downplay:function(a,b,c,d){var e=a.getData(),f=Ac(e,d);if(null!=f&&f>=0){var g=e.getItemGraphicEl(f);g&&(g.__temp?(e.setItemGraphicEl(f,null),this.group.remove(g)):g.downplay())}else dg.prototype.downplay.call(this,a,b,c,d)},_newPolyline:function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new Cv({shape:{points:a},silent:!0,z2:10}),this._lineGroup.add(b),this._polyline=b,b},_newPolygon:function(a,b){var c=this._polygon;return c&&this._lineGroup.remove(c),c=new Dv({shape:{points:a,stackedOnPoints:b},silent:!0}),this._lineGroup.add(c),this._polygon=c,c},_updateAnimation:function(a,b,c,d,e,f){var g=this._polyline,h=this._polygon,i=a.hostModel,j=uv(this._data,a,this._stackedOnPoints,b,this._coordSys,c,this._valueOrigin,f),k=j.current,l=j.stackedOnCurrent,m=j.next,n=j.stackedOnNext;e&&(k=dj(j.current,c,e),l=dj(j.stackedOnCurrent,c,e),m=dj(j.next,c,e),n=dj(j.stackedOnNext,c,e)),g.shape.__points=j.current,g.shape.points=k,fe(g,{shape:{points:m}},i),h&&(h.setShape({points:k,stackedOnPoints:l}),fe(h,{shape:{points:m,stackedOnPoints:n}},i));for(var o=[],p=j.status,q=0;q<p.length;q++)if("="===p[q].cmd){var r=a.getItemGraphicEl(p[q].idx1);r&&o.push({el:r,ptIdx:q})}g.animators&&g.animators.length&&g.animators[0].during(function(){for(var a=0;a<o.length;a++)o[a].el.attr("position",g.shape.__points[o[a].ptIdx])})},remove:function(a){var b=this.group,c=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),c&&c.eachItemGraphicEl(function(a,d){a.__temp&&(b.remove(a),c.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Ev=function(a,b,c){return{seriesType:a,performRawSeries:!0,reset:function(a,d,e){var f=a.getData(),g=a.get("symbol")||b,h=a.get("symbolSize"),i=a.get("symbolKeepAspect");if(f.setVisual({legendSymbol:c||g,symbol:g,symbolSize:h,symbolKeepAspect:i}),!d.isSeriesFiltered(a)){var j="function"==typeof h;return{dataEach:f.hasItemOption||j?function(b,c){if("function"==typeof h){var d=a.getRawValue(c),e=a.getDataParams(c);b.setItemVisual(c,"symbolSize",h(d,e))}if(b.hasItemOption){var f=b.getItemModel(c),g=f.getShallow("symbol",!0),i=f.getShallow("symbolSize",!0),j=f.getShallow("symbolKeepAspect",!0);null!=g&&b.setItemVisual(c,"symbol",g),null!=i&&b.setItemVisual(c,"symbolSize",i),null!=j&&b.setItemVisual(c,"symbolKeepAspect",j)}}:null}}}}},Fv=function(a){return{seriesType:a,plan:ot(),reset:function(a){var b=a.getData(),c=a.coordinateSystem,d=a.pipelineContext.large;if(c){var e=n(c.dimensions,function(a){return b.mapDimension(a)}).slice(0,2),f=e.length,g=b.getCalculationInfo("stackResultDimension");return Eh(b,e[0])&&(e[0]=g),Eh(b,e[1])&&(e[1]=g),f&&{progress:function(a,b){for(var g=a.end-a.start,h=d&&new Float32Array(g*f),i=a.start,j=0,k=[],l=[];i<a.end;i++){var m;if(1===f)n=b.get(e[0],i),m=!isNaN(n)&&c.dataToPoint(n,null,l);else{var n=k[0]=b.get(e[0],i),o=k[1]=b.get(e[1],i);m=!isNaN(n)&&!isNaN(o)&&c.dataToPoint(k,null,l)}d?(h[j++]=m?m[0]:NaN,h[j++]=m?m[1]:NaN):b.setItemLayout(i,m&&m.slice()||[NaN,NaN])}d&&b.setLayout("symbolPoints",h)}}}}}},Gv={average:function(a){for(var b=0,c=0,d=0;d<a.length;d++)isNaN(a[d])||(b+=a[d],c++);return 0===c?NaN:b/c},sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){for(var b=-1/0,c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return isFinite(b)?b:NaN},min:function(a){for(var b=1/0,c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return isFinite(b)?b:NaN},nearest:function(a){return a[0]}},Hv=function(a,b){return Math.round(a.length/2)},Iv=function(a){this._axes={},this._dimList=[],this.name=a||""};Iv.prototype={constructor:Iv,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return n(this._dimList,hj,this)},getAxesByScale:function(a){return a=a.toLowerCase(),p(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,b){for(var c=this._dimList,d=a instanceof Array?[]:{},e=0;e<c.length;e++){var f=c[e],g=this._axes[f];d[f]=g[b](a[f])}return d}},ij.prototype={constructor:ij,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoint:function(a,b,c){var d=this.getAxis("x"),e=this.getAxis("y");return c=c||[],c[0]=d.toGlobalCoord(d.dataToCoord(a[0])),c[1]=e.toGlobalCoord(e.dataToCoord(a[1])),c},clampData:function(a,b){var c=this.getAxis("x").scale,d=this.getAxis("y").scale,e=c.getExtent(),f=d.getExtent(),g=c.parse(a[0]),h=d.parse(a[1]);return b=b||[],b[0]=Math.min(Math.max(Math.min(e[0],e[1]),g),Math.max(e[0],e[1])),b[1]=Math.min(Math.max(Math.min(f[0],f[1]),h),Math.max(f[0],f[1])),b},pointToData:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return b=b||[],b[0]=c.coordToData(c.toLocalCoord(a[0])),b[1]=d.coordToData(d.toLocalCoord(a[1])),b},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}},j(ij,Iv);var Jv=function(a,b,c,d,e){kv.call(this,a,b,c),this.type=d||"value",this.position=e||"bottom"};Jv.prototype={constructor:Jv,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var b=this.getExtent();return b[0]=this.toGlobalCoord(b[0]),b[1]=this.toGlobalCoord(b[1]),a&&b[0]>b[1]&&b.reverse(),b},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},toLocalCoord:null,toGlobalCoord:null},j(Jv,kv);var Kv={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Lv={};Lv.categoryAxis=d({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Kv),Lv.valueAxis=d({boundaryGap:[0,0],splitNumber:5},Kv),Lv.timeAxis=g({scale:!0,min:"dataMin",max:"dataMax"},Lv.valueAxis),Lv.logAxis=g({scale:!0,logBase:10},Lv.valueAxis);var Mv=["value","category","time","log"],Nv=function(a,b,c,f){m(Mv,function(g){b.extend({type:a+"Axis."+g,mergeDefaultAndTheme:function(b,e){var f=this.layoutMode,h=f?Se(b):{};d(b,e.getTheme().get(g+"Axis")),d(b,this.getDefaultOption()),b.type=c(a,b),f&&Re(b,h,f)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=Kh.createByAxisModel(this))},getCategories:function(a){var b=this.option;if("category"===b.type)return a?b.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:e([{},Lv[g+"Axis"],f],!0)})}),zs.registerSubTypeDefaulter(a+"Axis",r(c,a))},Ov=zs.extend({type:"cartesian2dAxis",axis:null,init:function(){Ov.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Ov.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Ov.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});d(Ov.prototype,Yu);var Pv={offset:0};Nv("x",Ov,jj,Pv),Nv("y",Ov,jj,Pv),zs.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var Qv=lj.prototype;Qv.type="grid",Qv.axisPointerEnabled=!0,Qv.getRect=function(){return this._rect},Qv.update=function(a,b){var c=this._axesMap;this._updateScale(a,this.model),m(c.x,function(a){ci(a.scale,a.model)}),m(c.y,function(a){ci(a.scale,a.model)}),m(c.x,function(a){mj(c,"y",a)}),m(c.y,function(a){mj(c,"x",a)}),this.resize(this.model,b)},Qv.resize=function(a,b,c){function d(){m(f,function(a){var b=a.isHorizontal(),c=b?[0,e.width]:[0,e.height],d=a.inverse?1:0;a.setExtent(c[d],c[1-d]),oj(a,b?e.x:e.y)})}var e=Pe(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._rect=e;var f=this._axesList;d(),!c&&a.get("containLabel")&&(m(f,function(a){if(!a.model.get("axisLabel.inside")){var b=hi(a);if(b){var c=a.isHorizontal()?"height":"width",d=a.model.get("axisLabel.margin");e[c]-=b[c]+d,"top"===a.position?e.y+=b.height+d:"left"===a.position&&(e.x+=b.width+d)}}}),d())},Qv.getAxis=function(a,b){var c=this._axesMap[a];if(null!=c){if(null==b)for(var d in c)if(c.hasOwnProperty(d))return c[d];return c[b]}},Qv.getAxes=function(){return this._axesList.slice()},Qv.getCartesian=function(a,b){if(null!=a&&null!=b){var c="x"+a+"y"+b;return this._coordsMap[c]}v(a)&&(b=a.yAxisIndex,a=a.xAxisIndex);for(var d=0,e=this._coordsList;d<e.length;d++)if(e[d].getAxis("x").index===a||e[d].getAxis("y").index===b)return e[d]},Qv.getCartesians=function(){return this._coordsList.slice()},Qv.convertToPixel=function(a,b,c){var d=this._findConvertTarget(a,b);return d.cartesian?d.cartesian.dataToPoint(c):d.axis?d.axis.toGlobalCoord(d.axis.dataToCoord(c)):null},Qv.convertFromPixel=function(a,b,c){var d=this._findConvertTarget(a,b);return d.cartesian?d.cartesian.pointToData(c):d.axis?d.axis.coordToData(d.axis.toLocalCoord(c)):null},Qv._findConvertTarget=function(a,b){var c,d,e=b.seriesModel,f=b.xAxisModel||e&&e.getReferringComponents("xAxis")[0],g=b.yAxisModel||e&&e.getReferringComponents("yAxis")[0],h=b.gridModel,j=this._coordsList;return e?i(j,c=e.coordinateSystem)<0&&(c=null):f&&g?c=this.getCartesian(f.componentIndex,g.componentIndex):f?d=this.getAxis("x",f.componentIndex):g?d=this.getAxis("y",g.componentIndex):h&&h.coordinateSystem===this&&(c=this._coordsList[0]),{cartesian:c,axis:d}},Qv.containPoint=function(a){var b=this._coordsList[0];if(b)return b.containPoint(a)},Qv._initCartesian=function(a,b,c){function d(c){return function(d,h){if(kj(d,a,b)){var i=d.get("position");"x"===c?"top"!==i&&"bottom"!==i&&e[i="bottom"]&&(i="top"===i?"bottom":"top"):"left"!==i&&"right"!==i&&e[i="left"]&&(i="left"===i?"right":"left"),e[i]=!0;var j=new Jv(c,di(d),[0,0],d.get("type"),i),k="category"===j.type;j.onBand=k&&d.get("boundaryGap"),j.inverse=d.get("inverse"),d.axis=j,j.model=d,j.grid=this,j.index=h,this._axesList.push(j),f[c][h]=j,g[c]++}}}var e={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},g={x:0,y:0};if(b.eachComponent("xAxis",d("x"),this),b.eachComponent("yAxis",d("y"),this),!g.x||!g.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=f,m(f.x,function(b,c){m(f.y,function(d,e){var f="x"+c+"y"+e,g=new ij(f);g.grid=this,g.model=a,this._coordsMap[f]=g,this._coordsList.push(g),g.addAxis(b),g.addAxis(d)},this)},this)},Qv._updateScale=function(a,b){function c(a,b,c){m(a.mapDimension(b.dim,!0),function(c){b.scale.unionExtentFromData(a,Fh(a,c))})}m(this._axesList,function(a){a.scale.setExtent(1/0,-1/0)}),a.eachSeries(function(d){if(qj(d)){var e=pj(d),f=e[0],g=e[1];if(!kj(f,b,a)||!kj(g,b,a))return;var h=this.getCartesian(f.componentIndex,g.componentIndex),i=d.getData(),j=h.getAxis("x"),k=h.getAxis("y");"list"===i.type&&(c(i,j),c(i,k))}},this)},Qv.getTooltipAxes=function(a){var b=[],c=[];return m(this.getCartesians(),function(d){var e=null!=a&&"auto"!==a?d.getAxis(a):d.getBaseAxis(),f=d.getOtherAxis(e);i(b,e)<0&&b.push(e),i(c,f)<0&&c.push(f)}),{baseAxes:b,otherAxes:c}};var Rv=["xAxis","yAxis"];lj.create=function(a,b){var c=[];return a.eachComponent("grid",function(d,e){var f=new lj(d,a,b);f.name="grid_"+e,f.resize(d,b,!0),d.coordinateSystem=f,c.push(f)}),a.eachSeries(function(a){if(qj(a)){var b=pj(a),c=b[0],d=b[1],e=c.getCoordSysModel().coordinateSystem;a.coordinateSystem=e.getCartesian(c.componentIndex,d.componentIndex)}}),c},lj.dimensions=lj.prototype.dimensions=ij.prototype.dimensions,rf.register("cartesian2d",lj);var Sv=Math.PI,Tv=function(a,b){this.opt=b,this.axisModel=a,g(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new yp;var c=new yp({position:b.position.slice(),rotation:b.rotation});c.updateTransform(),this._transform=c.transform,this._dumbGroup=c};Tv.prototype={constructor:Tv,hasBuilder:function(a){return!!Uv[a]},add:function(a){Uv[a].call(this)},getGroup:function(){return this.group}};var Uv={axisLine:function(){var a=this.opt,b=this.axisModel;if(b.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),d=this._transform,e=[c[0],0],g=[c[1],0];d&&(Y(e,e,d),Y(g,g,d));var h=f({lineCap:"round"},b.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Pr(Hd({anid:"line",shape:{x1:e[0],y1:e[1],x2:g[0],y2:g[1]},style:h,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1})));var i=b.get("axisLine.symbol"),j=b.get("axisLine.symbolSize"),k=b.get("axisLine.symbolOffset")||0;if("number"==typeof k&&(k=[k,k]),null!=i){"string"==typeof i&&(i=[i,i]),"string"!=typeof j&&"number"!=typeof j||(j=[j,j]);var l=j[0],n=j[1];m([{rotate:a.rotation+Math.PI/2,offset:k[0],r:0},{rotate:a.rotation-Math.PI/2,offset:k[1],r:Math.sqrt((e[0]-g[0])*(e[0]-g[0])+(e[1]-g[1])*(e[1]-g[1]))}],function(b,c){if("none"!==i[c]&&null!=i[c]){var d=ki(i[c],-l/2,-n/2,l,n,h.stroke,!0),f=b.r+b.offset,g=[e[0]+f*Math.cos(a.rotation),e[1]-f*Math.sin(a.rotation)];d.attr({rotation:b.rotate,position:g,silent:!0}),this.group.add(d)}},this)}}},axisTickLabel:function(){var a=this.axisModel,b=this.opt,c=yj(this,a,b);uj(a,zj(this,a,b),c)},axisName:function(){var a=this.opt,b=this.axisModel,c=A(a.axisName,b.get("name"));if(c){var d,e=b.get("nameLocation"),g=a.nameDirection,h=b.getModel("nameTextStyle"),i=b.get("nameGap")||0,j=this.axisModel.axis.getExtent(),k=j[0]>j[1]?-1:1,l=["start"===e?j[0]-k*i:"end"===e?j[1]+k*i:(j[0]+j[1])/2,xj(e)?a.labelOffset+g*i:0],m=b.get("nameRotate");null!=m&&(m=m*Sv/180);var n;xj(e)?d=Vv(a.rotation,null!=m?m:a.rotation,g):(d=sj(a,e,m||0,j),null!=(n=a.axisNameAvailableWidth)&&(n=Math.abs(n/Math.sin(d.rotation)),!isFinite(n)&&(n=null)));var o=h.getFont(),p=b.get("nameTruncate",!0)||{},q=p.ellipsis,r=A(a.nameTruncateMaxWidth,p.maxWidth,n),s=null!=q&&null!=r?qs(c,r,o,q,{minChar:2,placeholder:p.placeholder}):c,t=b.get("tooltip",!0),u=b.mainType,v={componentType:u,name:c,$vars:["name"]};v[u+"Index"]=b.componentIndex;var w=new Er({anid:"name",__fullText:c,__truncatedText:s,position:l,rotation:d.rotation,silent:tj(b),z2:1,tooltip:t&&t.show?f({content:c,formatter:function(){return c},formatterParams:v},t):null});Yd(w.style,h,{text:s,textFont:o,textFill:h.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:d.textAlign,textVerticalAlign:d.textVerticalAlign}),b.get("triggerEvent")&&(w.eventData=rj(b),w.eventData.targetType="axisName",w.eventData.name=c),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},Vv=Tv.innerTextLayout=function(a,b,c){var d,e,f=Ae(b-a);return Be(f)?(e=c>0?"top":"bottom",d="center"):Be(f-Sv)?(e=c>0?"bottom":"top",d="center"):(e="middle",d=f>0&&f<Sv?c>0?"right":"left":c>0?"left":"right"),{rotation:f,textAlign:d,textVerticalAlign:e}},Wv=m,Xv=r,Yv=fh({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(a,b,c,d){this.axisPointerClass&&Gj(a),Yv.superApply(this,"render",arguments),Lj(this,a,0,c,0,!0)},updateAxisPointer:function(a,b,c,d,e){Lj(this,a,0,c,0,!1)},remove:function(a,b){var c=this._axisPointer;c&&c.remove(b),Yv.superApply(this,"remove",arguments)},dispose:function(a,b){Mj(this,b),Yv.superApply(this,"dispose",arguments)}}),Zv=[];Yv.registerAxisPointerClass=function(a,b){Zv[a]=b},Yv.getAxisPointerClass=function(a){return a&&Zv[a]};var $v=["axisLine","axisTickLabel","axisName"],_v=["splitArea","splitLine"],aw=Yv.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(a,b,c,d){this.group.removeAll();var e=this._axisGroup;if(this._axisGroup=new yp,this.group.add(this._axisGroup),a.get("show")){var f=a.getCoordSysModel(),g=Nj(f,a),h=new Tv(a,g);m($v,h.add,h),this._axisGroup.add(h.getGroup()),m(_v,function(b){a.get(b+".show")&&this["_"+b](a,f)},this),ke(e,this._axisGroup,a),aw.superCall(this,"render",a,b,c,d)}},remove:function(){this._splitAreaColors=null},_splitLine:function(a,b){var c=a.axis;if(!c.scale.isBlank()){var d=a.getModel("splitLine"),e=d.getModel("lineStyle"),f=e.get("color");f=s(f)?f:[f];for(var h=b.coordinateSystem.getRect(),i=c.isHorizontal(),j=0,k=c.getTicksCoords({tickModel:d}),l=[],m=[],n=e.getLineStyle(),o=0;o<k.length;o++){var p=c.toGlobalCoord(k[o].coord);i?(l[0]=p,l[1]=h.y,m[0]=p,m[1]=h.y+h.height):(l[0]=h.x,l[1]=p,m[0]=h.x+h.width,m[1]=p);var q=j++%f.length,r=k[o].tickValue;this._axisGroup.add(new Pr(Hd({anid:null!=r?"line_"+k[o].tickValue:null,shape:{x1:l[0],y1:l[1],x2:m[0],y2:m[1]},style:g({stroke:f[q]},n),silent:!0})))}}},_splitArea:function(a,b){var c=a.axis;if(!c.scale.isBlank()){var d=a.getModel("splitArea"),e=d.getModel("areaStyle"),f=e.get("color"),h=b.coordinateSystem.getRect(),i=c.getTicksCoords({tickModel:d,clamp:!0});if(i.length){var j=f.length,k=this._splitAreaColors,l=K(),m=0;if(k)for(q=0;q<i.length;q++){var n=k.get(i[q].tickValue);if(null!=n){m=(n+(j-1)*q)%j;break}}var o=c.toGlobalCoord(i[0].coord),p=e.getAreaStyle();f=s(f)?f:[f];for(var q=1;q<i.length;q++){var r,t,u,v,w=c.toGlobalCoord(i[q].coord);c.isHorizontal()?(r=o,t=h.y,u=w-r,v=h.height,o=r+u):(r=h.x,t=o,u=h.width,o=t+(v=w-t));var x=i[q-1].tickValue;null!=x&&l.set(x,m),this._axisGroup.add(new Or({anid:null!=x?"area_"+x:null,shape:{x:r,y:t,width:u,height:v},style:g({fill:f[m]},p),silent:!0})),m=(m+1)%j}this._splitAreaColors=l}}}});aw.extend({type:"xAxis"}),aw.extend({type:"yAxis"}),fh({type:"grid",render:function(a,b){this.group.removeAll(),a.get("show")&&this.group.add(new Or({shape:a.coordinateSystem.getRect(),style:g({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),Zg(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),bh(Ev("line","circle","line")),ah(Fv("line")),$g(Tt.PROCESSOR.STATISTIC,function(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(a,b,c){var d=a.getData(),e=a.get("sampling"),f=a.coordinateSystem;if("cartesian2d"===f.type&&e){var g=f.getBaseAxis(),h=f.getOtherAxis(g),i=g.getExtent(),j=i[1]-i[0],k=Math.round(d.count()/j);if(k>1){var l;"string"==typeof e?l=Gv[e]:"function"==typeof e&&(l=e),l&&a.setData(d.downSample(d.mapDimension(h.dim),1/k,l,Hv))}}}}}("line")),lt.extend({type:"series.__base_bar__",getInitialData:function(a,b){return Gh(this.getSource(),this)},getMarkerPosition:function(a){var b=this.coordinateSystem;if(b){var c=b.dataToPoint(b.clampData(a)),d=this.getData(),e=d.getLayout("offset"),f=d.getLayout("size");return c[b.getBaseAxis().isHorizontal()?0:1]+=e+f/2,c}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}}).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var a=this.get("progressiveThreshold"),b=this.get("largeThreshold");return b>a&&(a=b),a}});var bw=yq([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),cw={getBarItemStyle:function(a){var b=bw(this,a);if(this.getBorderLineDash){var c=this.getBorderLineDash();c&&(b.lineDash=c)}return b}},dw=["itemStyle","barBorderWidth"];f(ne.prototype,cw),hh({type:"bar",render:function(a,b,c){this._updateDrawMode(a);var d=a.get("coordinateSystem");return"cartesian2d"!==d&&"polar"!==d||(this._isLargeDraw?this._renderLarge(a,b,c):this._renderNormal(a,b,c)),this.group},incrementalPrepareRender:function(a,b,c){this._clear(),this._updateDrawMode(a)},incrementalRender:function(a,b,c,d){this._incrementalRenderLarge(a,b)},_updateDrawMode:function(a){var b=a.pipelineContext.large;(null==this._isLargeDraw||b^this._isLargeDraw)&&(this._isLargeDraw=b,this._clear())},_renderNormal:function(a,b,c){var d,e=this.group,f=a.getData(),g=this._data,h=a.coordinateSystem,i=h.getBaseAxis();"cartesian2d"===h.type?d=i.isHorizontal():"polar"===h.type&&(d="angle"===i.dim);var j=a.isAnimationEnabled()?a:null;f.diff(g).add(function(b){if(f.hasValue(b)){var c=f.getItemModel(b),g=fw[h.type](f,b,c),i=ew[h.type](f,b,c,g,d,j);f.setItemGraphicEl(b,i),e.add(i),Sj(i,f,b,c,g,a,d,"polar"===h.type)}}).update(function(b,c){var i=g.getItemGraphicEl(c);if(f.hasValue(b)){var k=f.getItemModel(b),l=fw[h.type](f,b,k);i?fe(i,{shape:l},j,b):i=ew[h.type](f,b,k,l,d,j,!0),f.setItemGraphicEl(b,i),e.add(i),Sj(i,f,b,k,l,a,d,"polar"===h.type)}else e.remove(i)}).remove(function(a){var b=g.getItemGraphicEl(a);"cartesian2d"===h.type?b&&Qj(a,j,b):b&&Rj(a,j,b)}).execute(),this._data=f},_renderLarge:function(a,b,c){this._clear(),Uj(a,this.group)},_incrementalRenderLarge:function(a,b){Uj(b,this.group,!0)},dispose:L,remove:function(a){this._clear(a)},_clear:function(a){var b=this.group,c=this._data;a&&a.get("animation")&&c&&!this._isLargeDraw?c.eachItemGraphicEl(function(b){"sector"===b.type?Rj(b.dataIndex,a,b):Qj(b.dataIndex,a,b)}):b.removeAll(),this._data=null}});var ew={cartesian2d:function(a,b,c,d,e,g,h){var i=new Or({shape:f({},d)});if(g){var j=i.shape,k=e?"height":"width",l={};j[k]=0,l[k]=d[k],as[h?"updateProps":"initProps"](i,{shape:l},g,b)}return i},polar:function(a,b,c,d,e,f,h){var i=d.startAngle<d.endAngle,j=new Ir({shape:g({clockwise:i},d)});if(f){var k=j.shape,l=e?"r":"endAngle",m={};k[l]=e?0:d.startAngle,m[l]=d[l],as[h?"updateProps":"initProps"](j,{shape:m},f,b)}return j}},fw={cartesian2d:function(a,b,c){var d=a.getItemLayout(b),e=Tj(c,d),f=d.width>0?1:-1,g=d.height>0?1:-1;return{x:d.x+f*e/2,y:d.y+g*e/2,width:d.width-f*e,height:d.height-g*e}},polar:function(a,b,c){var d=a.getItemLayout(b);return{cx:d.cx,cy:d.cy,r0:d.r0,r:d.r,startAngle:d.startAngle,endAngle:d.endAngle}}},gw=sd.extend({type:"largeBar",shape:{points:[]},buildPath:function(a,b){for(var c=b.points,d=this.__startPoint,e=this.__valueIdx,f=0;f<c.length;f+=2)d[this.__valueIdx]=c[f+e],a.moveTo(d[0],d[1]),a.lineTo(c[f],c[f+1])}});ah(r(function(a,b){var c=Uh(a,b),d=Vh(c),e={};m(c,function(a){var b=a.getData(),c=a.coordinateSystem,f=c.getBaseAxis(),g=Sh(a),h=d[Th(f)][g],i=h.offset,j=h.width,k=c.getOtherAxis(f),l=a.get("barMinHeight")||0;e[g]=e[g]||[],b.setLayout({offset:i,size:j});for(var m=b.mapDimension(k.dim),n=b.mapDimension(f.dim),o=Eh(b,m),p=k.isHorizontal(),q=$h(f,k,o),r=0,s=b.count();r<s;r++){var t=b.get(m,r),u=b.get(n,r);if(!isNaN(t)){var v=t>=0?"p":"n",w=q;o&&(e[g][u]||(e[g][u]={p:q,n:q}),w=e[g][u][v]);var x,y,z,A;if(p)x=w,y=(B=c.dataToPoint([t,u]))[1]+i,z=B[0]-q,A=j,Math.abs(z)<l&&(z=(z<0?-1:1)*l),o&&(e[g][u][v]+=z);else{var B=c.dataToPoint([u,t]);x=B[0]+i,y=w,z=j,A=B[1]-q,Math.abs(A)<l&&(A=(A<=0?-1:1)*l),o&&(e[g][u][v]+=A)}b.setItemLayout(r,{x:x,y:y,width:z,height:A})}}},this)},"bar")),ah(Iu),bh({seriesType:"bar",reset:function(a){a.getData().setVisual("legendSymbol","roundRect")}});var hw=function(a,b,c){b=s(b)&&{coordDimensions:b}||f({},b);var d=a.getSource(),e=zu(d,b),g=new wu(e,a);return g.initData(d,c),g},iw={updateSelectedMap:function(a){this._targetList=s(a)?a.slice():[],this._selectTargetMap=o(a||[],function(a,b){return a.set(b.name,b),a},K())},select:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(a){a.selected=!1}),c&&(c.selected=!0)},unSelect:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);c&&(c.selected=!1)},toggleSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);if(null!=c)return this[c.selected?"unSelect":"select"](a,b),c.selected},isSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);return c&&c.selected}},jw=gh({type:"series.pie",init:function(a){jw.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(a)},mergeOption:function(a){jw.superCall(this,"mergeOption",a),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(a,b){return hw(this,["value"])},_createSelectableList:function(){for(var a=this.getRawData(),b=a.mapDimension("value"),c=[],d=0,e=a.count();d<e;d++)c.push({name:a.getName(d),value:a.get(b,d),selected:Sf(a,d,"selected")});return c},getDataParams:function(a){var b=this.getData(),c=jw.superCall(this,"getDataParams",a),d=[];return b.each(b.mapDimension("value"),function(a){d.push(a)}),c.percent=ze(d,a,b.hostModel.get("percentPrecision")),c.$vars.push("percent"),c},_defaultLabelLine:function(a){tc(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&a.label.show,c.show=c.show&&a.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});k(jw,iw);var kw=Yj.prototype;kw.updateData=function(a,b,c){function d(){h.stopAnimation(!0),h.animateTo({shape:{r:k.r+i.get("hoverOffset")}},300,"elasticOut")}function e(){h.stopAnimation(!0),h.animateTo({shape:{r:k.r}},300,"elasticOut")}var h=this.childAt(0),i=a.hostModel,j=a.getItemModel(b),k=a.getItemLayout(b),l=f({},k);l.label=null,c?(h.setShape(l),"scale"===i.getShallow("animationType")?(h.shape.r=k.r0,ge(h,{shape:{r:k.r}},i,b)):(h.shape.endAngle=k.startAngle,fe(h,{shape:{endAngle:k.endAngle}},i,b))):fe(h,{shape:l},i,b);var m=a.getItemVisual(b,"color");h.useStyle(g({lineJoin:"bevel",fill:m},j.getModel("itemStyle").getItemStyle())),h.hoverStyle=j.getModel("emphasis.itemStyle").getItemStyle();var n=j.getShallow("cursor");n&&h.attr("cursor",n),Xj(this,a.getItemLayout(b),i.isSelected(null,b),i.get("selectedOffset"),i.get("animation")),h.off("mouseover").off("mouseout").off("emphasis").off("normal"),j.get("hoverAnimation")&&i.isAnimationEnabled()&&h.on("mouseover",d).on("mouseout",e).on("emphasis",d).on("normal",e),this._updateLabel(a,b),Wd(this)},kw._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b).label,h=a.getItemVisual(b,"color");fe(c,{shape:{points:g.linePoints||[[g.x,g.y],[g.x,g.y],[g.x,g.y]]}},e,b),fe(d,{style:{x:g.x,y:g.y}},e,b),d.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});var i=f.getModel("label"),j=f.getModel("emphasis.label"),k=f.getModel("labelLine"),l=f.getModel("emphasis.labelLine"),h=a.getItemVisual(b,"color");Xd(d.style,d.hoverStyle={},i,j,{labelFetcher:a.hostModel,labelDataIndex:b,defaultText:a.getName(b),autoColor:h,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign,opacity:a.getItemVisual(b,"opacity")}),d.ignore=d.normalIgnore=!i.get("show"),d.hoverIgnore=!j.get("show"),c.ignore=c.normalIgnore=!k.get("show"),c.hoverIgnore=!l.get("show"),c.setStyle({stroke:h,opacity:a.getItemVisual(b,"opacity")}),c.setStyle(k.getModel("lineStyle").getLineStyle()),c.hoverStyle=l.getModel("lineStyle").getLineStyle();var m=k.get("smooth");m&&!0===m&&(m=.4),c.setShape({smooth:m})},j(Yj,yp),dg.extend({type:"pie",init:function(){var a=new yp;this._sectorGroup=a},render:function(a,b,c,d){if(!d||d.from!==this.uid){var e=a.getData(),f=this._data,g=this.group,h=b.get("animation"),i=!f,j=a.get("animationType"),k=r(Wj,this.uid,a,h,c),l=a.get("selectedMode");if(e.diff(f).add(function(a){var b=new Yj(e,a);i&&"scale"!==j&&b.eachChild(function(a){a.stopAnimation(!0)}),l&&b.on("click",k),e.setItemGraphicEl(a,b),g.add(b)}).update(function(a,b){var c=f.getItemGraphicEl(b);c.updateData(e,a),c.off("click"),l&&c.on("click",k),g.add(c),e.setItemGraphicEl(a,c)}).remove(function(a){var b=f.getItemGraphicEl(a);g.remove(b)}).execute(),h&&i&&e.count()>0&&"scale"!==j){var m=e.getItemLayout(0),n=Math.max(c.getWidth(),c.getHeight())/2,o=q(g.removeClipPath,g);g.setClipPath(this._createClipPath(m.cx,m.cy,n,m.startAngle,m.clockwise,o,a))}this._data=e}},dispose:function(){},_createClipPath:function(a,b,c,d,e,f,g){var h=new Ir({shape:{cx:a,cy:b,r0:0,r:c,startAngle:d,endAngle:d,clockwise:e}});return ge(h,{shape:{endAngle:d+(e?1:-1)*Math.PI*2}},g,f),h},containPoint:function(a,b){var c=b.getData().getItemLayout(0);if(c){var d=a[0]-c.cx,e=a[1]-c.cy,f=Math.sqrt(d*d+e*e);return f<=c.r&&f>=c.r0}}});var lw=function(a,b,c,d){var e,f,g=a.getData(),h=[],i=!1;g.each(function(c){var d,j,k,l,m=g.getItemLayout(c),n=g.getItemModel(c),o=n.getModel("label"),p=o.get("position")||n.get("emphasis.label.position"),q=n.getModel("labelLine"),r=q.get("length"),s=q.get("length2"),t=(m.startAngle+m.endAngle)/2,u=Math.cos(t),v=Math.sin(t);e=m.cx,f=m.cy;var w="inside"===p||"inner"===p;if("center"===p)d=m.cx,j=m.cy,l="center";else{var x=(w?(m.r+m.r0)/2*u:m.r*u)+e,y=(w?(m.r+m.r0)/2*v:m.r*v)+f;if(d=x+3*u,j=y+3*v,!w){var z=x+u*(r+b-m.r),A=y+v*(r+b-m.r),B=z+(u<0?-1:1)*s,C=A;d=B+(u<0?-5:5),j=C,k=[[x,y],[z,A],[B,C]]}l=w?"center":u>0?"left":"right"}var D=o.getFont(),E=o.get("rotate")?u<0?-t+Math.PI:-t:0,F=lb(a.getFormattedLabel(c,"normal")||g.getName(c),D,l,"top");i=!!E,m.label={x:d,y:j,position:p,height:F.height,len:r,len2:s,linePoints:k,textAlign:l,verticalAlign:"middle",rotation:E,inside:w},w||h.push(m.label)}),!i&&a.get("avoidLabelOverlap")&&$j(h,e,f,b,c,d)},mw=2*Math.PI,nw=Math.PI/180;!function(a,b){m(b,function(b){b.update="updateView",_g(b,function(c,d){var e={};return d.eachComponent({mainType:"series",subType:a,query:c},function(a){a[b.method]&&a[b.method](c.name,c.dataIndex);var d=a.getData();d.each(function(b){var c=d.getName(b);e[c]=a.isSelected(c)||!1})}),{name:c.name,selected:e}})})}("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),bh(function(a){return{getTargetSeries:function(b){var c={},d=K();return b.eachSeriesByType(a,function(a){a.__paletteScope=c,d.set(a.uid,a)}),d},reset:function(a,b){var c=a.getRawData(),d={},e=a.getData();e.each(function(a){var b=e.getRawIndex(a);d[b]=a}),c.each(function(b){var f=d[b],g=null!=f&&e.getItemVisual(f,"color",!0);if(g)c.setItemVisual(b,"color",g);else{var h=c.getItemModel(b).get("itemStyle.color")||a.getColorFromPalette(c.getName(b)||b+"",a.__paletteScope,c.count());c.setItemVisual(b,"color",h),null!=f&&e.setItemVisual(f,"color",h)}})}}}("pie")),ah(r(function(a,b,c,d){b.eachSeriesByType(a,function(a){var b=a.getData(),d=b.mapDimension("value"),e=a.get("center"),f=a.get("radius");s(f)||(f=[0,f]),s(e)||(e=[e,e]);var g=c.getWidth(),h=c.getHeight(),i=Math.min(g,h),j=te(e[0],g),k=te(e[1],h),l=te(f[0],i/2),m=te(f[1],i/2),n=-a.get("startAngle")*nw,o=a.get("minAngle")*nw,p=0;b.each(d,function(a){!isNaN(a)&&p++});var q=b.getSum(d),r=Math.PI/(q||p)*2,t=a.get("clockwise"),u=a.get("roseType"),v=a.get("stillShowZeroSum"),w=b.getDataExtent(d);w[0]=0;var x=mw,y=0,z=n,A=t?1:-1;if(b.each(d,function(a,c){var d;if(isNaN(a))b.setItemLayout(c,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:t,cx:j,cy:k,r0:l,r:u?NaN:m});else{(d="area"!==u?0===q&&v?r:a*r:mw/p)<o?(d=o,x-=o):y+=a;var e=z+A*d;b.setItemLayout(c,{angle:d,startAngle:z,endAngle:e,clockwise:t,cx:j,cy:k,r0:l,r:u?se(a,w,[l,m]):m}),z=e}}),x<mw&&p)if(x<=.001){var B=mw/p;b.each(d,function(a,c){if(!isNaN(a)){var d=b.getItemLayout(c);d.angle=B,d.startAngle=n+A*c*B,d.endAngle=n+A*(c+1)*B}})}else r=x/y,z=n,b.each(d,function(a,c){if(!isNaN(a)){var d=b.getItemLayout(c),e=d.angle===o?o:a*r;d.startAngle=z,d.endAngle=z+A*e,z+=A*e}});lw(a,m,g,h)})},"pie")),$g(function(a){return{seriesType:a,reset:function(a,b){var c=b.findComponents({mainType:"legend"});if(c&&c.length){var d=a.getData();d.filterSelf(function(a){for(var b=d.getName(a),e=0;e<c.length;e++)if(!c[e].isSelected(b))return!1;return!0})}}}}("pie")),lt.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,b){return Gh(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return null==a?this.option.large?5e3:this.get("progressive"):a},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?1e4:this.get("progressiveThreshold"):a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});var ow=Cd({shape:{points:null},symbolProxy:null,buildPath:function(a,b){var c=b.points,d=b.size,e=this.symbolProxy,f=e.shape;if(!((a.getContext?a.getContext():a)&&d[0]<4))for(var g=0;g<c.length;){var h=c[g++],i=c[g++];isNaN(h)||isNaN(i)||(f.x=h-d[0]/2,f.y=i-d[1]/2,f.width=d[0],f.height=d[1],e.buildPath(a,f,!0))}},afterBrush:function(a){var b=this.shape,c=b.points,d=b.size;if(d[0]<4){this.setTransform(a);for(var e=0;e<c.length;){var f=c[e++],g=c[e++];isNaN(f)||isNaN(g)||a.fillRect(f-d[0]/2,g-d[1]/2,d[0],d[1])}this.restoreTransform(a)}},findDataIndex:function(a,b){for(var c=this.shape,d=c.points,e=c.size,f=Math.max(e[0],4),g=Math.max(e[1],4),h=d.length/2-1;h>=0;h--){var i=2*h,j=d[i]-f/2,k=d[i+1]-g/2;if(a>=j&&b>=k&&a<=j+f&&b<=k+g)return h}return-1}}),pw=_j.prototype;pw.isPersistent=function(){return!this._incremental},pw.updateData=function(a){this.group.removeAll();var b=new ow({rectHover:!0,cursor:"default"});b.setShape({points:a.getLayout("symbolPoints")}),this._setCommon(b,a),this.group.add(b),this._incremental=null},pw.updateLayout=function(a){if(!this._incremental){var b=a.getLayout("symbolPoints");this.group.eachChild(function(a){if(null!=a.startIndex){var c=2*(a.endIndex-a.startIndex),d=4*a.startIndex*2;b=new Float32Array(b.buffer,d,c)}a.setShape("points",b)})}},pw.incrementalPrepareUpdate=function(a){this.group.removeAll(),this._clearIncremental(),a.count()>2e6?(this._incremental||(this._incremental=new Bd({silent:!0})),this.group.add(this._incremental)):this._incremental=null},pw.incrementalUpdate=function(a,b){var c;this._incremental?(c=new ow,this._incremental.addDisplayable(c,!0)):((c=new ow({rectHover:!0,cursor:"default",startIndex:a.start,endIndex:a.end})).incremental=!0,this.group.add(c)),c.setShape({points:b.getLayout("symbolPoints")}),this._setCommon(c,b,!!this._incremental)},pw._setCommon=function(a,b,c){var d=b.hostModel,e=b.getVisual("symbolSize");a.setShape("size",e instanceof Array?e:[e,e]),a.symbolProxy=ki(b.getVisual("symbol"),0,0,0,0),a.setColor=a.symbolProxy.setColor;var f=a.shape.size[0]<4;a.useStyle(d.getModel("itemStyle").getItemStyle(f?["color","shadowBlur","shadowColor"]:["color"]));var g=b.getVisual("color");g&&a.setColor(g),c||(a.seriesIndex=d.seriesIndex,a.on("mousemove",function(b){a.dataIndex=null;var c=a.findDataIndex(b.offsetX,b.offsetY);c>=0&&(a.dataIndex=c+(a.startIndex||0))}))},pw.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},pw._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()},hh({type:"scatter",render:function(a,b,c){var d=a.getData();this._updateSymbolDraw(d,a).updateData(d),this._finished=!0},incrementalPrepareRender:function(a,b,c){var d=a.getData();this._updateSymbolDraw(d,a).incrementalPrepareUpdate(d),this._finished=!1},incrementalRender:function(a,b,c){this._symbolDraw.incrementalUpdate(a,b.getData()),this._finished=a.end===b.getData().count()},updateTransform:function(a,b,c){var d=a.getData();if(this.group.dirty(),!this._finished||d.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var e=Fv().reset(a);e.progress&&e.progress({start:0,end:d.count()},d),this._symbolDraw.updateLayout(d)},_updateSymbolDraw:function(a,b){var c=this._symbolDraw,d=b.pipelineContext.large;return c&&d===this._isLargeDraw||(c&&c.remove(),c=this._symbolDraw=d?new _j:new Li,this._isLargeDraw=d,this.group.removeAll()),this.group.add(c.group),c},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),bh(Ev("scatter","circle")),ah(Fv("scatter")),Zg(function(a){var b=a.graphic;s(b)?b[0]&&b[0].elements?a.graphic=[a.graphic[0]]:a.graphic=[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var qw=eh({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(a){var b=this.option.elements;this.option.elements=null,qw.superApply(this,"mergeOption",arguments),this.option.elements=b},optionUpdated:function(a,b){var c=this.option,d=(b?c:a).elements,e=c.elements=b?[]:c.elements,f=[];this._flatten(d,f);var g=wc(e,f);xc(g);var h=this._elOptionsToUpdate=[];m(g,function(a,b){var c=a.option;c&&(h.push(c),ek(a,c),fk(e,b,c),gk(e[b],c))},this);for(var i=e.length-1;i>=0;i--)null==e[i]?e.splice(i,1):delete e[i].$action},_flatten:function(a,b,c){m(a,function(a){if(a){c&&(a.parentOption=c),b.push(a);var d=a.children;"group"===a.type&&d&&this._flatten(d,b,a),delete a.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a}});fh({type:"graphic",init:function(a,b){this._elMap=K(),this._lastGraphicModel},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a,c),this._relocate(a,c)},_updateElements:function(a,b){var c=a.useElOptionsToUpdate();if(c){var d=this._elMap,e=this.group;m(c,function(a){var b=a.$action,c=a.id,f=d.get(c),g=a.parentId,h=null!=g?d.get(g):e;if("text"===a.type){var i=a.style;a.hv&&a.hv[1]&&(i.textVerticalAlign=i.textBaseline=null),!i.hasOwnProperty("textFill")&&i.fill&&(i.textFill=i.fill),!i.hasOwnProperty("textStroke")&&i.stroke&&(i.textStroke=i.stroke)}var j=ck(a);b&&"merge"!==b?"replace"===b?(bk(f,d),ak(c,h,j,d)):"remove"===b&&bk(f,d):f?f.attr(j):ak(c,h,j,d);var k=d.get(c);k&&(k.__ecGraphicWidth=a.width,k.__ecGraphicHeight=a.height)})}},_relocate:function(a,b){for(var c=a.option.elements,d=this.group,e=this._elMap,f=c.length-1;f>=0;f--){var g=c[f],h=e.get(g.id);if(h){var i=h.parent;Qe(h,g,i===d?{width:b.getWidth(),height:b.getHeight()}:{width:i.__ecGraphicWidth||0,height:i.__ecGraphicHeight||0},null,{hv:g.hv,boundingMode:g.bounding})}}},_clear:function(){var a=this._elMap;a.each(function(b){bk(b,a)}),this._elMap=K()},dispose:function(){this._clear()}});var rw=function(a,b){var c,d=[],e=a.seriesIndex;if(null==e||!(c=b.getSeriesByIndex(e)))return{point:[]};var f=c.getData(),g=Ac(f,a);if(null==g||g<0||s(g))return{point:[]};var h=f.getItemGraphicEl(g),i=c.coordinateSystem;if(c.getTooltipPosition)d=c.getTooltipPosition(g)||[];else if(i&&i.dataToPoint)d=i.dataToPoint(f.getValues(n(i.dimensions,function(a){return f.mapDimension(a)}),g,!0))||[];else if(h){var j=h.getBoundingRect().clone();j.applyTransform(h.transform),d=[j.x+j.width/2,j.y+j.height/2]}return{point:d,el:h}},sw=m,tw=r,uw=Bc(),vw=(eh({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),Bc()),ww=m,xw=fh({type:"axisPointer",render:function(a,b,c){var d=b.getComponent("tooltip"),e=a.get("triggerOn")||d&&d.get("triggerOn")||"mousemove|click";rk("axisPointer",c,function(a,b,c){"none"!==e&&("leave"===a||e.indexOf(a)>=0)&&c({type:"updateAxisPointer",currTrigger:a,x:b&&b.offsetX,y:b&&b.offsetY})})},remove:function(a,b){xk(b.getZr(),"axisPointer"),xw.superApply(this._model,"remove",arguments)},dispose:function(a,b){xk("axisPointer",b),xw.superApply(this._model,"dispose",arguments)}}),yw=Bc(),zw=c,Aw=q;(yk.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(a,b,c,d){var e=b.get("value"),f=b.get("status");if(this._axisModel=a,this._axisPointerModel=b,this._api=c,d||this._lastValue!==e||this._lastStatus!==f){this._lastValue=e,this._lastStatus=f;var g=this._group,h=this._handle;if(!f||"hide"===f)return g&&g.hide(),void(h&&h.hide());g&&g.show(),h&&h.show();var i={};this.makeElOption(i,e,a,b,c);var j=i.graphicKey;j!==this._lastGraphicKey&&this.clear(c),this._lastGraphicKey=j;var k=this._moveAnimation=this.determineAnimation(a,b);if(g){var l=r(zk,b,k);this.updatePointerEl(g,i,l,b),this.updateLabelEl(g,i,l,b)}else g=this._group=new yp,this.createPointerEl(g,i,a,b),this.createLabelEl(g,i,a,b),c.getZr().add(g);Dk(g,b,!0),this._renderHandle(e)}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(a,b){var c=b.get("animation"),d=a.axis,e="category"===d.type,f=b.get("snap");if(!f&&!e)return!1;if("auto"===c||null==c){var g=this.animationThreshold;if(e&&d.getBandWidth()>g)return!0;if(f){var h=Hj(a).seriesDataCount,i=d.getExtent();return Math.abs(i[0]-i[1])/h>g}return!1}return!0===c},makeElOption:function(a,b,c,d,e){},createPointerEl:function(a,b,c,d){var e=b.pointer;if(e){var f=yw(a).pointerEl=new as[e.type](zw(b.pointer));a.add(f)}},createLabelEl:function(a,b,c,d){if(b.label){var e=yw(a).labelEl=new Or(zw(b.label));a.add(e),Bk(e,d)}},updatePointerEl:function(a,b,c){var d=yw(a).pointerEl;d&&(d.setStyle(b.pointer.style),c(d,{shape:b.pointer.shape}))},updateLabelEl:function(a,b,c,d){var e=yw(a).labelEl;e&&(e.setStyle(b.label.style),c(e,{shape:b.label.shape,position:b.label.position}),Bk(e,d))},_renderHandle:function(a){if(!this._dragging&&this.updateHandleTransform){var b=this._axisPointerModel,c=this._api.getZr(),d=this._handle,e=b.getModel("handle"),f=b.get("status");if(!e.get("show")||!f||"hide"===f)return d&&c.remove(d),void(this._handle=null);var g;this._handle||(g=!0,d=this._handle=me(e.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){aq(a.event)},onmousedown:Aw(this._onHandleDragMove,this,0,0),drift:Aw(this._onHandleDragMove,this),ondragend:Aw(this._onHandleDragEnd,this)}),c.add(d)),Dk(d,b,!1);var h=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];d.setStyle(e.getItemStyle(null,h));var i=e.get("size");s(i)||(i=[i,i]),d.attr("scale",[i[0]/2,i[1]/2]),jg(this,"_doDispatchAxisPointer",e.get("throttle")||0,"fixRate"),this._moveHandleToValue(a,g)}},_moveHandleToValue:function(a,b){zk(this._axisPointerModel,!b&&this._moveAnimation,this._handle,Ck(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(a,b){var c=this._handle;if(c){this._dragging=!0;var d=this.updateHandleTransform(Ck(c),[a,b],this._axisModel,this._axisPointerModel);this._payloadInfo=d,c.stopAnimation(),c.attr(Ck(d)),yw(c).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(a){if(this._dragging=!1,this._handle){var b=this._axisPointerModel.get("value");this._moveHandleToValue(b),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(a){this._lastValue=null,this._lastStatus=null;var b=a.getZr(),c=this._group,d=this._handle;b&&c&&(this._lastGraphicKey=null,c&&b.remove(c),d&&b.remove(d),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}}).constructor=yk,Ic(yk);var Bw=yk.extend({makeElOption:function(a,b,c,d,e){var f=c.axis,g=f.grid,h=d.get("type"),i=Mk(g,f).getOtherAxis(f).getGlobalExtent(),j=f.toGlobalCoord(f.dataToCoord(b,!0));if(h&&"none"!==h){var k=Ek(d),l=Cw[h](f,j,i,k);l.style=k,a.graphicKey=l.type,a.pointer=l}Jk(b,a,Nj(g.model,c),c,d,e)},getHandleTransform:function(a,b,c){var d=Nj(b.axis.grid.model,b,{labelInside:!1});return d.labelMargin=c.get("handle.margin"),{position:Ik(b.axis,a,d),rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(a,b,c,d){var e=c.axis,f=e.grid,g=e.getGlobalExtent(!0),h=Mk(f,e).getOtherAxis(e).getGlobalExtent(),i="x"===e.dim?0:1,j=a.position;j[i]+=b[i],j[i]=Math.min(g[1],j[i]),j[i]=Math.max(g[0],j[i]);var k=(h[1]+h[0])/2,l=[k,k];l[i]=j[i];var m=[{verticalAlign:"middle"},{align:"center"}];return{position:j,rotation:a.rotation,cursorPoint:l,tooltipOption:m[i]}}}),Cw={line:function(a,b,c,d){var e=Kk([b,c[0]],[b,c[1]],Nk(a));return Hd({shape:e,style:d}),{type:"Line",shape:e}},shadow:function(a,b,c,d){var e=Math.max(1,a.getBandWidth()),f=c[1]-c[0];return{type:"Rect",shape:Lk([b-e/2,c[0]],[e,f],Nk(a))}}};Yv.registerAxisPointerClass("CartesianAxisPointer",Bw),Zg(function(a){if(a){(!a.axisPointer||0===a.axisPointer.length)&&(a.axisPointer={});var b=a.axisPointer.link;b&&!s(b)&&(a.axisPointer.link=[b])}}),$g(Tt.PROCESSOR.STATISTIC,function(a,b){a.getComponent("axisPointer").coordSysAxesInfo=Aj(a,b)}),_g({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(a,b,c){var d=a.currTrigger,e=[a.x,a.y],f=a,g=a.dispatchAction||q(c.dispatchAction,c),h=b.getComponent("axisPointer").coordSysAxesInfo;if(h){qk(e)&&(e=rw({seriesIndex:f.seriesIndex,dataIndex:f.dataIndex},b).point);var i=qk(e),j=f.axesInfo,k=h.axesInfo,l="leave"===d||qk(e),m={},n={},o={list:[],map:{}},p={showPointer:tw(jk,n),showTooltip:tw(kk,o)};sw(h.coordSysMap,function(a,b){var c=i||a.containPoint(e);sw(h.coordSysAxesInfo[b],function(a,b){var d=a.axis,f=ok(j,a);if(!l&&c&&(!j||f)){var g=f&&f.value;null!=g||i||(g=d.pointToData(e)),null!=g&&hk(a,g,p,!1,m)}})});var r={};return sw(k,function(a,b){var c=a.linkGroup;c&&!n[b]&&sw(c.axesInfo,function(b,d){var e=n[d];if(b!==a&&e){var f=e.value;c.mapper&&(f=a.axis.scale.parse(c.mapper(f,pk(b),pk(a)))),r[a.key]=f}})}),sw(r,function(a,b){hk(k[b],a,p,!0,m)}),lk(n,k,m),mk(o,e,a,g),nk(k,0,c),m}}),eh({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var Dw=m,Ew=He,Fw=["","-webkit-","-moz-","-o-"];Rk.prototype={constructor:Rk,_enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),c=a.style;"absolute"!==c.position&&"absolute"!==b.position&&(c.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var b=this.el;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+Qk(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||""),b.style.display=b.innerHTML?"block":"none",this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(a,b){var c,d=this._zr;d&&d.painter&&(c=d.painter.getViewportRootOffset())&&(a+=c.offsetLeft,b+=c.offsetTop);var e=this.el.style;e.left=a+"px",e.top=b+"px",this._x=a,this._y=b},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(q(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};var Gw=q,Hw=m,Iw=te,Jw=new Or({shape:{x:-1,y:-1,width:2,height:2}});fh({type:"tooltip",init:function(a,b){if(!wo.node){var c=new Rk(b.getDom(),b);this._tooltipContent=c}},render:function(a,b,c){if(!wo.node&&!wo.wxa){this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=c,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get("alwaysShowContent");var d=this._tooltipContent;d.update(),d.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var a=this._tooltipModel.get("triggerOn");rk("itemTooltip",this._api,Gw(function(b,c,d){"none"!==a&&(a.indexOf(b)>=0?this._tryShow(c,d):"leave"===b&&this._hide(d))},this))},_keepShow:function(){var a=this._tooltipModel,b=this._ecModel,c=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==a.get("triggerOn")){var d=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){d.manuallyShowTip(a,b,c,{x:d._lastX,y:d._lastY})})}},manuallyShowTip:function(a,b,c,d){if(d.from!==this.uid&&!wo.node){var e=Tk(d,c);this._ticket="";var f=d.dataByCoordSys;if(d.tooltip&&null!=d.x&&null!=d.y){var g=Jw;g.position=[d.x,d.y],g.update(),g.tooltip=d.tooltip,this._tryShow({offsetX:d.x,offsetY:d.y,target:g},e)}else if(f)this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,event:{},dataByCoordSys:d.dataByCoordSys,tooltipOption:d.tooltipOption},e);else if(null!=d.seriesIndex){if(this._manuallyAxisShowTip(a,b,c,d))return;var h=rw(d,b),i=h.point[0],j=h.point[1];null!=i&&null!=j&&this._tryShow({offsetX:i,offsetY:j,position:d.position,target:h.el,event:{}},e)}else null!=d.x&&null!=d.y&&(c.dispatchAction({type:"updateAxisPointer",x:d.x,y:d.y}),this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:c.getZr().findHover(d.x,d.y).target,event:{}},e))}},manuallyHideTip:function(a,b,c,d){var e=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&e.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,d.from!==this.uid&&this._hide(Tk(d,c))},_manuallyAxisShowTip:function(a,b,c,d){var e=d.seriesIndex,f=d.dataIndex,g=b.getComponent("axisPointer").coordSysAxesInfo;if(null!=e&&null!=f&&null!=g){var h=b.getSeriesByIndex(e);if(h&&"axis"===(a=Sk([h.getData().getItemModel(f),h,(h.coordinateSystem||{}).model,a])).get("trigger"))return c.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:f,position:d.position}),!0}},_tryShow:function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX,this._lastY=a.offsetY;var d=a.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,a):c&&null!=c.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,c,b)):c&&c.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,c,b)):(this._lastDataByCoordSys=null,this._hide(b))}},_showOrMove:function(a,b){var c=a.get("showDelay");b=q(b,this),clearTimeout(this._showTimout),c>0?this._showTimout=setTimeout(b,c):b()},_showAxisTooltip:function(a,b){var c=this._ecModel,d=this._tooltipModel,e=[b.offsetX,b.offsetY],f=[],g=[],h=Sk([b.tooltipOption,d]);Hw(a,function(a){Hw(a.dataByAxis,function(a){var b=c.getComponent(a.axisDim+"Axis",a.axisIndex),d=a.value,e=[];if(b&&null!=d){var h=Hk(d,b.axis,c,a.seriesDataIndices,a.valueLabelOpt);m(a.seriesDataIndices,function(f){var i=c.getSeriesByIndex(f.seriesIndex),j=f.dataIndexInside,k=i&&i.getDataParams(j);k.axisDim=a.axisDim,k.axisIndex=a.axisIndex,k.axisType=a.axisType,k.axisId=a.axisId,k.axisValue=gi(b.axis,d),k.axisValueLabel=h,k&&(g.push(k),e.push(i.formatTooltip(j,!0)))});var i=h;f.push((i?Ie(i)+"<br />":"")+e.join("<br />"))}})},this),f.reverse(),f=f.join("<br /><br />");var i=b.position;this._showOrMove(h,function(){this._updateContentNotChangedOnAxis(a)?this._updatePosition(h,i,e[0],e[1],this._tooltipContent,g):this._showTooltipContent(h,f,g,Math.random(),e[0],e[1],i)})},_showSeriesItemTooltip:function(a,b,c){var d=this._ecModel,e=b.seriesIndex,f=d.getSeriesByIndex(e),g=b.dataModel||f,h=b.dataIndex,i=b.dataType,j=g.getData(),k=Sk([j.getItemModel(h),g,f&&(f.coordinateSystem||{}).model,this._tooltipModel]),l=k.get("trigger");if(null==l||"item"===l){var m=g.getDataParams(h,i),n=g.formatTooltip(h,!1,i),o="item_"+g.name+"_"+h;this._showOrMove(k,function(){this._showTooltipContent(k,n,m,o,a.offsetX,a.offsetY,a.position,a.target)}),c({type:"showTip",dataIndexInside:h,dataIndex:j.getRawIndex(h),seriesIndex:e,from:this.uid})}},_showComponentItemTooltip:function(a,b,c){var d=b.tooltip;if("string"==typeof d){var e=d;d={content:e,formatter:e}}var f=new ne(d,this._tooltipModel,this._ecModel),g=f.get("content"),h=Math.random();this._showOrMove(f,function(){this._showTooltipContent(f,g,f.get("formatterParams")||{},h,a.offsetX,a.offsetY,a.position,b)}),c({type:"showTip",from:this.uid})},_showTooltipContent:function(a,b,c,d,e,f,g,h){if(this._ticket="",a.get("showContent")&&a.get("show")){var i=this._tooltipContent,j=a.get("formatter");g=g||a.get("position");var k=b;if(j&&"string"==typeof j)k=Je(j,c,!0);else if("function"==typeof j){var l=Gw(function(b,d){b===this._ticket&&(i.setContent(d),this._updatePosition(a,g,e,f,i,c,h))},this);this._ticket=d,k=j(c,d,l)}i.setContent(k),i.show(a),this._updatePosition(a,g,e,f,i,c,h)}},_updatePosition:function(a,b,c,d,e,f,g){var h=this._api.getWidth(),i=this._api.getHeight();b=b||a.get("position");var j=e.getSize(),k=a.get("align"),l=a.get("verticalAlign"),m=g&&g.getBoundingRect().clone();if(g&&m.applyTransform(g.transform),"function"==typeof b&&(b=b([c,d],f,e.el,m,{viewSize:[h,i],contentSize:j.slice()})),s(b))c=Iw(b[0],h),d=Iw(b[1],i);else if(v(b)){b.width=j[0],b.height=j[1];var n=Pe(b,{width:h,height:i});c=n.x,d=n.y,k=null,l=null}else"string"==typeof b&&g?(c=(o=Xk(b,m,j))[0],d=o[1]):(c=(o=Uk(c,d,e.el,h,i,k?null:20,l?null:20))[0],d=o[1]);if(k&&(c-=Yk(k)?j[0]/2:"right"===k?j[0]:0),l&&(d-=Yk(l)?j[1]/2:"bottom"===l?j[1]:0),a.get("confine")){var o=Vk(c,d,e.el,h,i);c=o[0],d=o[1]}e.moveTo(c,d)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;return c&&Hw(b,function(b,d){var e=b.dataByAxis||{},f=(a[d]||{}).dataByAxis||[];(c&=e.length===f.length)&&Hw(e,function(a,b){var d=f[b]||{},e=a.seriesDataIndices||[],g=d.seriesDataIndices||[];(c&=a.value===d.value&&a.axisType===d.axisType&&a.axisId===d.axisId&&e.length===g.length)&&Hw(e,function(a,b){var d=g[b];c&=a.seriesIndex===d.seriesIndex&&a.dataIndex===d.dataIndex})})}),this._lastDataByCoordSys=a,!!c},_hide:function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},dispose:function(a,b){wo.node||wo.wxa||(this._tooltipContent.hide(),xk("itemTooltip",b))}}),_g({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),_g({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var Kw=eh({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,c){this.mergeDefaultAndTheme(a,c),a.selected=a.selected||{}},mergeOption:function(a){Kw.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var b=!1,c=0;c<a.length;c++){var d=a[c].get("name");if(this.isSelected(d)){this.select(d),b=!0;break}}!b&&this.select(a[0].get("name"))}},_updateData:function(a){var b=[],c=[];a.eachRawSeries(function(d){var e=d.name;c.push(e);var f;if(d.legendDataProvider){var g=d.legendDataProvider(),h=g.mapArray(g.getName);a.isSeriesFiltered(d)||(c=c.concat(h)),h.length?b=b.concat(h):f=!0}else f=!0;f&&yc(d)&&b.push(d.name)}),this._availableNames=c;var d=n(this.get("data")||b,function(a){return"string"!=typeof a&&"number"!=typeof a||(a={name:a}),new ne(a,this,this.ecModel)},this);this._data=d},getData:function(){return this._data},select:function(a){var b=this.option.selected;"single"===this.get("selectedMode")&&m(this._data,function(a){b[a.get("name")]=!1}),b[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&i(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});_g("legendToggleSelect","legendselectchanged",r(Zk,"toggleSelected")),_g("legendSelect","legendselected",r(Zk,"select")),_g("legendUnSelect","legendunselected",r(Zk,"unSelect"));var Lw=r,Mw=m,Nw=yp,Ow=fh({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Nw),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(a,b,c){if(this.resetInner(),a.get("show",!0)){var d=a.get("align");d&&"auto"!==d||(d="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left"),this.renderInner(d,a,b,c);var e=a.getBoxLayoutParams(),f={width:c.getWidth(),height:c.getHeight()},h=a.get("padding"),i=Pe(e,f,h),j=this.layoutInner(a,d,i),k=Pe(g({width:j.width,height:j.height},e),f,h);this.group.attr("position",[k.x-j.x,k.y-j.y]),this.group.add(this._backgroundEl=_k(j,a))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(a,b,c,d){var e=this.getContentGroup(),f=K(),g=b.get("selectedMode"),h=[];c.eachRawSeries(function(a){!a.get("legendHoverLink")&&h.push(a.id)}),Mw(b.getData(),function(i,j){var k=i.get("name");if(this.newlineDisabled||""!==k&&"\n"!==k){var l=c.getSeriesByName(k)[0];if(!f.get(k))if(l){var m=l.getData(),n=m.getVisual("color");"function"==typeof n&&(n=n(l.getDataParams(0)));var o=m.getVisual("legendSymbol")||"roundRect",p=m.getVisual("symbol");this._createItem(k,j,i,b,o,p,a,n,g).on("click",Lw(al,k,d)).on("mouseover",Lw(bl,l,null,d,h)).on("mouseout",Lw(cl,l,null,d,h)),f.set(k,!0)}else c.eachRawSeries(function(c){if(!f.get(k)&&c.legendDataProvider){var e=c.legendDataProvider(),l=e.indexOfName(k);if(l<0)return;var m=e.getItemVisual(l,"color");this._createItem(k,j,i,b,"roundRect",null,a,m,g).on("click",Lw(al,k,d)).on("mouseover",Lw(bl,c,k,d,h)).on("mouseout",Lw(cl,c,k,d,h)),f.set(k,!0)}},this)}else e.add(new Nw({newline:!0}))},this)},_createItem:function(a,b,c,d,e,g,h,i,j){var k=d.get("itemWidth"),l=d.get("itemHeight"),m=d.get("inactiveColor"),n=d.get("symbolKeepAspect"),o=d.isSelected(a),p=new Nw,q=c.getModel("textStyle"),r=c.get("icon"),s=c.getModel("tooltip"),t=s.parentModel;if(e=r||e,p.add(ki(e,0,0,k,l,o?i:m,null==n||n)),!r&&g&&(g!==e||"none"==g)){var u=.8*l;"none"===g&&(g="circle"),p.add(ki(g,(k-u)/2,(l-u)/2,u,u,o?i:m,null==n||n))}var v="left"===h?k+5:-5,w=h,x=d.get("formatter"),y=a;"string"==typeof x&&x?y=x.replace("{name}",null!=a?a:""):"function"==typeof x&&(y=x(a)),p.add(new Er({style:Yd({},q,{text:y,x:v,y:l/2,textFill:o?q.getTextColor():m,textAlign:w,textVerticalAlign:"middle"})}));var z=new Or({shape:p.getBoundingRect(),invisible:!0,tooltip:s.get("show")?f({content:a,formatter:t.get("formatter",!0)||function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},s.option):null});return p.add(z),p.eachChild(function(a){a.silent=!0}),z.silent=!j,this.getContentGroup().add(p),Wd(p),p.__legendDataIndex=b,p},layoutInner:function(a,b,c){var d=this.getContentGroup();ws(a.get("orient"),d,a.get("itemGap"),c.width,c.height);var e=d.getBoundingRect();return d.attr("position",[-e.x,-e.y]),this.group.getBoundingRect()}});$g(function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(a){for(var c=0;c<b.length;c++)if(!b[c].isSelected(a.name))return!1;return!0})}),zs.registerSubTypeDefaulter("legend",function(){return"plain"});var Pw=Kw.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(a,b,c,d){var e=Se(a);Pw.superCall(this,"init",a,b,c,d),dl(this,a,e)},mergeOption:function(a,b){Pw.superCall(this,"mergeOption",a,b),dl(this,this.option,a)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),Qw=yp,Rw=["width","height"],Sw=["x","y"],Tw=Ow.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){Tw.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new Qw),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Qw),this._showController},resetInner:function(){Tw.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(a,b,c,d){function e(a,c){var e=a+"DataIndex",i=me(b.get("pageIcons",!0)[b.getOrient().name][c],{onclick:q(f._pageGo,f,e,b,d)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});i.name=a,g.add(i)}var f=this;Tw.superCall(this,"renderInner",a,b,c,d);var g=this._controllerGroup,h=b.get("pageIconSize",!0);s(h)||(h=[h,h]),e("pagePrev",0);var i=b.getModel("pageTextStyle");g.add(new Er({name:"pageText",style:{textFill:i.getTextColor(),font:i.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),e("pageNext",1)},layoutInner:function(a,b,c){var d=this.getContentGroup(),e=this._containerGroup,f=this._controllerGroup,g=a.getOrient().index,h=Rw[g],i=Rw[1-g],j=Sw[1-g];ws(a.get("orient"),d,a.get("itemGap"),g?c.width:null,g?null:c.height),ws("horizontal",f,a.get("pageButtonItemGap",!0));var k=d.getBoundingRect(),l=f.getBoundingRect(),m=this._showController=k[h]>c[h],n=[-k.x,-k.y];n[g]=d.position[g];var o=[0,0],p=[-l.x,-l.y],q=B(a.get("pageButtonGap",!0),a.get("itemGap",!0));m&&("end"===a.get("pageButtonPosition",!0)?p[g]+=c[h]-l[h]:o[g]+=l[h]+q),p[1-g]+=k[i]/2-l[i]/2,d.attr("position",n),e.attr("position",o),f.attr("position",p);var r=this.group.getBoundingRect();if((r={x:0,y:0})[h]=m?c[h]:k[h],r[i]=Math.max(k[i],l[i]),r[j]=Math.min(0,l[j]+p[1-g]),e.__rectSize=c[h],m){var s={x:0,y:0};s[h]=Math.max(c[h]-l[h]-q,0),s[i]=r[i],e.setClipPath(new Or({shape:s})),e.__rectSize=s[h]}else f.eachChild(function(a){a.attr({invisible:!0,silent:!0})});var t=this._getPageInfo(a);return null!=t.pageIndex&&fe(d,{position:t.contentPosition},!!m&&a),this._updatePageInfoView(a,t),r},_pageGo:function(a,b,c){var d=this._getPageInfo(b)[a];null!=d&&c.dispatchAction({type:"legendScroll",scrollDataIndex:d,legendId:b.id})},_updatePageInfoView:function(a,b){var c=this._controllerGroup;m(["pagePrev","pageNext"],function(d){var e=null!=b[d+"DataIndex"],f=c.childOfName(d);f&&(f.setStyle("fill",e?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),f.cursor=e?"pointer":"default")});var d=c.childOfName("pageText"),e=a.get("pageFormatter"),f=b.pageIndex,g=null!=f?f+1:0,h=b.pageCount;d&&e&&d.setStyle("text",u(e)?e.replace("{current}",g).replace("{total}",h):e({current:g,total:h}))},_getPageInfo:function(a){function b(a){var b=a.getBoundingRect().clone();return b[n]+=a.position[k],b}var c,d,e,f,g=a.get("scrollDataIndex",!0),h=this.getContentGroup(),i=h.getBoundingRect(),j=this._containerGroup.__rectSize,k=a.getOrient().index,l=Rw[k],m=Rw[1-k],n=Sw[k],o=h.position.slice();this._showController?h.eachChild(function(a){a.__legendDataIndex===g&&(f=a)}):f=h.childAt(0);var p=j?Math.ceil(i[l]/j):0;if(f){var q=f.getBoundingRect(),r=f.position[k]+q[n];o[k]=-r-i[n],c=Math.floor(p*(r+q[n]+j/2)/i[l]),c=i[l]&&p?Math.max(0,Math.min(p-1,c)):-1;var s={x:0,y:0};s[l]=j,s[m]=i[m],s[n]=-o[k]-i[n];var t,u=h.children();if(h.eachChild(function(a,c){var d=b(a);d.intersect(s)&&(null==t&&(t=c),e=a.__legendDataIndex),c===u.length-1&&d[n]+d[l]<=s[n]+s[l]&&(e=null)}),null!=t){var v=b(u[t]);if(s[n]=v[n]+v[l]-s[l],t<=0&&v[n]>=s[n])d=null;else{for(;t>0&&b(u[t-1]).intersect(s);)t--;d=u[t].__legendDataIndex}}}return{contentPosition:o,pageIndex:c,pageCount:p,pagePrevDataIndex:d,pageNextDataIndex:e}}});_g("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(a){a.setScrollDataIndex(c)})}),eh({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),fh({type:"title",render:function(a,b,c){if(this.group.removeAll(),a.get("show")){var d=this.group,e=a.getModel("textStyle"),f=a.getModel("subtextStyle"),g=a.get("textAlign"),h=a.get("textBaseline"),i=new Er({style:Yd({},e,{text:a.get("text"),textFill:e.getTextColor()},{disableBox:!0}),z2:10}),j=i.getBoundingRect(),k=a.get("subtext"),l=new Er({style:Yd({},f,{text:k,textFill:f.getTextColor(),y:j.height+a.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=a.get("link"),n=a.get("sublink");i.silent=!m,l.silent=!n,m&&i.on("click",function(){window.open(m,"_"+a.get("target"))}),n&&l.on("click",function(){window.open(n,"_"+a.get("subtarget"))}),d.add(i),k&&d.add(l);var o=d.getBoundingRect(),p=a.getBoxLayoutParams();p.width=o.width,p.height=o.height;var q=Pe(p,{width:c.getWidth(),height:c.getHeight()},a.get("padding"));g||("middle"===(g=a.get("left")||a.get("right"))&&(g="center"),"right"===g?q.x+=q.width:"center"===g&&(q.x+=q.width/2)),h||("center"===(h=a.get("top")||a.get("bottom"))&&(h="middle"),"bottom"===h?q.y+=q.height:"middle"===h&&(q.y+=q.height/2),h=h||"top"),d.attr("position",[q.x,q.y]);var r={textAlign:g,textVerticalAlign:h};i.setStyle(r),l.setStyle(r),o=d.getBoundingRect();var s=q.margin,t=a.getItemStyle(["color","opacity"]);t.fill=a.get("backgroundColor");var u=new Or({shape:{x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],r:a.get("borderRadius")},style:t,silent:!0});Id(u),d.add(u)}}});var Uw=Ge,Vw=Ie,Ww=eh({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c),this.mergeOption(a,c,d.createdBySelf,!0)},isAnimationEnabled:function(){if(wo.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(a,b,c,d){var e=this.constructor,g=this.mainType+"Model";c||b.eachSeries(function(a){var c=a.get(this.mainType,!0),h=a[g];c&&c.data?(h?h.mergeOption(c,b,!0):(d&&el(c),m(c.data,function(a){a instanceof Array?(el(a[0]),el(a[1])):el(a)}),f(h=new e(c,this,b),{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),h.__hostSeries=a),a[g]=h):a[g]=null},this)},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),d=s(c)?n(c,Uw).join(", "):Uw(c),e=b.getName(a),f=Vw(this.name);return(null!=c||e)&&(f+="<br />"),e&&(f+=Vw(e),null!=c&&(f+=" : ")),null!=c&&(f+=Vw(d)),f},getData:function(){return this._data},setData:function(a){this._data=a}});k(Ww,ht),Ww.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var Xw=i,Yw=r,Zw={min:Yw(hl,"min"),max:Yw(hl,"max"),average:Yw(hl,"average")},$w=fh({type:"marker",init:function(){this.markerGroupMap=K()},render:function(a,b,c){var d=this.markerGroupMap;d.each(function(a){a.__keep=!1});var e=this.type+"Model";b.eachSeries(function(a){var d=a[e];d&&this.renderSeries(a,d,b,c)},this),d.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}});$w.extend({type:"markPoint",updateTransform:function(a,b,c){b.eachSeries(function(a){var b=a.markPointModel;b&&(ol(b.getData(),a,c),this.markerGroupMap.get(a.id).updateLayout(b))},this)},renderSeries:function(a,b,c,d){var e=a.coordinateSystem,f=a.id,g=a.getData(),h=this.markerGroupMap,i=h.get(f)||h.set(f,new Li),j=pl(e,a,b);b.setData(j),ol(b.getData(),a,d),j.each(function(a){var c=j.getItemModel(a),d=c.getShallow("symbolSize");"function"==typeof d&&(d=d(b.getRawValue(a),b.getDataParams(a))),j.setItemVisual(a,{symbolSize:d,color:c.get("itemStyle.color")||g.getVisual("color"),symbol:c.getShallow("symbol")})}),i.updateData(j),this.group.add(i.group),j.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})}),i.__keep=!0,i.group.silent=b.get("silent")||a.get("silent")}}),Zg(function(a){a.markPoint=a.markPoint||{}}),Ww.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var _w=Pr.prototype,ax=Rr.prototype,bx=Cd({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){(ql(b)?_w:ax).buildPath(a,b)},pointAt:function(a){return ql(this.shape)?_w.pointAt.call(this,a):ax.pointAt.call(this,a)},tangentAt:function(a){var b=this.shape,c=ql(b)?[b.x2-b.x1,b.y2-b.y1]:ax.tangentAt.call(this,a);return V(c,c)}}),cx=["fromSymbol","toSymbol"],dx=vl.prototype;dx.beforeUpdate=function(){var a=this,b=a.childOfName("fromSymbol"),c=a.childOfName("toSymbol"),d=a.childOfName("label");if(b||c||!d.ignore){for(var e=1,f=this.parent;f;)f.scale&&(e/=f.scale[0]),f=f.parent;var g=a.childOfName("line");if(this.__dirty||g.__dirty){var h=g.shape.percent,i=g.pointAt(0),j=g.pointAt(h),k=R([],j,i);if(V(k,k),b&&(b.attr("position",i),l=g.tangentAt(0),b.attr("rotation",Math.PI/2-Math.atan2(l[1],l[0])),b.attr("scale",[e*h,e*h])),c){c.attr("position",j);var l=g.tangentAt(1);c.attr("rotation",-Math.PI/2-Math.atan2(l[1],l[0])),c.attr("scale",[e*h,e*h])}if(!d.ignore){d.attr("position",j);var m,n,o,p=5*e;if("end"===d.__position)m=[k[0]*p+j[0],k[1]*p+j[1]],n=k[0]>.8?"left":k[0]<-.8?"right":"center",o=k[1]>.8?"top":k[1]<-.8?"bottom":"middle";else if("middle"===d.__position){var q=h/2,r=[(l=g.tangentAt(q))[1],-l[0]],s=g.pointAt(q);r[1]>0&&(r[0]=-r[0],r[1]=-r[1]),m=[s[0]+r[0]*p,s[1]+r[1]*p],n="center",o="bottom";var t=-Math.atan2(l[1],l[0]);j[0]<i[0]&&(t=Math.PI+t),d.attr("rotation",t)}else m=[-k[0]*p+i[0],-k[1]*p+i[1]],n=k[0]>.8?"right":k[0]<-.8?"left":"center",o=k[1]>.8?"bottom":k[1]<-.8?"top":"middle";d.attr({style:{textVerticalAlign:d.__verticalAlign||o,textAlign:d.__textAlign||n},position:m,scale:[e,e]})}}}},dx._createLine=function(a,b,c){var d=a.hostModel,e=tl(a.getItemLayout(b));e.shape.percent=0,ge(e,{shape:{percent:1}},d,b),this.add(e);var f=new Er({name:"label"});this.add(f),m(cx,function(c){var d=sl(c,a,b);this.add(d),this[rl(c)]=a.getItemVisual(b,c)},this),this._updateCommonStl(a,b,c)},dx.updateData=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=a.getItemLayout(b),g={shape:{}};ul(g.shape,f),fe(e,g,d,b),m(cx,function(c){var d=a.getItemVisual(b,c),e=rl(c);if(this[e]!==d){this.remove(this.childOfName(c));var f=sl(c,a,b);this.add(f)}this[e]=d},this),this._updateCommonStl(a,b,c)},dx._updateCommonStl=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=c&&c.lineStyle,h=c&&c.hoverLineStyle,i=c&&c.labelModel,j=c&&c.hoverLabelModel;if(!c||a.hasItemOption){var k=a.getItemModel(b);f=k.getModel("lineStyle").getLineStyle(),h=k.getModel("emphasis.lineStyle").getLineStyle(),i=k.getModel("label"),j=k.getModel("emphasis.label")}var l=a.getItemVisual(b,"color"),n=C(a.getItemVisual(b,"opacity"),f.opacity,1);e.useStyle(g({strokeNoScale:!0,fill:"none",stroke:l,opacity:n},f)),e.hoverStyle=h,m(cx,function(a){var b=this.childOfName(a);b&&(b.setColor(l),b.setStyle({opacity:n}))},this);var o,p,q=i.getShallow("show"),r=j.getShallow("show"),s=this.childOfName("label");if((q||r)&&(o=l||"#000",null==(p=d.getFormattedLabel(b,"normal",a.dataType)))){var t=d.getRawValue(b);p=null==t?a.getName(b):isFinite(t)?ue(t):t}var u=q?p:null,v=r?B(d.getFormattedLabel(b,"emphasis",a.dataType),p):null,w=s.style;null==u&&null==v||(Yd(s.style,i,{text:u},{autoColor:o}),s.__textAlign=w.textAlign,s.__verticalAlign=w.textVerticalAlign,s.__position=i.get("position")||"middle"),s.hoverStyle=null!=v?{text:v,textFill:j.getTextColor(!0),fontStyle:j.getShallow("fontStyle"),fontWeight:j.getShallow("fontWeight"),fontSize:j.getShallow("fontSize"),fontFamily:j.getShallow("fontFamily")}:{text:null},s.ignore=!q&&!r,Wd(this)},dx.highlight=function(){this.trigger("emphasis")},dx.downplay=function(){this.trigger("normal")},dx.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))},dx.setLinePoints=function(a){var b=this.childOfName("line");ul(b.shape,a),b.dirty()},j(vl,yp);var ex=wl.prototype;ex.isPersistent=function(){return!0},ex.updateData=function(a){var b=this,c=b.group,d=b._lineData;b._lineData=a,d||c.removeAll();var e=zl(a);a.diff(d).add(function(c){xl(b,a,c,e)}).update(function(c,f){yl(b,d,a,f,c,e)}).remove(function(a){c.remove(d.getItemGraphicEl(a))}).execute()},ex.updateLayout=function(){var a=this._lineData;a&&a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)},ex.incrementalPrepareUpdate=function(a){this._seriesScope=zl(a),this._lineData=null,this.group.removeAll()},ex.incrementalUpdate=function(a,b){for(var c=a.start;c<a.end;c++)if(Bl(b.getItemLayout(c))){var d=new this._ctor(b,c,this._seriesScope);d.traverse(function(a){a.isGroup||(a.incremental=a.useHoverLayer=!0)}),this.group.add(d),b.setItemGraphicEl(c,d)}},ex.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},ex._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};var fx=function(a,b,e,g){var h=a.getData(),i=g.type;if(!s(g)&&("min"===i||"max"===i||"average"===i||"median"===i||null!=g.xAxis||null!=g.yAxis)){var j,k;if(null!=g.yAxis||null!=g.xAxis)j=null!=g.yAxis?"y":"x",b.getAxis(j),k=A(g.yAxis,g.xAxis);else{var l=jl(g,h,b,a);j=l.valueDataDim,l.valueAxis,k=nl(h,j,i)}var m="x"===j?0:1,n=1-m,o=c(g),p={};o.type=null,o.coord=[],p.coord=[],o.coord[n]=-1/0,p.coord[n]=1/0;var q=e.get("precision");q>=0&&"number"==typeof k&&(k=+k.toFixed(Math.min(q,20))),o.coord[m]=p.coord[m]=k,g=[o,p,{type:i,valueIndex:g.valueIndex,value:k}]}return g=[il(a,g[0]),il(a,g[1]),f({},g[2])],g[2].type=g[2].type||"",d(g[2],g[0]),d(g[2],g[1]),g};$w.extend({type:"markLine",updateTransform:function(a,b,c){b.eachSeries(function(a){var b=a.markLineModel;if(b){var d=b.getData(),e=b.__from,f=b.__to;e.each(function(b){Fl(e,b,!0,a,c),Fl(f,b,!1,a,c)}),d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},renderSeries:function(a,b,c,d){function e(b,c,e){var f=b.getItemModel(c);Fl(b,c,e,a,d),b.setItemVisual(c,{symbolSize:f.get("symbolSize")||p[e?0:1],symbol:f.get("symbol",!0)||o[e?0:1],color:f.get("itemStyle.color")||h.getVisual("color")})}var f=a.coordinateSystem,g=a.id,h=a.getData(),i=this.markerGroupMap,j=i.get(g)||i.set(g,new wl);this.group.add(j.group);var k=Gl(f,a,b),l=k.from,m=k.to,n=k.line;b.__from=l,b.__to=m,b.setData(n);var o=b.get("symbol"),p=b.get("symbolSize");s(o)||(o=[o,o]),"number"==typeof p&&(p=[p,p]),k.from.each(function(a){e(l,a,!0),e(m,a,!1)}),n.each(function(a){var b=n.getItemModel(a).get("lineStyle.color");n.setItemVisual(a,{color:b||l.getItemVisual(a,"color")}),n.setItemLayout(a,[l.getItemLayout(a),m.getItemLayout(a)]),n.setItemVisual(a,{fromSymbolSize:l.getItemVisual(a,"symbolSize"),fromSymbol:l.getItemVisual(a,"symbol"),toSymbolSize:m.getItemVisual(a,"symbolSize"),toSymbol:m.getItemVisual(a,"symbol")})}),j.updateData(n),k.line.eachItemGraphicEl(function(a,c){a.traverse(function(a){a.dataModel=b})}),j.__keep=!0,j.group.silent=b.get("silent")||a.get("silent")}}),Zg(function(a){a.markLine=a.markLine||{}}),Ww.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var gx=function(a,b,c,d){var f=il(a,d[0]),g=il(a,d[1]),h=A,i=f.coord,j=g.coord;i[0]=h(i[0],-1/0),i[1]=h(i[1],-1/0),j[0]=h(j[0],1/0),j[1]=h(j[1],1/0);var k=e([{},f,g]);return k.coord=[f.coord,g.coord],k.x0=f.x,k.y0=f.y,k.x1=g.x,k.y1=g.y,k},hx=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];$w.extend({type:"markArea",updateTransform:function(a,b,c){b.eachSeries(function(a){var b=a.markAreaModel;if(b){var d=b.getData();d.each(function(b){var e=n(hx,function(e){return Kl(d,b,e,a,c)});d.setItemLayout(b,e),d.getItemGraphicEl(b).setShape("points",e)})}},this)},renderSeries:function(a,b,c,d){var e=a.coordinateSystem,f=a.id,h=a.getData(),i=this.markerGroupMap,j=i.get(f)||i.set(f,{group:new yp});this.group.add(j.group),j.__keep=!0;var k=Ll(e,a,b);b.setData(k),k.each(function(b){k.setItemLayout(b,n(hx,function(c){return Kl(k,b,c,a,d)})),k.setItemVisual(b,{color:h.getVisual("color")})}),k.diff(j.__data).add(function(a){var b=new Mr({shape:{points:k.getItemLayout(a)}});k.setItemGraphicEl(a,b),j.group.add(b)}).update(function(a,c){var d=j.__data.getItemGraphicEl(c);fe(d,{shape:{points:k.getItemLayout(a)}},b,a),j.group.add(d),k.setItemGraphicEl(a,d)}).remove(function(a){var b=j.__data.getItemGraphicEl(a);j.group.remove(b)}).execute(),k.eachItemGraphicEl(function(a,c){var d=k.getItemModel(c),e=d.getModel("label"),f=d.getModel("emphasis.label"),h=k.getItemVisual(c,"color");a.useStyle(g(d.getModel("itemStyle").getItemStyle(),{fill:Fa(h,.4),stroke:h})),a.hoverStyle=d.getModel("emphasis.itemStyle").getItemStyle(),Xd(a.style,a.hoverStyle,e,f,{labelFetcher:b,labelDataIndex:c,defaultText:k.getName(c)||"",isRectText:!0,autoColor:h}),Wd(a,{}),a.dataModel=b}),j.__data=k,j.group.silent=b.get("silent")||a.get("silent")}}),Zg(function(a){a.markArea=a.markArea||{}}),zs.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var ix=["cartesian2d","polar","singleAxis"],jx=function(a,b){var c=n(a=a.slice(),Ne),d=n(b=(b||[]).slice(),Ne);return function(e,f){m(a,function(a,g){for(var h={name:a,capital:c[g]},i=0;i<b.length;i++)h[b[i]]=a+d[i];e.call(f,h)})}}(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),kx=m,lx=ve,mx=function(a,b,c,d){this._dimName=a,this._axisIndex=b,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=d,this._dataZoomModel=c};mx.prototype={constructor:mx,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;return b.eachSeries(function(c){if(Ml(c.get("coordinateSystem"))){var d=this._dimName,e=b.queryComponents({mainType:d+"Axis",index:c.get(d+"AxisIndex"),id:c.get(d+"AxisId")})[0];this._axisIndex===(e&&e.componentIndex)&&a.push(c)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a,b,c=this._dimName,d=this.ecModel,e=this.getAxisModel();"x"===c||"y"===c?(b="gridIndex",a="x"===c?"y":"x"):(b="polarIndex",a="angle"===c?"radius":"angle");var f;return d.eachComponent(a+"Axis",function(a){(a.get(b)||0)===(e.get(b)||0)&&(f=a)}),f},getMinMaxSpan:function(){return c(this._minMaxSpan)},calculateDataWindow:function(a){var b=this._dataExtent,c=this.getAxisModel().axis.scale,d=this._dataZoomModel.getRangePropMode(),e=[0,100],f=[a.start,a.end],g=[];return kx(["startValue","endValue"],function(b){g.push(null!=a[b]?c.parse(a[b]):null)}),kx([0,1],function(a){var h=g[a],i=f[a];"percent"===d[a]?(null==i&&(i=e[a]),h=c.parse(se(i,e,b,!0))):i=se(h,b,e,!0),g[a]=h,f[a]=i}),{valueWindow:lx(g),percentWindow:lx(f)}},reset:function(a){if(a===this._dataZoomModel){var b=this.getTargetSeriesModels();this._dataExtent=Ol(this,this._dimName,b);var c=this.calculateDataWindow(a.option);this._valueWindow=c.valueWindow,this._percentWindow=c.percentWindow,Rl(this),Ql(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Ql(this,!0))},filterData:function(a,b){function c(a){return a>=g[0]&&a<=g[1]}if(a===this._dataZoomModel){var d=this._dimName,e=this.getTargetSeriesModels(),f=a.get("filterMode"),g=this._valueWindow;"none"!==f&&kx(e,function(a){var b=a.getData(),e=b.mapDimension(d,!0);"weakFilter"===f?b.filterSelf(function(a){for(var c,d,f,h=0;h<e.length;h++){var i=b.get(e[h],a),j=!isNaN(i),k=i<g[0],l=i>g[1];if(j&&!k&&!l)return!0;j&&(f=!0),k&&(c=!0),l&&(d=!0)}return f&&c&&d}):kx(e,function(d){if("empty"===f)a.setData(b.map(d,function(a){return c(a)?a:NaN}));else{var e={};e[d]=g,b.selectRange(e)}}),kx(e,function(a){b.setApproximateExtent(g,a)})})}}};var nx=m,ox=jx,px=eh({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(a,b,c){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var d=Sl(a);this.mergeDefaultAndTheme(a,c),this.doInit(d)},mergeOption:function(a){var b=Sl(a);d(this.option,a,!0),this.doInit(b)},doInit:function(a){var b=this.option;wo.canvasSupported||(b.realtime=!1),this._setDefaultThrottle(a),Tl(this,a),nx([["start","startValue"],["end","endValue"]],function(a,c){"value"===this._rangePropMode[c]&&(b[a[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,d,e){var f=this.dependentModels[b.axis][c],g=f.__dzAxisProxy||(f.__dzAxisProxy=new mx(b.name,c,this,e));a[b.name+"_"+c]=g},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();ox(function(b){var c=b.axisIndex;a[c]=sc(a[c])},this),"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;ox(function(c){null!=a[c.axisIndex]&&(b=!0)},this);var c=a.orient;return null==c&&b?"orient":b?void 0:(null==c&&(a.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var a=!0,b=this.get("orient",!0),c=this.option,d=this.dependentModels;if(a){var e="vertical"===b?"y":"x";d[e+"Axis"].length?(c[e+"AxisIndex"]=[0],a=!1):nx(d.singleAxis,function(d){a&&d.get("orient",!0)===b&&(c.singleAxisIndex=[d.componentIndex],a=!1)})}a&&ox(function(b){if(a){var d=[],e=this.dependentModels[b.axis];if(e.length&&!d.length)for(var f=0,g=e.length;f<g;f++)"category"===e[f].get("type")&&d.push(f);c[b.axisIndex]=d,d.length&&(a=!1)}},this),a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&ox(function(b){var d=c[b.axisIndex],e=a.get(b.axisIndex),f=a.get(b.axisId);i(d,e=a.ecModel.queryComponents({mainType:b.axis,index:e,id:f})[0].componentIndex)<0&&d.push(e)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this),this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;return ox(function(d){var e=a.get(d.axisIndex),f=this.dependentModels[d.axis][e];f&&f.get("type")===b||(c=!1)},this),c},_setDefaultThrottle:function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var b=this.ecModel.option;this.option.throttle=b.animation&&b.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var a;return ox(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(a,b){var c=this.ecModel;ox(function(d){nx(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){var c=this.getAxisProxy(a,b);return c&&c.getAxisModel()},setRawRange:function(a,b){var c=this.option;nx([["start","startValue"],["end","endValue"]],function(b){null==a[b[0]]&&null==a[b[1]]||(c[b[0]]=a[b[0]],c[b[1]]=a[b[1]])},this),!b&&Tl(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,b){if(null!=a||null!=b)return this.getAxisProxy(a,b).getDataValueWindow();var c=this.findRepresentativeAxisProxy();return c?c.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(a){if(a)return a.__dzAxisProxy;var b=this._axisProxies;for(var c in b)if(b.hasOwnProperty(c)&&b[c].hostedBy(this))return b[c];for(var c in b)if(b.hasOwnProperty(c)&&!b[c].hostedBy(this))return b[c]},getRangePropMode:function(){return this._rangePropMode.slice()}}),qx=mt.extend({type:"dataZoom",render:function(a,b,c,d){this.dataZoomModel=a,this.ecModel=b,this.api=c},getTargetCoordInfo:function(){function a(a,b,c,d){for(var e,f=0;f<c.length;f++)if(c[f].model===a){e=c[f];break}e||c.push(e={model:a,axisModels:[],coordIndex:d}),e.axisModels.push(b)}var b=this.dataZoomModel,c=this.ecModel,d={};return b.eachTargetAxis(function(b,e){var f=c.getComponent(b.axis,e);if(f){var g=f.getCoordSysModel();g&&a(g,f,d[g.mainType]||(d[g.mainType]=[]),g.componentIndex)}},this),d}}),rx=(px.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),function(a,b,c,d,e,f){b[0]=Vl(b[0],c),b[1]=Vl(b[1],c),a=a||0;var g=c[1]-c[0];null!=e&&(e=Vl(e,[0,g])),null!=f&&(f=Math.max(f,null!=e?e:0)),"all"===d&&(e=f=Math.abs(b[1]-b[0]),d=0);var h=Ul(b,d);b[d]+=a;var i=e||0,j=c.slice();h.sign<0?j[0]+=i:j[1]-=i,b[d]=Vl(b[d],j),k=Ul(b,d),null!=e&&(k.sign!==h.sign||k.span<e)&&(b[1-d]=b[d]+h.sign*e);var k=Ul(b,d);return null!=f&&k.span>f&&(b[1-d]=b[d]+k.sign*f),b}),sx=Or,tx=se,ux=ve,vx=q,xx=m,yx="horizontal",zx=5,Ax=["line","bar","candlestick","scatter"],Bx=qx.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=b},render:function(a,b,c,d){Bx.superApply(this,"render",arguments),jg(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=a.get("orient"),!1!==this.dataZoomModel.get("show")?(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){Bx.superApply(this,"remove",arguments),kg(this,"_dispatchZoomAction")},dispose:function(){Bx.superApply(this,"dispose",arguments),kg(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll(),this._resetLocation(),this._resetInterval();var b=this._displayables.barGroup=new yp;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect(),d={width:b.getWidth(),height:b.getHeight()},e=this._orient===yx?{right:d.width-c.x-c.width,top:d.height-30-7,width:c.width,height:30}:{right:7,top:c.y,width:30,height:c.height},f=Se(a.option);m(["right","top","width","height"],function(a){"ph"===f[a]&&(f[a]=e[a])});var g=Pe(f,d,a.padding);this._location={x:g.x,y:g.y},this._size=[g.width,g.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),e=d&&d.get("inverse"),f=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(c!==yx||e?c===yx&&e?{scale:g?[-1,1]:[-1,-1]}:"vertical"!==c||e?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]});var h=a.getBoundingRect([f]);a.attr("position",[b.x-h.x,b.y-h.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this.dataZoomModel,b=this._size,c=this._displayables.barGroup;c.add(new sx({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:a.get("backgroundColor")},z2:-40})),c.add(new sx({shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:"transparent"},z2:0,onclick:q(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData(),e=c.getShadowDim?c.getShadowDim():a.otherDim;if(null!=e){var f=d.getDataExtent(e),h=.3*(f[1]-f[0]);f=[f[0]-h,f[1]+h];var i,j=[0,b[1]],k=[0,b[0]],l=[[b[0],0],[0,0]],m=[],n=k[1]/(d.count()-1),o=0,p=Math.round(d.count()/b[0]);d.each([e],function(a,b){if(p>0&&b%p)o+=n;else{var c=null==a||isNaN(a)||""===a,d=c?0:tx(a,f,j,!0);c&&!i&&b?(l.push([l[l.length-1][0],0]),m.push([m[m.length-1][0],0])):!c&&i&&(l.push([o,0]),m.push([o,0])),l.push([o,d]),m.push([o,d]),o+=n,i=c}});var q=this.dataZoomModel;this._displayables.barGroup.add(new Mr({shape:{points:l},style:g({fill:q.get("dataBackgroundColor")},q.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new Nr({shape:{points:m},style:q.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(!1!==b){var c,d=this.ecModel;return a.eachTargetAxis(function(e,f){m(a.getAxisProxy(e.name,f).getTargetSeriesModels(),function(a){if(!(c||!0!==b&&i(Ax,a.get("type"))<0)){var g,h=d.getComponent(e.axis,f).axis,j=Wl(e.name),k=a.coordinateSystem;null!=j&&k.getOtherAxis&&(g=k.getOtherAxis(h).inverse),j=a.getData().mapDimension(j),c={thisAxis:h,series:a,thisDim:e.name,otherDim:j,otherAxisInverse:g}}},this)},this),c}},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,e=this._size,f=this.dataZoomModel;d.add(a.filler=new sx({draggable:!0,cursor:Xl(this._orient),drift:vx(this._onDragMove,this,"all"),onmousemove:function(a){aq(a.event)},ondragstart:vx(this._showDataInfo,this,!0),ondragend:vx(this._onDragEnd,this),onmouseover:vx(this._showDataInfo,this,!0),onmouseout:vx(this._showDataInfo,this,!1),style:{fill:f.get("fillerColor"),textPosition:"inside"}})),d.add(new sx(Id({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:f.get("dataBackgroundColor")||f.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),xx([0,1],function(a){var e=me(f.get("handleIcon"),{cursor:Xl(this._orient),draggable:!0,drift:vx(this._onDragMove,this,a),onmousemove:function(a){aq(a.event)},ondragend:vx(this._onDragEnd,this),onmouseover:vx(this._showDataInfo,this,!0),onmouseout:vx(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),g=e.getBoundingRect();this._handleHeight=te(f.get("handleSize"),this._size[1]),this._handleWidth=g.width/g.height*this._handleHeight,e.setStyle(f.getModel("handleStyle").getItemStyle());var h=f.get("handleColor");null!=h&&(e.style.fill=h),d.add(b[a]=e);var i=f.textStyleModel;this.group.add(c[a]=new Er({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:i.getTextColor(),textFont:i.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[tx(a[0],[0,100],b,!0),tx(a[1],[0,100],b,!0)]},_updateInterval:function(a,b){var c=this.dataZoomModel,d=this._handleEnds,e=this._getViewExtent(),f=c.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];rx(b,d,e,c.get("zoomLock")?"all":a,null!=f.minSpan?tx(f.minSpan,g,e,!0):null,null!=f.maxSpan?tx(f.maxSpan,g,e,!0):null);var h=this._range,i=this._range=ux([tx(d[0],e,g,!0),tx(d[1],e,g,!0)]);return!h||h[0]!==i[0]||h[1]!==i[1]},_updateView:function(a){var b=this._displayables,c=this._handleEnds,d=ux(c.slice()),e=this._size;xx([0,1],function(a){var d=b.handles[a],f=this._handleHeight;d.attr({scale:[f/2,f/2],position:[c[a],e[1]/2-f/2]})},this),b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]}),this._updateDataInfo(a)},_updateDataInfo:function(a){function b(a){var b=he(d.handles[a].parent,this.group),c=je(0===a?"right":"left",b),h=this._handleWidth/2+zx,i=ie([l[a]+(0===a?-h:h),this._size[1]/2],b);e[a].setStyle({x:i[0],y:i[1],textVerticalAlign:f===yx?"middle":c,textAlign:f===yx?c:"center",text:g[a]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,f=this._orient,g=["",""];if(c.get("showDetail")){var h=c.findRepresentativeAxisProxy();if(h){var i=h.getAxisModel().axis,j=this._range,k=a?h.calculateDataWindow({start:j[0],end:j[1]}).valueWindow:h.getDataValueWindow();g=[this._formatLabel(k[0],i),this._formatLabel(k[1],i)]}}var l=ux(this._handleEnds.slice());b.call(this,0),b.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter"),e=c.get("labelPrecision");null!=e&&"auto"!==e||(e=b.getPixelPrecision());var f=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(e,20));return t(d)?d(a,f):u(d)?d.replace("{value}",f):f},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a),b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;var d=ie([b,c],this._displayables.barGroup.getLocalTransform(),!0),e=this._updateInterval(a,d[0]),f=this.dataZoomModel.get("realtime");this._updateView(!f),e&&f&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(a){var b=this._size,c=this._displayables.barGroup.transformCoordToLocal(a.offsetX,a.offsetY);if(!(c[0]<0||c[0]>b[0]||c[1]<0||c[1]>b[1])){var d=this._handleEnds,e=(d[0]+d[1])/2,f=this._updateInterval("all",c[0]-e);this._updateView(),f&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a;if(xx(this.getTargetCoordInfo(),function(b){if(!a&&b.length){var c=b[0].model.coordinateSystem;a=c.getRect&&c.getRect()}}),!a){var b=this.api.getWidth(),c=this.api.getHeight();a={x:.2*b,y:.2*c,width:.6*b,height:.6*c}}return a}});px.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var Cx="\0_ec_interaction_mutex";_g({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),k(am,So);var Dx=r,Ex="\0_ec_dataZoom_roams",Fx=q,Gx=qx.extend({type:"dataZoom.inside",init:function(a,b){this._range},render:function(a,b,c,d){Gx.superApply(this,"render",arguments),this._range=a.getPercentRange(),m(this.getTargetCoordInfo(),function(b,d){var e=n(b,function(a){return km(a.model)});m(b,function(b){var f=b.model,g=a.option;im(c,{coordId:km(f),allCoordIds:e,containsPoint:function(a,b,c){return f.coordinateSystem.containPoint([b,c])},dataZoomId:a.id,throttleRate:a.get("throttle",!0),panGetRange:Fx(this._onPan,this,b,d),zoomGetRange:Fx(this._onZoom,this,b,d),zoomLock:g.zoomLock,disabled:g.disabled,roamControllerOpt:{zoomOnMouseWheel:g.zoomOnMouseWheel,moveOnMouseMove:g.moveOnMouseMove,preventDefaultMouseMove:g.preventDefaultMouseMove}})},this)},this)},dispose:function(){jm(this.api,this.dataZoomModel.id),Gx.superApply(this,"dispose",arguments),this._range=null},_onPan:function(a,b,c,d,e,f,g,h,i){var j=this._range,k=j.slice(),l=a.axisModels[0];if(l){var m=Hx[b]([f,g],[h,i],l,c,a),n=m.signal*(k[1]-k[0])*m.pixel/m.pixelLength;return rx(n,k,[0,100],"all"),this._range=k,j[0]!==k[0]||j[1]!==k[1]?k:void 0}},_onZoom:function(a,b,c,d,e,f){var g=this._range,h=g.slice(),i=a.axisModels[0];if(i){var j=Hx[b](null,[e,f],i,c,a),k=(j.signal>0?j.pixelStart+j.pixelLength-j.pixel:j.pixel-j.pixelStart)/j.pixelLength*(h[1]-h[0])+h[0];d=Math.max(1/d,0),h[0]=(h[0]-k)*d+k,h[1]=(h[1]-k)*d+k;var l=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return rx(0,h,[0,100],0,l.minSpan,l.maxSpan),this._range=h,g[0]!==h[0]||g[1]!==h[1]?h:void 0}}}),Hx={grid:function(a,b,c,d,e){var f=c.axis,g={},h=e.model.coordinateSystem.getRect();return a=a||[0,0],"x"===f.dim?(g.pixel=b[0]-a[0],g.pixelLength=h.width,g.pixelStart=h.x,g.signal=f.inverse?1:-1):(g.pixel=b[1]-a[1],g.pixelLength=h.height,g.pixelStart=h.y,g.signal=f.inverse?-1:1),g},polar:function(a,b,c,d,e){var f=c.axis,g={},h=e.model.coordinateSystem,i=h.getRadiusAxis().getExtent(),j=h.getAngleAxis().getExtent();return a=a?h.pointToCoord(a):[0,0],b=h.pointToCoord(b),"radiusAxis"===c.mainType?(g.pixel=b[0]-a[0],g.pixelLength=i[1]-i[0],g.pixelStart=i[0],g.signal=f.inverse?1:-1):(g.pixel=b[1]-a[1],g.pixelLength=j[1]-j[0],g.pixelStart=j[0],g.signal=f.inverse?-1:1),g},singleAxis:function(a,b,c,d,e){var f=c.axis,g=e.model.coordinateSystem.getRect(),h={};return a=a||[0,0],"horizontal"===f.orient?(h.pixel=b[0]-a[0],h.pixelLength=g.width,h.pixelStart=g.x,h.signal=f.inverse?1:-1):(h.pixel=b[1]-a[1],h.pixelLength=g.height,h.pixelStart=g.y,h.signal=f.inverse?-1:1),h}};$g({getTargetSeries:function(a){var b=K();return a.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(a,c,d){m(d.getAxisProxy(a.name,c).getTargetSeriesModels(),function(a){b.set(a.uid,a)})})}),b},modifyOutputEnd:!0,overallReset:function(a,b){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(a,c,d){d.getAxisProxy(a.name,c).reset(d,b)}),a.eachTargetAxis(function(a,c,d){d.getAxisProxy(a.name,c).filterData(d,b)})}),a.eachComponent("dataZoom",function(a){var b=a.findRepresentativeAxisProxy(),c=b.getDataPercentWindow(),d=b.getDataValueWindow();a.setRawRange({start:c[0],end:c[1],startValue:d[0],endValue:d[1]},!0)})}}),_g("dataZoom",function(a,b){var c=Nl(q(b.eachComponent,b,"dataZoom"),jx,function(a,b){return a.get(b.axisIndex)}),d=[];b.eachComponent({mainType:"dataZoom",query:a},function(a,b){d.push.apply(d,c(a).nodes)}),m(d,function(b,c){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})});var Ix={},Jx=eh({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){Jx.superApply(this,"optionUpdated",arguments),m(this.option.feature,function(a,b){var c=um(b);c&&d(a,c.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});fh({type:"toolbox",render:function(a,b,c,d){function e(e,g){var h,l=k[e],m=k[g],n=new ne(i[l],a,a.ecModel);if(l&&!m){if(vm(l))h={model:n,onclick:n.option.onclick,featureName:l};else{var o=um(l);if(!o)return;h=new o(n,b,c)}j[l]=h}else{if(!(h=j[m]))return;h.model=n,h.ecModel=b,h.api=c}l||!m?n.get("show")&&!h.unusable?(f(n,h,l),n.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{},c.iconStatus[a]=b,d[a]&&d[a].trigger(b)},h.render&&h.render(n,b,c,d)):h.remove&&h.remove(b,c):h.dispose&&h.dispose(b,c)}function f(d,e,f){var i=d.getModel("iconStyle"),j=d.getModel("emphasis.iconStyle"),k=e.getIcons?e.getIcons():d.get("icon"),l=d.get("title")||{};if("string"==typeof k){var n=k,o=l;l={},(k={})[f]=n,l[f]=o}var p=d.iconPaths={};m(k,function(f,k){var m=me(f,{},{x:-h/2,y:-h/2,width:h,height:h});m.setStyle(i.getItemStyle()),m.hoverStyle=j.getItemStyle(),Wd(m),a.get("showTitle")&&(m.__title=l[k],m.on("mouseover",function(){var a=j.getItemStyle();m.setStyle({text:l[k],textPosition:a.textPosition||"bottom",textFill:a.fill||a.stroke||"#000",textAlign:a.textAlign||"center"})}).on("mouseout",function(){m.setStyle({textFill:null})})),m.trigger(d.get("iconStatus."+k)||"normal"),g.add(m),m.on("click",q(e.onclick,e,b,c,k)),p[k]=m})}var g=this.group;if(g.removeAll(),a.get("show")){var h=+a.get("itemSize"),i=a.get("feature")||{},j=this._features||(this._features={}),k=[];m(i,function(a,b){k.push(b)}),new jh(this._featureNames||[],k).add(e).update(e).remove(r(e,null)).execute(),this._featureNames=k,$k(g,a,c),g.add(_k(g.getBoundingRect(),a)),g.eachChild(function(a){var b=a.__title,d=a.hoverStyle;if(d&&b){var e=lb(b,Ab(d)),f=a.position[0]+g.position[0],i=!1;a.position[1]+g.position[1]+h+e.height>c.getHeight()&&(d.textPosition="top",i=!0);var j=i?-5-e.height:h+8;f+e.width/2>c.getWidth()?(d.textPosition=["100%",j],d.textAlign="right"):f-e.width/2<0&&(d.textPosition=[0,j],d.textAlign="left")}})}},updateView:function(a,b,c,d){m(this._features,function(a){a.updateView&&a.updateView(a.model,b,c,d)})},remove:function(a,b){m(this._features,function(c){c.remove&&c.remove(a,b)}),this.group.removeAll()},dispose:function(a,b){m(this._features,function(c){c.dispose&&c.dispose(a,b)})}});var Kx=xt.toolbox.saveAsImage;wm.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Kx.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:Kx.lang.slice()},wm.prototype.unusable=!wo.canvasSupported,wm.prototype.onclick=function(a,b){var c=this.model,d=c.get("name")||a.get("title.0.text")||"echarts",e=document.createElement("a"),f=c.get("type",!0)||"png";e.download=d+"."+f,e.target="_blank";var g=b.getConnectedDataURL({type:f,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")});if(e.href=g,"function"!=typeof MouseEvent||wo.browser.ie||wo.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var h=atob(g.split(",")[1]),i=h.length,j=new Uint8Array(i);i--;)j[i]=h.charCodeAt(i);var k=new Blob([j]);window.navigator.msSaveOrOpenBlob(k,d+"."+f)}else{var l=c.get("lang"),m='<body style="margin:0;"><img src="'+g+'" style="max-width:100%;" title="'+(l&&l[0]||"")+'" /></body>';window.open().document.write(m)}else{var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});e.dispatchEvent(n)}},tm("saveAsImage",wm);var Lx=xt.toolbox.magicType;xm.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:c(Lx.title),option:{},seriesIndex:{}};var Mx=xm.prototype;Mx.getIcons=function(){var a=this.model,b=a.get("icon"),c={};return m(a.get("type"),function(a){b[a]&&(c[a]=b[a])}),c};var Nx={line:function(a,b,c,e){if("bar"===a)return d({id:b,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},e.get("option.line")||{},!0)},bar:function(a,b,c,e){if("line"===a)return d({id:b,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},e.get("option.bar")||{},!0)},stack:function(a,b,c,e){if("line"===a||"bar"===a)return d({id:b,stack:"__ec_magicType_stack__"},e.get("option.stack")||{},!0)},tiled:function(a,b,c,e){if("line"===a||"bar"===a)return d({id:b,stack:""},e.get("option.tiled")||{},!0)}},Ox=[["line","bar"],["stack","tiled"]];Mx.onclick=function(a,b,c){var d=this.model,e=d.get("seriesIndex."+c);if(Nx[c]){var f={series:[]};m(Ox,function(a){i(a,c)>=0&&m(a,function(a){d.setIconStatus(a,"normal")})}),d.setIconStatus(c,"emphasis"),a.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},function(b){var e=b.subType,h=b.id,i=Nx[c](e,h,b,d);i&&(g(i,b.option),f.series.push(i));var j=b.coordinateSystem;if(j&&"cartesian2d"===j.type&&("line"===c||"bar"===c)){var k=j.getAxesByScale("ordinal")[0];if(k){var l=k.dim+"Axis",m=a.queryComponents({mainType:l,index:b.get(name+"Index"),id:b.get(name+"Id")})[0].componentIndex;f[l]=f[l]||[];for(var n=0;n<=m;n++)f[l][m]=f[l][m]||{};f[l][m].boundaryGap="bar"===c}}}),b.dispatchAction({type:"changeMagicType",currentType:c,newOption:f})}},_g({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)}),tm("magicType",xm);var Px=xt.toolbox.dataView,Qx=new Array(60).join("-"),Rx="\t",Sx=new RegExp("["+Rx+"]+","g");Hm.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:c(Px.title),lang:c(Px.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Hm.prototype.onclick=function(a,b){function c(){d.removeChild(f),t._dom=null}var d=b.getDom(),e=this.model;this._dom&&d.removeChild(this._dom);var f=document.createElement("div");f.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",f.style.backgroundColor=e.get("backgroundColor")||"#fff";var g=document.createElement("h4"),h=e.get("lang")||[];g.innerHTML=h[0]||e.get("title"),g.style.cssText="margin: 10px 20px;",g.style.color=e.get("textColor");var i=document.createElement("div"),j=document.createElement("textarea");i.style.cssText="display:block;width:100%;overflow:auto;";var k=e.get("optionToContent"),l=e.get("contentToOption"),m=Bm(a);if("function"==typeof k){var n=k(b.getOption());"string"==typeof n?i.innerHTML=n:y(n)&&i.appendChild(n)}else i.appendChild(j),j.readOnly=e.get("readOnly"),j.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",j.style.color=e.get("textColor"),j.style.borderColor=e.get("textareaBorderColor"),j.style.backgroundColor=e.get("textareaColor"),j.value=m.value;var o=m.meta,p=document.createElement("div");p.style.cssText="position:absolute;bottom:0;left:0;right:0;";var q="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",r=document.createElement("div"),s=document.createElement("div");q+=";background-color:"+e.get("buttonColor"),q+=";color:"+e.get("buttonTextColor");var t=this;ec(r,"click",c),ec(s,"click",function(){var a;try{a="function"==typeof l?l(i,b.getOption()):Gm(j.value,o)}catch(a){throw c(),new Error("Data view format error "+a)}a&&b.dispatchAction({type:"changeDataView",newOption:a}),c()}),r.innerHTML=h[1],s.innerHTML=h[2],s.style.cssText=q,r.style.cssText=q,!e.get("readOnly")&&p.appendChild(s),p.appendChild(r),ec(j,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+Rx+b.substring(d),this.selectionStart=this.selectionEnd=c+1,aq(a)}}),f.appendChild(g),f.appendChild(i),f.appendChild(p),i.style.height=d.clientHeight-80+"px",d.appendChild(f),this._dom=f},Hm.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)},Hm.prototype.dispose=function(a,b){this.remove(a,b)},tm("dataView",Hm),_g({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];m(a.newOption.series,function(a){var d=b.getSeriesByName(a.name)[0];if(d){var e=d.get("data");c.push({name:a.name,data:Im(a.data,e)})}else c.push(f({type:"scatter"},a))}),b.mergeOption(g({series:c},a.newOption))});var Tx=r,Ux=m,Vx=n,Wx=Math.min,Xx=Math.max,Yx=Math.pow,Zx=1e4,$x=6,_x=6,ay="globalPan",by={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},cy={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},dy={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},ey=0;Jm.prototype={constructor:Jm,enableBrush:function(a){return this._brushType&&Lm(this),a.brushType&&Km(this,a),this},setPanels:function(a){if(a&&a.length){var b=this._panels={};m(a,function(a){b[a.panelId]=c(a)})}else this._panels=null;return this},mount:function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this._transform=b.getLocalTransform(),this},eachCover:function(a,b){Ux(this._covers,a,b)},updateCovers:function(a){function b(a,b){return(null!=a.id?a.id:f+b)+"-"+a.brushType}function e(b,c){var d=a[b];if(null!=c&&g[c]===j)h[b]=g[c];else{var e=h[b]=null!=c?(g[c].__brushOption=d,g[c]):Nm(i,Mm(i,d));Qm(i,e)}}a=n(a,function(a){return d(c(dy),a,!0)});var f="\0-brush-index-",g=this._covers,h=this._covers=[],i=this,j=this._creatingCover;return new jh(g,a,function(a,c){return b(a.__brushOption,c)},b).add(e).update(e).remove(function(a){g[a]!==j&&i.group.remove(g[a])}).execute(),this},unmount:function(){return this.enableBrush(!1),Um(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},k(Jm,So);var fy={mousedown:function(a){if(this._dragging)pn.call(this,a);else if(!a.target||!a.target.draggable){ln(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null,(this._creatingPanel=Sm(this,a,b))&&(this._dragging=!0,this._track=[b.slice()])}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);if(kn(this,a,b),this._dragging){ln(a);var c=nn(this,a,b,!1);c&&Vm(this,c)}},mouseup:pn},gy={lineX:qn(0),lineY:qn(1),rect:{createCover:function(a,b){return Ym(Tx(en,function(a){return a},function(a){return a}),a,b,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(a){var b=Xm(a);return bn(b[1][0],b[1][1],b[0][0],b[0][1])},updateCoverShape:function(a,b,c,d){Zm(a,b,c,d)},updateCommon:$m,contain:mn},polygon:{createCover:function(a,b){var c=new yp;return c.add(new Nr({name:"main",style:an(b),silent:!0})),c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0)),b.add(new Mr({name:"main",draggable:!0,drift:Tx(fn,a,b),ondragend:Tx(Vm,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:hn(a,b,c)})},updateCommon:$m,contain:mn}},hy={axisPointer:1,tooltip:1,brush:1},iy=m,jy=i,ky=r,ly=["dataToPoint","pointToData"],my=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],ny=wn.prototype;ny.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(a,b,c){if((a.coordRanges||(a.coordRanges=[])).push(b),!a.coordRange){a.coordRange=b;var d=ry[a.brushType](0,c,b);a.__rangeOffset={offset:sy[a.brushType](d.values,a.range,[1,1]),xyMinMax:d.xyMinMax}}})},ny.matchOutputRanges=function(a,b,c){iy(a,function(a){var d=this.findTargetInfo(a,b);d&&!0!==d&&m(d.coordSyses,function(d){var e=ry[a.brushType](1,d,a.range);c(a,e.values,d,b)})},this)},ny.setInputRanges=function(a,b){iy(a,function(a){var c=this.findTargetInfo(a,b);if(a.range=a.range||[],c&&!0!==c){a.panelId=c.panelId;var d=ry[a.brushType](0,c.coordSys,a.coordRange),e=a.__rangeOffset;a.range=e?sy[a.brushType](d.values,e.offset,Bn(d.xyMinMax,e.xyMinMax)):d.values}},this)},ny.makePanelOpts=function(a,b){return n(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b&&b(c),clipPath:sn(d),isTargetByCursor:un(d,a,c.coordSysModel),getLinearBrushOtherExtent:tn(d)}})},ny.controlSeries=function(a,b,c){var d=this.findTargetInfo(a,c);return!0===d||d&&jy(d.coordSyses,b.coordinateSystem)>=0},ny.findTargetInfo=function(a,b){for(var c=this._targetInfoList,d=yn(b,a),e=0;e<c.length;e++){var f=c[e],g=a.panelId;if(g){if(f.panelId===g)return f}else for(e=0;e<py.length;e++)if(py[e](d,f))return f}return!0};var oy={grid:function(a,b){var c=a.xAxisModels,d=a.yAxisModels,e=a.gridModels,f=K(),g={},h={};(c||d||e)&&(iy(c,function(a){var b=a.axis.grid.model;f.set(b.id,b),g[b.id]=!0}),iy(d,function(a){var b=a.axis.grid.model;f.set(b.id,b),h[b.id]=!0}),iy(e,function(a){f.set(a.id,a),g[a.id]=!0,h[a.id]=!0}),f.each(function(a){var e=a.coordinateSystem,f=[];iy(e.getCartesians(),function(a,b){(jy(c,a.getAxis("x").model)>=0||jy(d,a.getAxis("y").model)>=0)&&f.push(a)}),b.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:f[0],coordSyses:f,getPanelRect:qy.grid,xAxisDeclared:g[a.id],yAxisDeclared:h[a.id]})}))},geo:function(a,b){iy(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:qy.geo})})}},py=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel,e=a.gridModel;return!e&&c&&(e=c.axis.grid.model),!e&&d&&(e=d.axis.grid.model),e&&e===b.gridModel},function(a,b){var c=a.geoModel;return c&&c===b.geoModel}],qy={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(he(a)),b}},ry={lineX:ky(zn,0),lineY:ky(zn,1),rect:function(a,b,c){var d=b[ly[a]]([c[0][0],c[1][0]]),e=b[ly[a]]([c[0][1],c[1][1]]),f=[xn([d[0],e[0]]),xn([d[1],e[1]])];return{values:f,xyMinMax:f}},polygon:function(a,b,c){var d=[[1/0,-1/0],[1/0,-1/0]];return{values:n(c,function(c){var e=b[ly[a]](c);return d[0][0]=Math.min(d[0][0],e[0]),d[1][0]=Math.min(d[1][0],e[1]),d[0][1]=Math.max(d[0][1],e[0]),d[1][1]=Math.max(d[1][1],e[1]),e}),xyMinMax:d}}},sy={lineX:ky(An,0),lineY:ky(An,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,c){return n(a,function(a,d){return[a[0]-c[0]*b[d][0],a[1]-c[1]*b[d][1]]})}},ty=m,uy="\0_ec_hist_store";px.extend({type:"dataZoom.select"}),qx.extend({type:"dataZoom.select"});var vy=xt.toolbox.dataZoom,wy=m,xy="\0_ec_\0toolbox-dataZoom_";In.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:c(vy.title)};var yy=In.prototype;yy.render=function(a,b,c,d){this.model=a,this.ecModel=b,this.api=c,Ln(a,b,this,d,c),Kn(a,b)},yy.onclick=function(a,b,c){zy[c].call(this)},yy.remove=function(a,b){this._brushController.unmount()},yy.dispose=function(a,b){this._brushController.dispose()};var zy={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(En(this.ecModel))}};yy._onBrush=function(a,b){function c(a,b,c){var g=b.getAxis(a),h=g.model,i=d(a,h,f),j=i.findRepresentativeAxisProxy(h).getMinMaxSpan();null==j.minValueSpan&&null==j.maxValueSpan||(c=rx(0,c.slice(),g.scale.getExtent(),0,j.minValueSpan,j.maxValueSpan)),i&&(e[i.id]={dataZoomId:i.id,startValue:c[0],endValue:c[1]})}function d(a,b,c){var d;return c.eachComponent({mainType:"dataZoom",subType:"select"},function(c){c.getAxisModel(a,b.componentIndex)&&(d=c)}),d}if(b.isEnd&&a.length){var e={},f=this.ecModel;this._brushController.updateCovers([]),new wn(Jn(this.model.option),f,{include:["grid"]}).matchOutputRanges(a,f,function(a,b,d){if("cartesian2d"===d.type){var e=a.brushType;"rect"===e?(c("x",d,b[0]),c("y",d,b[1])):c({lineX:"x",lineY:"y"}[e],d,b)}}),Dn(f,e),this._dispatchZoomAction(e)}},yy._dispatchZoomAction=function(a){var b=[];wy(a,function(a,d){b.push(c(a))}),b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})},tm("dataZoom",In),Zg(function(a){function b(a,b){if(b){var e=a+"Index",f=b[e];null==f||"all"==f||s(f)||(f=!1===f||"none"===f?[]:[f]),c(a,function(b,c){if(null==f||"all"==f||-1!==i(f,c)){var g={type:"select",$fromToolbox:!0,id:xy+a+c};g[e]=c,d.push(g)}})}}function c(b,c){var d=a[b];s(d)||(d=d?[d]:[]),wy(d,c)}if(a){var d=a.dataZoom||(a.dataZoom=[]);s(d)||(a.dataZoom=d=[d]);var e=a.toolbox;if(e&&(s(e)&&(e=e[0]),e&&e.feature)){var f=e.feature.dataZoom;b("xAxis",f),b("yAxis",f)}}});var Ay=xt.toolbox.restore;Mn.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Ay.title},Mn.prototype.onclick=function(a,b,c){Fn(a),b.dispatchAction({type:"restore",from:this.uid})},tm("restore",Mn),_g({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")});var By,Cy="urn:schemas-microsoft-com:vml",Dy="undefined"==typeof window?null:window,Ey=!1,Fy=Dy&&Dy.document;if(Fy&&!wo.canvasSupported)try{!Fy.namespaces.zrvml&&Fy.namespaces.add("zrvml",Cy),By=function(a){return Fy.createElement("<zrvml:"+a+' class="zrvml">')}}catch(a){By=function(a){return Fy.createElement("<"+a+' xmlns="'+Cy+'" class="zrvml">')}}var Gy=gr.CMD,Hy=Math.round,Iy=Math.sqrt,Jy=Math.abs,Ky=Math.cos,Ly=Math.sin,My=Math.max;if(!wo.canvasSupported){var Ny=21600,Oy=Ny/2,Py=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",a.coordsize=Ny+","+Ny,a.coordorigin="0,0"},Qy=function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},Ry=function(a,b,c){return"rgb("+[a,b,c].join(",")+")"},Sy=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},Ty=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},Uy=function(a,b,c){return 1e5*(parseFloat(a)||0)+1e3*(parseFloat(b)||0)+c},Vy=function(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a},Wy=function(a,b,c){var d=ya(b);c=+c,isNaN(c)&&(c=1),d&&(a.color=Ry(d[0],d[1],d[2]),a.opacity=c*d[3])},Xy=function(a){var b=ya(a);return[Ry(b[0],b[1],b[2]),b[3]]},Yy=function(a,b,c){var d=b.fill;if(null!=d)if(d instanceof Ur){var e,f=0,g=[0,0],h=0,i=1,j=c.getBoundingRect(),k=j.width,l=j.height;if("linear"===d.type){e="gradient";var m=c.transform,n=[d.x*k,d.y*l],o=[d.x2*k,d.y2*l];m&&(Y(n,n,m),Y(o,o,m));var p=o[0]-n[0],q=o[1]-n[1];(f=180*Math.atan2(p,q)/Math.PI)<0&&(f+=360),f<1e-6&&(f=0)}else{e="gradientradial";var n=[d.x*k,d.y*l],m=c.transform,r=c.scale,s=k,t=l;g=[(n[0]-j.x)/s,(n[1]-j.y)/t],m&&Y(n,n,m),s/=r[0]*Ny,t/=r[1]*Ny;var u=My(s,t);h=0/u,i=2*d.r/u-h}var v=d.colorStops.slice();v.sort(function(a,b){return a.offset-b.offset});for(var w=v.length,x=[],y=[],z=0;z<w;z++){var A=v[z],B=Xy(A.color);y.push(A.offset*i+h+" "+B[0]),0!==z&&z!==w-1||x.push(B)}if(w>=2){var C=x[0][0],D=x[1][0],E=x[0][1]*b.opacity,F=x[1][1]*b.opacity;a.type=e,a.method="none",a.focus="100%",a.angle=f,a.color=C,a.color2=D,a.colors=y.join(","),a.opacity=F,a.opacity2=E}"radial"===e&&(a.focusposition=g.join(","))}else Wy(a,d,b.opacity)},Zy=function(a,b){null!=b.lineDash&&(a.dashstyle=b.lineDash.join(" ")),null==b.stroke||b.stroke instanceof Ur||Wy(a,b.stroke,b.opacity)},$y=function(a,b,c,d){var e="fill"==b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof Ur&&Ty(a,f),f||(f=Nn(b)),e?Yy(f,c,d):Zy(f,c),Sy(a,f)):(a[e?"filled":"stroked"]="false",Ty(a,f))},_y=[[],[],[]],az=function(a,b){var c,d,e,f,g,h,i=Gy.M,j=Gy.C,k=Gy.L,l=Gy.A,m=Gy.Q,n=[],o=a.data,p=a.len();for(f=0;f<p;){switch(e=o[f++],d="",c=0,e){case i:d=" m ",c=1,g=o[f++],h=o[f++],_y[0][0]=g,_y[0][1]=h;break;case k:d=" l ",c=1,g=o[f++],h=o[f++],_y[0][0]=g,_y[0][1]=h;break;case m:case j:d=" c ",c=3;var q,r,s=o[f++],t=o[f++],u=o[f++],v=o[f++];e===m?(q=u,r=v,u=(u+2*s)/3,v=(v+2*t)/3,s=(g+2*s)/3,t=(h+2*t)/3):(q=o[f++],r=o[f++]),_y[0][0]=s,_y[0][1]=t,_y[1][0]=u,_y[1][1]=v,_y[2][0]=q,_y[2][1]=r,g=q,h=r;break;case l:var w=0,x=0,y=1,z=1,A=0;b&&(w=b[4],x=b[5],y=Iy(b[0]*b[0]+b[1]*b[1]),z=Iy(b[2]*b[2]+b[3]*b[3]),A=Math.atan2(-b[1]/z,b[0]/y));var B=o[f++],C=o[f++],D=o[f++],E=o[f++],F=o[f++]+A,G=o[f++]+F+A;f++;var H=o[f++],I=B+Ky(F)*D,J=C+Ly(F)*E,s=B+Ky(G)*D,t=C+Ly(G)*E,K=H?" wa ":" at ";Math.abs(I-s)<1e-4&&(Math.abs(G-F)>.01?H&&(I+=.0125):Math.abs(J-C)<1e-4?H&&I<B||!H&&I>B?t-=.0125:t+=.0125:H&&J<C||!H&&J>C?s+=.0125:s-=.0125),n.push(K,Hy(((B-D)*y+w)*Ny-Oy),",",Hy(((C-E)*z+x)*Ny-Oy),",",Hy(((B+D)*y+w)*Ny-Oy),",",Hy(((C+E)*z+x)*Ny-Oy),",",Hy((I*y+w)*Ny-Oy),",",Hy((J*z+x)*Ny-Oy),",",Hy((s*y+w)*Ny-Oy),",",Hy((t*z+x)*Ny-Oy)),g=s,h=t;break;case Gy.R:var L=_y[0],M=_y[1];L[0]=o[f++],L[1]=o[f++],M[0]=L[0]+o[f++],M[1]=L[1]+o[f++],b&&(Y(L,L,b),Y(M,M,b)),L[0]=Hy(L[0]*Ny-Oy),M[0]=Hy(M[0]*Ny-Oy),L[1]=Hy(L[1]*Ny-Oy),M[1]=Hy(M[1]*Ny-Oy),n.push(" m ",L[0],",",L[1]," l ",M[0],",",L[1]," l ",M[0],",",M[1]," l ",L[0],",",M[1]);break;case Gy.Z:n.push(" x ")}if(c>0){n.push(d);for(var N=0;N<c;N++){var O=_y[N];b&&Y(O,O,b),n.push(Hy(O[0]*Ny-Oy),",",Hy(O[1]*Ny-Oy),N<c-1?",":"")}}}return n.join("")};sd.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=Nn("shape"),Py(c),this._vmlEl=c),$y(c,"fill",b,this),$y(c,"stroke",b,this);var d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0];if(f){var g=b.lineWidth;if(e&&!b.strokeNoScale){var h=d[0]*d[3]-d[1]*d[2];g*=Iy(Jy(h))}f.weight=g+"px"}var i=this.path||(this.path=new gr);this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape),i.toStatic(),this.__dirtyPath=!1),c.path=az(i,this.transform),c.style.zIndex=Uy(this.zlevel,this.z,this.z2),Sy(a,c),null!=b.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)},sd.prototype.onRemove=function(a){Ty(a,this._vmlEl),this.removeRectText(a)},sd.prototype.onAdd=function(a){Sy(a,this._vmlEl),this.appendRectText(a)};var bz=function(a){return"object"==typeof a&&a.tagName&&"IMG"===a.tagName.toUpperCase()};Vb.prototype.brushVML=function(a){var b,c,d=this.style,e=d.image;if(bz(e)){var f=e.src;if(f===this._imageSrc)b=this._imageWidth,c=this._imageHeight;else{var g=e.runtimeStyle,h=g.width,i=g.height;g.width="auto",g.height="auto",b=e.width,c=e.height,g.width=h,g.height=i,this._imageSrc=f,this._imageWidth=b,this._imageHeight=c}e=f}else e===this._imageSrc&&(b=this._imageWidth,c=this._imageHeight);if(e){var j=d.x||0,k=d.y||0,l=d.width,m=d.height,n=d.sWidth,o=d.sHeight,p=d.sx||0,q=d.sy||0,r=n&&o,s=this._vmlEl;s||(s=Fy.createElement("div"),Py(s),this._vmlEl=s);var t,u=s.style,v=!1,w=1,x=1;if(this.transform&&(t=this.transform,w=Iy(t[0]*t[0]+t[1]*t[1]),x=Iy(t[2]*t[2]+t[3]*t[3]),v=t[1]||t[2]),v){var y=[j,k],z=[j+l,k],A=[j,k+m],B=[j+l,k+m];Y(y,y,t),Y(z,z,t),Y(A,A,t),Y(B,B,t);var C=My(y[0],z[0],A[0],B[0]),D=My(y[1],z[1],A[1],B[1]),E=[];E.push("M11=",t[0]/w,",","M12=",t[2]/x,",","M21=",t[1]/w,",","M22=",t[3]/x,",","Dx=",Hy(j*w+t[4]),",","Dy=",Hy(k*x+t[5])),u.padding="0 "+Hy(C)+"px "+Hy(D)+"px 0",u.filter="progid:DXImageTransform.Microsoft.Matrix("+E.join("")+", SizingMethod=clip)"}else t&&(j=j*w+t[4],k=k*x+t[5]),u.filter="",u.left=Hy(j)+"px",u.top=Hy(k)+"px";var F=this._imageEl,G=this._cropEl;F||(F=Fy.createElement("div"),this._imageEl=F);var H=F.style;if(r){if(b&&c)H.width=Hy(w*b*l/n)+"px",H.height=Hy(x*c*m/o)+"px";else{var I=new Image,J=this;I.onload=function(){I.onload=null,b=I.width,c=I.height,H.width=Hy(w*b*l/n)+"px",H.height=Hy(x*c*m/o)+"px",J._imageWidth=b,J._imageHeight=c,J._imageSrc=e},I.src=e}G||((G=Fy.createElement("div")).style.overflow="hidden",this._cropEl=G);var K=G.style;K.width=Hy((l+p*l/n)*w),K.height=Hy((m+q*m/o)*x),K.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-p*l/n*w+",Dy="+-q*m/o*x+")",G.parentNode||s.appendChild(G),F.parentNode!=G&&G.appendChild(F)}else H.width=Hy(w*l)+"px",H.height=Hy(x*m)+"px",s.appendChild(F),G&&G.parentNode&&(s.removeChild(G),this._cropEl=null);var L="",M=d.opacity;M<1&&(L+=".Alpha(opacity="+Hy(100*M)+") "),L+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+e+", SizingMethod=scale)",H.filter=L,s.style.zIndex=Uy(this.zlevel,this.z,this.z2),Sy(a,s),null!=d.text&&this.drawRectText(a,this.getBoundingRect())}},Vb.prototype.onRemove=function(a){Ty(a,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(a)},Vb.prototype.onAdd=function(a){Sy(a,this._vmlEl),this.appendRectText(a)};var cz,dz={},ez=0,fz=document.createElement("div"),gz=function(a){var b=dz[a];if(!b){ez>100&&(ez=0,dz={});var c,d=fz.style;try{d.font=a,c=d.fontFamily.split(",")[0]}catch(a){}b={style:d.fontStyle||"normal",variant:d.fontVariant||"normal",weight:d.fontWeight||"normal",size:0|parseFloat(d.fontSize||12),family:c||"Microsoft YaHei"},dz[a]=b,ez++}return b};!function(a,b){Sp[a]=b}("measureText",function(a,b){var c=Fy;cz||((cz=c.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Fy.body.appendChild(cz));try{cz.style.font=b}catch(a){}return cz.innerHTML="",cz.appendChild(c.createTextNode(a)),{width:cz.offsetWidth}});for(var hz=new Ua,iz=[Wp,Ub,Vb,sd,Er],jz=0;jz<iz.length;jz++){var kz=iz[jz].prototype;kz.drawRectText=function(a,b,c,d){var e=this.style;this.__dirty&&Cb(e);var f=e.text;if(null!=f&&(f+=""),f){if(e.rich){var g=yb(f,e);f=[];for(var h=0;h<g.lines.length;h++){for(var i=g.lines[h].tokens,j=[],k=0;k<i.length;k++)j.push(i[k].text);f.push(j.join(""))}f=f.join("\n")}var l,m,n=e.textAlign,o=e.textVerticalAlign,p=gz(e.font),q=p.style+" "+p.variant+" "+p.weight+" "+p.size+'px "'+p.family+'"';c=c||lb(f,q,n,o);var r=this.transform;if(r&&!d&&(hz.copy(b),hz.applyTransform(r),b=hz),d)l=b.x,m=b.y;else{var s=e.textPosition,t=e.textDistance;if(s instanceof Array)l=b.x+Vy(s[0],b.width),m=b.y+Vy(s[1],b.height),n=n||"left";else{var u=qb(s,b,t);l=u.x,m=u.y,n=n||u.textAlign,o=o||u.textVerticalAlign}}l=ob(l,c.width,n),m=pb(m,c.height,o),m+=c.height/2;var v,w,x,y=Nn,z=this._textVmlEl;z?w=(v=(x=z.firstChild).nextSibling).nextSibling:(z=y("line"),v=y("path"),w=y("textpath"),x=y("skew"),w.style["v-text-align"]="left",Py(z),v.textpathok=!0,w.on=!0,z.from="0 0",z.to="1000 0.05",Sy(z,x),Sy(z,v),Sy(z,w),this._textVmlEl=z);var A=[l,m],B=z.style;r&&d?(Y(A,A,r),x.on=!0,x.matrix=r[0].toFixed(3)+","+r[2].toFixed(3)+","+r[1].toFixed(3)+","+r[3].toFixed(3)+",0,0",x.offset=(Hy(A[0])||0)+","+(Hy(A[1])||0),x.origin="0 0",B.left="0px",B.top="0px"):(x.on=!1,B.left=Hy(l)+"px",B.top=Hy(m)+"px"),w.string=Qy(f);try{w.style.font=q}catch(a){}$y(z,"fill",{fill:e.textFill,opacity:e.opacity},this),$y(z,"stroke",{stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this),z.style.zIndex=Uy(this.zlevel,this.z,this.z2),Sy(a,z)}},kz.removeRectText=function(a){Ty(a,this._textVmlEl),this._textVmlEl=null},kz.appendRectText=function(a){Sy(a,this._textVmlEl)}}Er.prototype.brushVML=function(a){var b=this.style;null!=b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)},Er.prototype.onRemove=function(a){this.removeRectText(a)},Er.prototype.onAdd=function(a){this.appendRectText(a)}}Qn.prototype={constructor:Qn,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var b=this._vmlRoot,c=0;c<a.length;c++){var d=a[c];d.invisible||d.ignore?(d.__alreadyNotVisible||d.onRemove(b),d.__alreadyNotVisible=!0):(d.__alreadyNotVisible&&d.onAdd(b),d.__alreadyNotVisible=!1,d.__dirty&&(d.beforeBrush&&d.beforeBrush(),(d.brushVML||d.brush).call(d,b),d.afterBrush&&d.afterBrush())),d.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(a,b){var a=null==a?this._getWidth():a,b=null==b?this._getHeight():b;if(this._width!=a||this._height!=b){this._width=a,this._height=b;var c=this._vmlViewport.style;c.width=a+"px",c.height=b+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=this.root,b=a.currentStyle;return(a.clientWidth||Pn(b.width))-Pn(b.paddingLeft)-Pn(b.paddingRight)|0},_getHeight:function(){var a=this.root,b=a.currentStyle;return(a.clientHeight||Pn(b.height))-Pn(b.paddingTop)-Pn(b.paddingBottom)|0}},m(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(a){Qn.prototype[a]=Rn(a)}),qc("vml",Qn);var lz="http://www.w3.org/2000/svg",mz=gr.CMD,nz=Array.prototype.join,oz="none",pz=Math.round,qz=Math.sin,rz=Math.cos,sz=Math.PI,tz=2*Math.PI,uz=180/sz,vz=1e-4,wz={};wz.brush=function(a){var b=a.style,c=a.__svgEl;c||(c=Sn("path"),a.__svgEl=c),a.path||a.createPathProxy();var d=a.path;if(a.__dirtyPath){d.beginPath(),a.buildPath(d,a.shape),a.__dirtyPath=!1;var e=_n(d);e.indexOf("NaN")<0&&Yn(c,"d",e)}$n(c,b),Xn(c,a.transform),null!=b.text&&Az(a,a.getBoundingRect())};var xz={};xz.brush=function(a){var b=a.style,c=b.image;if(c instanceof HTMLImageElement&&(c=c.src),c){var d=b.x||0,e=b.y||0,f=b.width,g=b.height,h=a.__svgEl;h||(h=Sn("image"),a.__svgEl=h),c!==a.__imageSrc&&(Zn(h,"href",c),a.__imageSrc=c),Yn(h,"width",f),Yn(h,"height",g),Yn(h,"x",d),Yn(h,"y",e),Xn(h,a.transform),null!=b.text&&Az(a,a.getBoundingRect())}};var yz={},zz=new Ua,Az=function(a,b,c){var d=a.style;a.__dirty&&Cb(d);var e=d.text;if(null!=e){e+="";var f=a.__textSvgEl;f||(f=Sn("text"),a.__textSvgEl=f);var g,h,i=d.textPosition,j=d.textDistance,k=d.textAlign||"left";"number"==typeof d.fontSize&&(d.fontSize+="px");var l=d.font||[d.fontStyle||"",d.fontWeight||"",d.fontSize||"",d.fontFamily||""].join(" ")||Rp,m=ao(d.textVerticalAlign),n=(c=lb(e,l,k,m)).lineHeight;if(i instanceof Array)g=b.x+i[0],h=b.y+i[1];else{var o=qb(i,b,j);g=o.x,h=o.y,m=ao(o.textVerticalAlign),k=o.textAlign}Yn(f,"alignment-baseline",m),l&&(f.style.font=l);var p=d.textPadding;if(Yn(f,"x",g),Yn(f,"y",h),$n(f,d,!0),a instanceof Er||a.style.transformText)Xn(f,a.transform);else{if(a.transform)zz.copy(b),zz.applyTransform(a.transform),b=zz;else{var q=a.transformCoordToGlobal(b.x,b.y);b.x=q[0],b.y=q[1]}var r=d.textOrigin;"center"===r?(g=c.width/2+g,h=c.height/2+h):r&&(g=r[0]+g,h=r[1]+h);var s=-d.textRotation||0,t=ea();ja(t,a.transform,s),Xn(f,t)}var u=e.split("\n"),v=u.length,w=k;"left"===w?(w="start",p&&(g+=p[3])):"right"===w?(w="end",p&&(g-=p[1])):"center"===w&&(w="middle",p&&(g+=(p[3]-p[1])/2));var x=0;if("baseline"===m?(x=-c.height+n,p&&(x-=p[2])):"middle"===m?(x=(-c.height+n)/2,p&&(h+=(p[0]-p[2])/2)):p&&(x+=p[0]),a.__text!==e||a.__textFont!==l){var y=a.__tspanList||[];for(a.__tspanList=y,A=0;A<v;A++)(B=y[A])?B.innerHTML="":(B=y[A]=Sn("tspan"),f.appendChild(B),Yn(B,"alignment-baseline",m),Yn(B,"text-anchor",w)),Yn(B,"x",g),Yn(B,"y",h+A*n+x),B.appendChild(document.createTextNode(u[A]));for(;A<y.length;A++)f.removeChild(y[A]);y.length=v,a.__text=e,a.__textFont=l}else if(a.__tspanList.length)for(var z=a.__tspanList.length,A=0;A<z;++A){var B=a.__tspanList[A];B&&(Yn(B,"x",g),Yn(B,"y",h+A*n+x))}}};yz.drawRectText=Az,yz.brush=function(a){var b=a.style;null!=b.text&&(b.textPosition=[0,0],Az(a,{x:b.x||0,y:b.y||0,width:0,height:0},a.getBoundingRect()))},bo.prototype={diff:function(a,b,c){c||(c=function(a,b){return a===b}),this.equals=c;var d=this;a=a.slice();var e=(b=b.slice()).length,f=a.length,g=1,h=e+f,i=[{newPos:-1,components:[]}],j=this.extractCommon(i[0],b,a,0);if(i[0].newPos+1>=e&&j+1>=f){for(var k=[],l=0;l<b.length;l++)k.push(l);return[{indices:k,count:b.length}]}for(;g<=h;){var m=function(){for(var c=-1*g;c<=g;c+=2){var h,j=i[c-1],k=i[c+1],l=(k?k.newPos:0)-c;j&&(i[c-1]=void 0);var m=j&&j.newPos+1<e,n=k&&0<=l&&l<f;if(m||n){if(!m||n&&j.newPos<k.newPos?(h=eo(k),d.pushComponent(h.components,void 0,!0)):((h=j).newPos++,d.pushComponent(h.components,!0,void 0)),l=d.extractCommon(h,b,a,c),h.newPos+1>=e&&l+1>=f)return co(0,h.components);i[c]=h}else i[c]=void 0}g++}();if(m)return m}},pushComponent:function(a,b,c){var d=a[a.length-1];d&&d.added===b&&d.removed===c?a[a.length-1]={count:d.count+1,added:b,removed:c}:a.push({count:1,added:b,removed:c})},extractCommon:function(a,b,c,d){for(var e=b.length,f=c.length,g=a.newPos,h=g-d,i=0;g+1<e&&h+1<f&&this.equals(b[g+1],c[h+1]);)g++,h++,i++;return i&&a.components.push({count:i}),a.newPos=g,h},tokenize:function(a){return a.slice()},join:function(a){return a.slice()}};var Bz=new bo,Cz=function(a,b,c){return Bz.diff(a,b,c)};fo.prototype.createElement=Sn,fo.prototype.getDefs=function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?((c=b.insertBefore(this.createElement("defs"),b.firstChild)).contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;d>=0;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]},fo.prototype.update=function(a,b){if(a){var c=this.getDefs(!1);if(a[this._domName]&&c.contains(a[this._domName]))"function"==typeof b&&b(a);else{var d=this.add(a);d&&(a[this._domName]=d)}}},fo.prototype.addDom=function(a){this.getDefs(!0).appendChild(a)},fo.prototype.removeDom=function(a){var b=this.getDefs(!1);b&&a[this._domName]&&(b.removeChild(a[this._domName]),a[this._domName]=null)},fo.prototype.getDoms=function(){var a=this.getDefs(!1);if(!a)return[];var b=[];return m(this._tagNames,function(c){var d=a.getElementsByTagName(c);b=b.concat([].slice.call(d))}),b},fo.prototype.markAllUnused=function(){var a=this;m(this.getDoms(),function(b){b[a._markLabel]="0"})},fo.prototype.markUsed=function(a){a&&(a[this._markLabel]="1")},fo.prototype.removeUnused=function(){var a=this.getDefs(!1);if(a){var b=this;m(this.getDoms(),function(c){"1"!==c[b._markLabel]&&a.removeChild(c)})}},fo.prototype.getSvgProxy=function(a){return a instanceof sd?wz:a instanceof Vb?xz:a instanceof Er?yz:wz},fo.prototype.getTextSvgElement=function(a){return a.__textSvgEl},fo.prototype.getSvgElement=function(a){return a.__svgEl},j(go,fo),go.prototype.addWithoutUpdate=function(a,b){if(b&&b.style){var c=this;m(["fill","stroke"],function(d){if(b.style[d]&&("linear"===b.style[d].type||"radial"===b.style[d].type)){var e,f=b.style[d],g=c.getDefs(!0);f._dom?(e=f._dom,g.contains(f._dom)||c.addDom(e)):e=c.add(f),c.markUsed(b);var h=e.getAttribute("id");a.setAttribute(d,"url(#"+h+")")}})}},go.prototype.add=function(a){var b;if("linear"===a.type)b=this.createElement("linearGradient");else{if("radial"!==a.type)return sp("Illegal gradient type."),null;b=this.createElement("radialGradient")}return a.id=a.id||this.nextId++,b.setAttribute("id","zr"+this._zrId+"-gradient-"+a.id),this.updateDom(a,b),this.addDom(b),b},go.prototype.update=function(a){var b=this;fo.prototype.update.call(this,a,function(){var c=a.type,d=a._dom.tagName;"linear"===c&&"linearGradient"===d||"radial"===c&&"radialGradient"===d?b.updateDom(a,a._dom):(b.removeDom(a),b.add(a))})},go.prototype.updateDom=function(a,b){if("linear"===a.type)b.setAttribute("x1",a.x),b.setAttribute("y1",a.y),b.setAttribute("x2",a.x2),b.setAttribute("y2",a.y2);else{if("radial"!==a.type)return void sp("Illegal gradient type.");b.setAttribute("cx",a.x),b.setAttribute("cy",a.y),b.setAttribute("r",a.r)}a.global?b.setAttribute("gradientUnits","userSpaceOnUse"):b.setAttribute("gradientUnits","objectBoundingBox"),b.innerHTML="";for(var c=a.colorStops,d=0,e=c.length;d<e;++d){var f=this.createElement("stop");f.setAttribute("offset",100*c[d].offset+"%"),f.setAttribute("stop-color",c[d].color),b.appendChild(f)}a._dom=b},go.prototype.markUsed=function(a){if(a.style){var b=a.style.fill;b&&b._dom&&fo.prototype.markUsed.call(this,b._dom),(b=a.style.stroke)&&b._dom&&fo.prototype.markUsed.call(this,b._dom)}},j(ho,fo),ho.prototype.update=function(a){var b=this.getSvgElement(a);b&&this.updateDom(b,a.__clipPaths,!1);var c=this.getTextSvgElement(a);c&&this.updateDom(c,a.__clipPaths,!0),this.markUsed(a)},ho.prototype.updateDom=function(a,b,c){if(b&&b.length>0){var d,e,f=this.getDefs(!0),g=b[0],h=c?"_textDom":"_dom";g[h]?(e=g[h].getAttribute("id"),d=g[h],f.contains(d)||f.appendChild(d)):(e="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(d=this.createElement("clipPath")).setAttribute("id",e),f.appendChild(d),g[h]=d);var i=this.getSvgProxy(g);if(g.transform&&g.parent.invTransform&&!c){var j=Array.prototype.slice.call(g.transform);ha(g.transform,g.parent.invTransform,g.transform),i.brush(g),g.transform=j}else i.brush(g);var k=this.getSvgElement(g);d.innerHTML="",d.appendChild(k.cloneNode()),a.setAttribute("clip-path","url(#"+e+")"),b.length>1&&this.updateDom(d,b.slice(1),c)}else a&&a.setAttribute("clip-path","none")},ho.prototype.markUsed=function(a){var b=this;a.__clipPaths&&a.__clipPaths.length>0&&m(a.__clipPaths,function(a){a._dom&&fo.prototype.markUsed.call(b,a._dom),a._textDom&&fo.prototype.markUsed.call(b,a._textDom)})},j(io,fo),io.prototype.addWithoutUpdate=function(a,b){if(b&&jo(b.style)){var c,d=b.style;d._shadowDom?(c=d._shadowDom,this.getDefs(!0).contains(d._shadowDom)||this.addDom(c)):c=this.add(b),this.markUsed(b);var e=c.getAttribute("id");a.style.filter="url(#"+e+")"}},io.prototype.add=function(a){var b=this.createElement("filter"),c=a.style;return c._shadowDomId=c._shadowDomId||this.nextId++,b.setAttribute("id","zr"+this._zrId+"-shadow-"+c._shadowDomId),this.updateDom(a,b),this.addDom(b),b},io.prototype.update=function(a,b){var c=b.style;if(jo(c)){var d=this;fo.prototype.update.call(this,b,function(a){d.updateDom(b,a._shadowDom)})}else this.remove(a,c)},io.prototype.remove=function(a,b){null!=b._shadowDomId&&(this.removeDom(b),a.style.filter="")},io.prototype.updateDom=function(a,b){var c=b.getElementsByTagName("feDropShadow");c=0===c.length?this.createElement("feDropShadow"):c[0];var d,e,f,g,h=a.style,i=a.scale?a.scale[0]||1:1,j=a.scale?a.scale[1]||1:1;if(h.shadowBlur||h.shadowOffsetX||h.shadowOffsetY)d=h.shadowOffsetX||0,e=h.shadowOffsetY||0,f=h.shadowBlur,g=h.shadowColor;else{if(!h.textShadowBlur)return void this.removeDom(b,h);d=h.textShadowOffsetX||0,e=h.textShadowOffsetY||0,f=h.textShadowBlur,g=h.textShadowColor}c.setAttribute("dx",d/i),c.setAttribute("dy",e/j),c.setAttribute("flood-color",g);var k=f/2/i+" "+f/2/j;c.setAttribute("stdDeviation",k),b.setAttribute("x","-100%"),b.setAttribute("y","-100%"),b.setAttribute("width",Math.ceil(f/2*200)+"%"),b.setAttribute("height",Math.ceil(f/2*200)+"%"),b.appendChild(c),h._shadowDom=b},io.prototype.markUsed=function(a){var b=a.style;b&&b._shadowDom&&fo.prototype.markUsed.call(this,b._shadowDom)};var Dz=function(a,b,c,d){this.root=a,this.storage=b,this._opts=c=f({},c||{});var e=Sn("svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("version","1.1"),e.setAttribute("baseProfile","full"),e.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new go(d,e),this.clipPathManager=new ho(d,e),this.shadowManager=new io(d,e);var g=document.createElement("div");g.style.cssText="overflow:hidden;position:relative",this._svgRoot=e,this._viewport=g,a.appendChild(g),g.appendChild(e),this.resize(c.width,c.height),this._visibleList=[]};Dz.prototype={constructor:Dz,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0);this._paintList(a)},setBackgroundColor:function(a){this._viewport.style.background=a},_paintList:function(a){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var b,c=this._svgRoot,d=this._visibleList,e=a.length,f=[];for(b=0;b<e;b++){var g=lo(n=a[b]),h=ro(n)||qo(n);n.invisible||(n.__dirty&&(g&&g.brush(n),this.clipPathManager.update(n),n.style&&(this.gradientManager.update(n.style.fill),this.gradientManager.update(n.style.stroke),this.shadowManager.update(h,n)),n.__dirty=!1),f.push(n))}var i,j=Cz(d,f);for(b=0;b<j.length;b++)if((l=j[b]).removed)for(m=0;m<l.count;m++){var h=ro(n=d[l.indices[m]]),k=qo(n);po(c,h),po(c,k)}for(b=0;b<j.length;b++){var l=j[b];if(l.added)for(m=0;m<l.count;m++){var h=ro(n=f[l.indices[m]]),k=qo(n);i?no(c,h,i):oo(c,h),h?no(c,k,h):i?no(c,k,i):oo(c,k),no(c,k,h),i=k||h||i,this.gradientManager.addWithoutUpdate(h,n),this.shadowManager.addWithoutUpdate(i,n),this.clipPathManager.markUsed(n)}else if(!l.removed)for(var m=0;m<l.count;m++){var n=f[l.indices[m]];i=h=qo(n)||ro(n)||i,this.gradientManager.markUsed(n),this.gradientManager.addWithoutUpdate(h,n),this.shadowManager.markUsed(n),this.shadowManager.addWithoutUpdate(h,n),this.clipPathManager.markUsed(n)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=f},_getDefs:function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?((c=b.insertBefore(Sn("defs"),b.firstChild)).contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;d>=0;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]},resize:function(a,b){var c=this._viewport;c.style.display="none";var d=this._opts;if(null!=a&&(d.width=a),null!=b&&(d.height=b),a=this._getSize(0),b=this._getSize(1),c.style.display="",this._width!==a||this._height!==b){this._width=a,this._height=b;var e=c.style;e.width=a+"px",e.height=b+"px";var f=this._svgRoot;f.setAttribute("width",a),f.setAttribute("height",b)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a],f=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);var g=this.root,h=document.defaultView.getComputedStyle(g);return(g[d]||ko(h[c])||ko(g.style[c]))-(ko(h[e])||0)-(ko(h[f])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},m(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(a){Dz.prototype[a]=so(a)}),qc("svg",Dz),a.version="4.1.0",a.dependencies=Pt,a.PRIORITY=Tt,a.init=function(a,b,c){var d=Xg(a);if(d)return d;var e=new Cg(a,b,c);return e.id="ec_"+iu++,gu[e.id]=e,Ec(a,ku,e.id),Vg(e),e},a.connect=function(a){if(s(a)){var b=a;a=null,Lt(b,function(b){null!=b.group&&(a=b.group)}),a=a||"g_"+ju++,Lt(b,function(b){b.group=a})}return hu[a]=!0,a},a.disConnect=Wg,a.disconnect=mu,a.dispose=function(a){"string"==typeof a?a=gu[a]:a instanceof Cg||(a=Xg(a)),a instanceof Cg&&!a.isDisposed()&&a.dispose()},a.getInstanceByDom=Xg,a.getInstanceById=function(a){return gu[a]},a.registerTheme=Yg,a.registerPreprocessor=Zg,a.registerProcessor=$g,a.registerPostUpdate=function(a){cu.push(a)},a.registerAction=_g,a.registerCoordinateSystem=function(a,b){rf.register(a,b)},a.getCoordinateSystemDimensions=function(a){var b=rf.get(a);if(b)return b.getDimensionsInfo?b.getDimensionsInfo():b.dimensions.slice()},a.registerLayout=ah,a.registerVisual=bh,a.registerLoading=dh,a.extendComponentModel=eh,a.extendComponentView=fh,a.extendSeriesModel=gh,a.extendChartView=hh,a.setCanvasCreator=function(a){b("createCanvas",a)},a.registerMap=function(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson),"string"==typeof b&&(b="undefined"!=typeof JSON&&JSON.parse?JSON.parse(b):new Function("return ("+b+");")()),lu[a]={geoJson:b,specialAreas:c}},a.getMap=function(a){return lu[a]},a.dataTool=nu,a.zrender=oq,a.graphic=as,a.number=ks,a.format=ss,a.throttle=ig,a.helper=fv,a.matrix=Xo,a.vector=Qo,a.color=mp,a.parseGeoJSON=hv,a.parseGeoJson=lv,a.util=mv,a.List=wu,a.Model=ne,a.Axis=kv,a.env=wo}),function(a){function b(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function c(a){for(var b,c=a.length,d=-1,e="";++d<c;)b=a[d],b>65535&&(b-=65536,e+=q(b>>>10&1023|55296),b=56320|1023&b),e+=q(b);return e}function d(a){if(a>=55296&&a<=57343)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value")}function e(a,b){return q(a>>b&63|128)}function f(a){if(0==(4294967168&a))return q(a);var b="";return 0==(4294965248&a)?b=q(a>>6&31|192):0==(4294901760&a)?(d(a),b=q(a>>12&15|224),b+=e(a,6)):0==(4292870144&a)&&(b=q(a>>18&7|240),b+=e(a,12),b+=e(a,6)),b+=q(63&a|128)}function g(a){for(var c,d=b(a),e=d.length,g=-1,h="";++g<e;)c=d[g],h+=f(c);return h}function h(){if(p>=o)throw Error("Invalid byte index");var a=255&n[p];if(p++,128==(192&a))return 63&a;throw Error("Invalid continuation byte")}function i(){var a,b,c,e,f;if(p>o)throw Error("Invalid byte index");if(p==o)return!1;if(a=255&n[p],p++,0==(128&a))return a;if(192==(224&a)){if(b=h(),(f=(31&a)<<6|b)>=128)return f;throw Error("Invalid continuation byte")}if(224==(240&a)){if(b=h(),c=h(),(f=(15&a)<<12|b<<6|c)>=2048)return d(f),f;throw Error("Invalid continuation byte")}if(240==(248&a)&&(b=h(),c=h(),e=h(),(f=(7&a)<<18|b<<12|c<<6|e)>=65536&&f<=1114111))return f;throw Error("Invalid UTF-8 detected")}function j(a){n=b(a),o=n.length,p=0;for(var d,e=[];!1!==(d=i());)e.push(d);return c(e)}var k="object"==typeof exports&&exports,l="object"==typeof module&&module&&module.exports==k&&module,m="object"==typeof global&&global;m.global!==m&&m.window!==m||(a=m);var n,o,p,q=String.fromCharCode,r={version:"2.1.2",encode:g,decode:j};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return r});else if(k&&!k.nodeType)if(l)l.exports=r;else{var s={},t=s.hasOwnProperty;for(var u in r)t.call(r,u)&&(k[u]=r[u])}else a.utf8=r}(this),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){if(a.support.cors||!a.ajaxTransport||!window.XDomainRequest)return a;var b=/^(https?:)?\/\//i,c=/^get|post$/i,d=new RegExp("^(//|"+location.protocol+")","i");return a.ajaxTransport("* text html xml json",function(e,f,g){if(e.crossDomain&&e.async&&c.test(e.type)&&b.test(e.url)&&d.test(e.url)){var h=null;return{send:function(b,c){var d="",g=(f.dataType||"").toLowerCase();h=new XDomainRequest,/^\d+$/.test(f.timeout)&&(h.timeout=f.timeout),h.ontimeout=function(){c(500,"timeout")},h.onload=function(){var b="Content-Length: "+h.responseText.length+"\r\nContent-Type: "+h.contentType,d={code:200,message:"success"},e={text:h.responseText};try{if("html"===g||/text\/html/i.test(h.contentType))e.html=h.responseText;else if("json"===g||"text"!==g&&/\/json/i.test(h.contentType))try{e.json=a.parseJSON(h.responseText)}catch(a){d.code=500,d.message="parseerror"}else if("xml"===g||"text"!==g&&/\/xml/i.test(h.contentType)){var f=new ActiveXObject("Microsoft.XMLDOM");f.async=!1;try{f.loadXML(h.responseText)}catch(a){f=void 0}if(!f||!f.documentElement||f.getElementsByTagName("parsererror").length)throw d.code=500,d.message="parseerror","Invalid XML: "+h.responseText;e.xml=f}}catch(a){throw a}finally{c(d.code,d.message,e,b)}},h.onprogress=function(){},h.onerror=function(){c(500,"error",{text:h.responseText})},f.data&&(d="string"===a.type(f.data)?f.data:a.param(f.data)),h.open(e.type,encodeURI(f.url)),h.send(d)},abort:function(){h&&h.abort()}}}}),a}),void 0===ohnet||!ohnet)var ohnet={};if(void 0!==ohnet.util&&ohnet.util||(ohnet.util={}),ohnet.util.generateGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:3&b|8).toString(16)})},ohnet.util.getElementsByTagNameNS=function(a,b){if(a.getElementsByTagNameNS)return a.getElementsByTagNameNS("*",b);b=b.toLowerCase();var c,d=new RegExp(":"+b+"$","gi"),e=function(a,f){if(c=a.nodeName.toLowerCase(),(d.test(c)||c==b)&&f.push(a),a.childNodes.length>0)for(var g=0;g<a.childNodes.length;g++)e(a.childNodes[g],f)},f=[];return e(a,f),f},ohnet.util.getElementText=function(a){if(null==a)return"";var b=a.textContent?a.textContent:a.text;return void 0==b?"":b},ohnet.util.getElementNodeName=function(a){return null==a?"":a.tagName?a.tagName:a.nodeName},ohnet.util.parseIdArrays=function(a){if(null==a||0==a.length)return[];for(var b=ohnet.util.stringToBytes(a),c=b.length/4,d=[],e=0;e<c;e++)d.push(ohnet.util.swapEndian32(b.slice(4*e,4*(e+1))));return d},ohnet.util.swapEndian32=function(a){for(var b,c=0,d=1,e=a.length-1;e>=0;e--)b=255&a[e],c+=b*d,d*=256;return c},ohnet.util.stringToBytes=function(a){for(var b,c,d=[],e=0;e<a.length;e++){b=a.charCodeAt(e),c=[];do{c.push(255&b),b>>=8}while(b);d=d.concat(c.reverse())}return d},ohnet.util.mergeOptions=function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},void 0===ohnet||!ohnet)var ohnet={};if(ohnet.base64_decode=function(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;a+="";do{e=j.indexOf(a.charAt(k++)),f=j.indexOf(a.charAt(k++)),g=j.indexOf(a.charAt(k++)),h=j.indexOf(a.charAt(k++)),i=e<<18|f<<12|g<<6|h,b=i>>16&255,c=i>>8&255,d=255&i,n[l++]=64==g?String.fromCharCode(b):64==h?String.fromCharCode(b,c):String.fromCharCode(b,c,d)}while(k<a.length);return m=n.join(""),m=ohnet.utf8_decode(m)},ohnet.utf8_decode=function(a){var b=[],c=0,d=0,e=0,f=0,g=0;for(a+="";c<a.length;)e=a.charCodeAt(c),e<128?(b[d++]=String.fromCharCode(e),c++):e>191&&e<224?(f=a.charCodeAt(c+1),b[d++]=String.fromCharCode((31&e)<<6|63&f),c+=2):(f=a.charCodeAt(c+1),g=a.charCodeAt(c+2),b[d++]=String.fromCharCode((15&e)<<12|(63&f)<<6|63&g),c+=3);return b.join("")},ohnet.base64_encode=function(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;a=ohnet.utf8_encode(a+"");do{b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,n[l++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h)}while(k<a.length);m=n.join("");var o=a.length%3;return(o?m.slice(0,o-3):m)+"===".slice(o||3)},ohnet.utf8_encode=function(a){if(null===a||void 0===a)return"";var b,c,d=a+"",e="",f=0;b=c=0,f=d.length;for(var g=0;g<f;g++){var h=d.charCodeAt(g),i=null;h<128?c++:i=h>127&&h<2048?String.fromCharCode(h>>6|192)+String.fromCharCode(63&h|128):String.fromCharCode(h>>12|224)+String.fromCharCode(h>>6&63|128)+String.fromCharCode(63&h|128),null!==i&&(c>b&&(e+=d.slice(b,c)),e+=i,b=c=g+1)}return c>b&&(e+=d.slice(b,f)),e},void 0===ohnet||!ohnet)var ohnet={};if(ohnet.subscriptionmanager=function(){var a,b,c,d,e,f,g=1800,h=.7,i=!1,j=-1,k="",l=!1,m={},n=[],o={},p={},q=!1,r="",s="",t=function(a,b){var c=m[a];if(c){var d=1e3*b*h,e=setTimeout(function(){x(a)},d);c.SubscriptionTimer=e,i&&console.log("setSubscriptionTimeout/actualSubscriptionTimeoutMs:"+d)}},u=function(a,b,c){var d=m[a];if(d){var e=d.serviceProperties[b];e&&e.setValue(c)}},v=function(a,b,c,d){for(var e=0;e<n.length;e++){var f=n[e];if(f.udn==b&&f.serviceName==c){m[a]=f,m[a].subscriptionId=a,n.splice(e,1);var c=m[a];c.serviceAddedFunction&&(c.serviceAddedFunction(),c.serviceAddedFunction=null),o[a]&&(z(o[a]),delete o[a])}}y(a,d)},w=function(a,b,c){var d=m[a];if(d){var e=d.serviceProperties[b];e&&e.reportChanged(c)}},x=function(a){var b=m[a];b&&b.SubscriptionTimer&&(l?e.renew(a):f.renew(a))},y=function(a,b){i&&console.log("receiveRenewCompleted - subscriptionId:"+a+" timeout:"+b),t(a,b)},z=function(a){for(var b=ohnet.util.getElementsByTagNameNS(a,"SUBSCRIPTION"),c=0;c<b.length;c++){var d=ohnet.util.getElementText(ohnet.util.getElementsByTagNameNS(b[c],"SID")[0]);if(!m[d])return void(o[d]=a);var e=ohnet.util.getElementsByTagNameNS(b[c],"property");if(e){for(var f,g,h=0;h<e.length;h++){var j=e[h].childNodes[0];f=ohnet.util.getElementText(j),g=ohnet.util.getElementNodeName(j),j&&(u(d,g,f),i&&console.log("receivePropertyUpdate - subscriptionId: "+d+" name: "+g+" value: "+f))}for(var k=0;k<e.length;k++){var j=e[k].childNodes[0];f=ohnet.util.getElementText(j),g=ohnet.util.getElementNodeName(j),j&&w(d,g,f)}}}},A=function(){console.log("onLongPollClose"),D(),c&&c()},B=function(e,f,h){var l={startedFunction:null,port:54321,debugMode:!1,subscriptionTimeoutSeconds:g,errorFunction:null,disconnectedFunction:null,allowWebSockets:!0,retryInterval:3e3};p=ohnet.util.mergeOptions(l,e),k=ohnet.util.generateGUID(),a=p.startedFunction,b=p.errorFunction,c=p.disconnectedFunction,i=p.debugMode,d=p.port,RetryInterval=p.retryInterval,j=p.subscriptionTimeoutSeconds,r=h,s=f,i&&console.log("*** ohnet.SubscriptionManager ***"),p.port&&""!=p.port?C():(i&&console.log("start/port: NULL"),p.errorFunction&&p.errorFunction("Connection failed."))},C=function(){i&&console.log("start/startLongPolling"),f=new ohnet.longpolling(k,r,{debug:i,subscriptionTimeoutSeconds:g,onReceivePropertyUpdate:z,onReceiveSubscribeCompleted:v,onReceiveRenewCompleted:y,onReceiveError:A},s),q||(m={},n=[],o={},q=!0,a&&a())},D=function(){for(var a in m)m.hasOwnProperty(a)&&G(a);q=!1,l&&e.close()},E=function(){var a=0;for(var b in m)console.log("had service is %o",b),m.hasOwnProperty(b)&&a++;return a},F=function(a,b){q?(n.push(a),b&&(a.serviceAddedFunction=b),l?e.subscribe(a):f.subscribe(a,0==E())):(i&&console.log("addService/running: false"),console.log("Subscription Manager is not running.  Please ensure 'ohnet.subscriptionmanager.start();' has been called prior to subscribing."))},G=function(a){var b=m[a];b&&(delete m[a],l?e.unsubscribe(a):f.unsubscribe(a,0==E()),b.SubscriptionTimer&&clearTimeout(b.SubscriptionTimer))},H=function(){for(var a in m)G(a)},I=function(){if(f)for(var a in m)G(a);f=new ohnet.longpolling(k,r,{debug:i,subscriptionTimeoutSeconds:g,onReceivePropertyUpdate:z,onReceiveSubscribeCompleted:v,onReceiveRenewCompleted:y,onReceiveError:A},s)},J=function(a,b){for(var c in m)f.renew(c,a,b)},K=function(){return r},L=function(){return s};return{isRunning:function(){return q&&f.isStarted()},start:B,stop:D,restart:I,addService:F,removeService:G,clearService:H,getHost:L,getLastReviceDate:function(){return f&&f.getLastReviceDate()},getUdn:K,renew:J,hasSubscribe:function(){return f&&f.hasSubscribe()}}}(),void 0===ohnet||!ohnet)var ohnet={};if(ohnet.serviceproperty=function(a,b){this.name=a,this.type=b,this.value=null,this.listeners=[]},ohnet.serviceproperty.prototype.setValue=function(a){if(this.value!=a)switch(this.type){case"int":this.value=ohnet.soaprequest.readIntParameter(a);break;case"string":this.value=ohnet.soaprequest.readStringParameter(a);break;case"bool":this.value=ohnet.soaprequest.readBoolParameter(a);break;case"binary":this.value=ohnet.soaprequest.readBinaryParameter(a);break;default:throw"Invalid Property Type: '"+this.type+"'"}},ohnet.serviceproperty.prototype.reportChanged=function(a){for(var b=this.listeners.length-1;b>-1;b--)this.listeners[b].call(this,a)},ohnet.serviceproperty.prototype.addListener=function(a){this.listeners[this.listeners.length]=a},void 0===ohnet||!ohnet)var ohnet={};if(ohnet.soaprequest=function(a,b,c,d,e){this.action=a,this.url=b,this.type=d,this.version=e,this.domain=c,this.envelope="",this.writeEnvelopeStart(a)},ohnet.soaprequest.prototype.writeEnvelopeStart=function(){this.envelope+='<?xml version="1.0"?><s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body s:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/"><u:',this.envelope+=this.action,this.envelope+=' xmlns:u="urn:',this.envelope+=this.domain,this.envelope+=":service:",this.envelope+=this.type,this.envelope+=":",this.envelope+=this.version,this.envelope+='">'},ohnet.soaprequest.prototype.writeEnvelopeEnd=function(){this.envelope+="</u:",this.envelope+=this.action,this.envelope+="></s:Body></s:Envelope>"},ohnet.soaprequest.prototype.getSoapAction=function(a){var b="urn:";return b+=this.domain,b+=":service:",b+=this.type,b+=":",b+=this.version,b+=a?"@":"#",b+=this.action},ohnet.soaprequest.prototype.send=function(a,b){var c=this;return this.writeEnvelopeEnd(),this.createAjaxRequest(function(d){var e=null,f=d.responseText.indexOf("<"),g=d.responseText.lastIndexOf(">");e=d.responseText.substring(f,g+1);var h=$.parseXML(e);if(h.getElementsByTagName("faultcode").length>0)b(c.getTransportErrorMessage(d),d);else{for(var i=ohnet.util.getElementsByTagNameNS(h,c.action+"Response")[0].childNodes,j={},k=0,l=i.length;k<l;k++){var m="",n=i[k].childNodes;n.length>0&&(m=n[0].nodeValue),j[i[k].nodeName]=""!=m?m:null}a(j)}},function(a){b?b(c.getTransportErrorMessage(a),a):defaultErrorFunction(XMLHttpRequest,errorType,errorThrown)})},ohnet.soaprequest.prototype.createAjaxRequest=function(a,b){var c=this.url;!$.support.cors&&$.ajaxTransport&&window.XDomainRequest&&(c+="?SOAPAction="+this.getSoapAction(!0)),$.ajax({url:c,type:"POST",crossDomain:!0,dataType:"text",headers:{SOAPAction:this.getSoapAction()},error:function(a,c,d){b(a,c,d)},success:function(b,c,d){a(d)},processData:!1,data:this.envelope})},ohnet.soaprequest.prototype.defaultErrorFunction=function(a,b,c){console.log("defaultErrorFunction/XMLHttpRequest: "+a),console.log("defaultErrorFunction/textStatus: "+b),console.log("defaultErrorFunction/errorThrown: "+c)},ohnet.soaprequest.prototype.getTransportErrorMessage=function(a){var b="Error:";try{b+="\nstatus: "+a.statusText}catch(a){}return a&&a.responseXML&&(a.responseXML.getElementsByTagName("faultcode").length&&(b+="\nfaultcode: "+a.responseXML.getElementsByTagName("faultcode")[0].childNodes[0].nodeValue),a.responseXML.getElementsByTagName("faultstring").length&&(b+="\nfaultstring: "+a.responseXML.getElementsByTagName("faultstring")[0].childNodes[0].nodeValue),a.responseXML.getElementsByTagName("errorCode").length&&(b+="\nerrorCode: "+a.responseXML.getElementsByTagName("errorCode")[0].childNodes[0].nodeValue),a.responseXML.getElementsByTagName("errorDescription").length&&(b+="\nerrorDescription: "+a.responseXML.getElementsByTagName("errorDescription")[0].childNodes[0].nodeValue)),b},ohnet.soaprequest.readIntParameter=function(a){return 1*a},ohnet.soaprequest.readBoolParameter=function(a){return"1"==a||"true"==a||"yes"==a},ohnet.soaprequest.readStringParameter=function(a){return a},ohnet.soaprequest.readBinaryParameter=function(a){return atob?atob(a):ohnet.base64_decode(a)},ohnet.soaprequest.prototype.writeIntParameter=function(a,b){this.writeParameter(a,""+(b||"0"))},ohnet.soaprequest.prototype.writeBoolParameter=function(a,b){this.writeParameter(a,b?"1":"0")},ohnet.soaprequest.prototype.writeStringParameter=function(a,b){this.writeParameter(a,b||"")},ohnet.soaprequest.prototype.writeBinaryParameter=function(a,b){this.writeParameter(a,b?btoa?btoa(b):ohnet.base64_encode(b):"")},ohnet.soaprequest.prototype.writeParameter=function(a,b){this.envelope+="<"+a+">"+b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+a+">"},void 0===ohnet||!ohnet)var ohnet={};var WebSocket=window.WebSocket||null;if(ohnet.websocket=function(a,b,c){if(null!=WebSocket){var d=this;this.clientId=a,this.socket=new WebSocket(b,"upnpevent.openhome.org");var e={debug:!1,subscriptionTimeoutSeconds:1800,onSocketError:null,onSocketClose:null,onSocketOpen:null,onReceivePropertyUpdate:null,onReceiveSubscribeCompleted:null,onReceiveRenewCompleted:null};c=ohnet.util.mergeOptions(e,c),this.debug=c.debug,this.subscriptionTimeoutSeconds=c.subscriptionTimeoutSeconds,this.socket.onerror=c.onSocketError,this.socket.onclose=c.onSocketClose,this.socket.onopen=c.onSocketOpen,this.socket.onmessage=function(){d.debug&&console.log("<< "+event.data),d.receiveMessage(event.data)},this.onReceivePropertyUpdate=c.onReceivePropertyUpdate,this.onReceiveSubscribeCompleted=c.onReceiveSubscribeCompleted,this.onReceiveRenewCompleted=c.onReceiveRenewCompleted}},ohnet.websocket.prototype.subscribe=function(a){this.sendMessage(this.subscribeMessage(a))},ohnet.websocket.prototype.unsubscribe=function(a){this.sendMessage(this.unsubscribeMessage(a))},ohnet.websocket.prototype.renew=function(a){this.sendMessage(this.renewMessage(a))},ohnet.websocket.prototype.close=function(){this.socket.close()},ohnet.websocket.prototype.sendMessage=function(a){this.debug&&console.log(">> "+a),this.socket.send(a)},ohnet.websocket.prototype.receiveMessage=function(a){if(window.DOMParser){parser=new DOMParser,xmlDoc=parser.parseFromString(a,"text/xml");var b=xmlDoc.getElementsByTagNameNS("*","METHOD"),c=b[0].textContent,d=xmlDoc.getElementsByTagNameNS("*","SID"),e=d[0].textContent;if("PropertyUpdate"==c)this.onReceivePropertyUpdate(xmlDoc);else if("SubscribeCompleted"==c){var f=xmlDoc.getElementsByTagNameNS("*","UDN"),g=f[0].textContent,h=xmlDoc.getElementsByTagNameNS("*","SERVICE"),i=h[0].textContent,j=xmlDoc.getElementsByTagNameNS("*","TIMEOUT"),k=j[0].textContent;this.onReceiveSubscribeCompleted(e,g,i,k)}else"RenewCompleted"==c&&this.onReceiveRenewCompleted(e,xmlDoc)}else console.log("ohnet.SubscriptionManager: Cannot parse subscription message as browser does not support it.")},ohnet.websocket.prototype.subscribeMessage=function(a){var b="<?xml verison='1.0' ?>";return b+="<ROOT>",b+="<METHOD>Subscribe</METHOD>",b+="<CLIENTID>"+this.clientId+"</CLIENTID>",b+="<UDN>"+a.udn+"</UDN>",b+="<SERVICE>"+a.serviceName+"</SERVICE>",b+="<NT>upnp:event</NT>",b+="<TIMEOUT>"+this.subscriptionTimeoutSeconds+"</TIMEOUT>",b+="</ROOT>"},ohnet.websocket.prototype.unsubscribeMessage=function(a){var b="<?xml verison='1.0' ?>";return b+="<ROOT>",b+="<METHOD>Unsubscribe</METHOD>",b+="<SID>"+a+"</SID>",b+="<CLIENTID>"+this.clientId+"</SID>",b+="</ROOT>"},ohnet.websocket.prototype.renewMessage=function(a){var b="<?xml verison='1.0' ?>";return b+="<ROOT>",b+="<METHOD>Renew</METHOD>",b+="<SID>"+a+"</SID>",b+="<TIMEOUT>"+this.subscriptionTimeoutSeconds+"</TIMEOUT>",b+="</ROOT>"},ohnet.websocket.prototype.getPropertyUpdatesMessage=function(){var a="<?xml verison='1.0' ?>";return a+="<ROOT>",a+="<CLIENTID>"+this.clientId+"</CLIENTID>",a+="</ROOT>"},void 0===ohnet||!ohnet)var ohnet={};ohnet.longpolling=function(a,b,c,d){this.clientId=a,this.proxy=new CpProxyOpenhomeOrgSubscriptionLongPoll1(b,d),this.pollingStarted=!1;var e={debug:!1,subscriptionTimeoutSeconds:10,onReceivePropertyUpdate:null,onReceiveSubscribeCompleted:null,onReceiveRenewCompleted:null,onReceiveError:null,onReceiveSuccess:null};c=ohnet.util.mergeOptions(e,c),this.debug=c.debug,this.subscriptionTimeoutSeconds=c.subscriptionTimeoutSeconds,this.onReceivePropertyUpdate=c.onReceivePropertyUpdate,this.onReceiveSubscribeCompleted=c.onReceiveSubscribeCompleted,this.onReceiveRenewCompleted=c.onReceiveRenewCompleted,this.onReceiveError=c.onReceiveError,this.onReceiveSuccess=c.onReceiveSuccess,this.lastReciveDate=-1,this.isSubscribe=!1},ohnet.longpolling.prototype.subscribe=function(a,b){var c=this;this.pollingStarted=!1,this.debug&&console.log(">> Subscribe : No Services: "+b);var d=a;this.proxy.Subscribe(this.clientId,a.udn,a.serviceName,this.subscriptionTimeoutSeconds,function(a){c.isSubscribe=!0,c.onReceiveSubscribeCompleted(a.Sid,d.udn,d.serviceName,a.Duration),b&&!c.pollingStarted&&(c.pollingStarted=!0,c.propertyUpdate(),c.debug&&console.log(">> First Subscription - start polling"))},function(){c.onReceiveError&&(c.onReceiveError(),c.isSubscribe=!0)})},ohnet.longpolling.prototype.getLastReviceDate=function(){return this.lastReciveDate},ohnet.longpolling.prototype.hasSubscribe=function(){return this.isSubscribe},ohnet.longpolling.prototype.unsubscribe=function(a,b){this.debug&&console.log(">> Unsubscribe: "+a),this.proxy.Unsubscribe(a),this.isSubscribe=!1,b&&this.pollingStarted&&(this.pollingStarted=!1)},ohnet.longpolling.prototype.renew=function(a,b,c){var d=this;this.debug&&console.log(">> Renew"),this.proxy.Renew(a,this.subscriptionTimeoutSeconds,function(c){d.onReceiveRenewCompleted(a,c.Duration),"function"==typeof b&&b()},function(){d.onReceiveError&&d.onReceiveError(),"function"==typeof c&&c()})},ohnet.longpolling.prototype.propertyUpdate=function(){var a=this;this.debug&&console.log(">> Property Update"),this.pollingStarted&&(this.debug&&console.log(">> GetPropertyUpdates"),this.proxy.GetPropertyUpdates(this.clientId,function(b){a.lastReciveDate=new Date,a.debug&&console.log("<< GetPropertyUpdates"),a.onReceiveSuccess&&a.onReceiveSuccess(),null!=b.Updates&&a.onReceivePropertyUpdate($.parseXML(b.Updates)),a.pollingStarted&&setTimeout(function(){a.propertyUpdate()},10)},function(){console.log("Long poll failed, retrying..."),a.debug&&console.log("Long poll failed, retrying..."),a.onReceiveError&&a.onReceiveError(),a.pollingStarted&&setTimeout(function(){a.propertyUpdate()},10)}))},ohnet.longpolling.prototype.isStarted=function(){return!this.isSubscribe||this.pollingStarted};var CpProxyOpenhomeOrgSubscriptionLongPoll1=function(a,b){this.url=window.location.protocol+"//"+b+"/"+a+"/openhome.org-SubscriptionLongPoll-1/control",this.domain="openhome-org",this.type="SubscriptionLongPoll",this.version="1",this.serviceName="openhome.org-SubscriptionLongPoll-1",this.subscriptionId="",this.udn=a,this.serviceProperties={}};CpProxyOpenhomeOrgSubscriptionLongPoll1.prototype.subscribe=function(a){ohnet.subscriptionmanager.addService(this,a)},CpProxyOpenhomeOrgSubscriptionLongPoll1.prototype.unsubscribe=function(){ohnet.subscriptionmanager.removeService(this.subscriptionId)},CpProxyOpenhomeOrgSubscriptionLongPoll1.prototype.Subscribe=function(a,b,c,d,e,f){var g=new ohnet.soaprequest("Subscribe",this.url,this.domain,this.type,this.version);g.writeStringParameter("ClientId",a),g.writeStringParameter("Udn",b),g.writeStringParameter("Service",c),g.writeIntParameter("RequestedDuration",d),g.send(function(a){a.Sid=ohnet.soaprequest.readStringParameter(a.Sid),a.Duration=ohnet.soaprequest.readIntParameter(a.Duration),e&&e(a)},function(a,b){f&&f(a,b)})},CpProxyOpenhomeOrgSubscriptionLongPoll1.prototype.Unsubscribe=function(a,b,c){var d=new ohnet.soaprequest("Unsubscribe",this.url,this.domain,this.type,this.version);d.writeStringParameter("Sid",a),d.send(function(a){b&&b(a)},function(a,b){c&&c(a,b)})},CpProxyOpenhomeOrgSubscriptionLongPoll1.prototype.Renew=function(a,b,c,d){var e=new ohnet.soaprequest("Renew",this.url,this.domain,this.type,this.version);e.writeStringParameter("Sid",a),e.writeIntParameter("RequestedDuration",b),e.send(function(a){a.Duration=ohnet.soaprequest.readIntParameter(a.Duration),c&&c(a)},function(a,b){d&&d(a,b)})},CpProxyOpenhomeOrgSubscriptionLongPoll1.prototype.GetPropertyUpdates=function(a,b,c){var d=new ohnet.soaprequest("GetPropertyUpdates",this.url,this.domain,this.type,this.version);d.writeStringParameter("ClientId",a),d.send(function(a){a.Updates=ohnet.soaprequest.readStringParameter(a.Updates),b&&b(a)},function(a,b){c&&c(a,b)})};var CpProxyAvOpenhomeOrgWebDeviceConfig1=function(a,b){this.url=window.location.protocol+"//"+b+"/"+a+"/av.openhome.org-WebDeviceConfig-1/control",this.domain="av-openhome-org",this.type="WebDeviceConfig",this.version="1",this.serviceName="av.openhome.org-WebDeviceConfig-1",this.subscriptionId="",this.udn=a,this.serviceProperties={},this.serviceProperties.DeviceConfig=new ohnet.serviceproperty("DeviceConfig","string")};CpProxyAvOpenhomeOrgWebDeviceConfig1.prototype.subscribe=function(a){ohnet.subscriptionmanager.addService(this,a)},CpProxyAvOpenhomeOrgWebDeviceConfig1.prototype.unsubscribe=function(){ohnet.subscriptionmanager.removeService(this.subscriptionId)},CpProxyAvOpenhomeOrgWebDeviceConfig1.prototype.DeviceConfig_Changed=function(a){this.serviceProperties.DeviceConfig.addListener(function(b){a(ohnet.soaprequest.readStringParameter(b))})},CpProxyAvOpenhomeOrgWebDeviceConfig1.prototype.GetDeviceConfig=function(a,b){new ohnet.soaprequest("GetDeviceConfig",this.url,this.domain,this.type,this.version).send(function(b){b.DeviceConfig=ohnet.soaprequest.readStringParameter(b.DeviceConfig),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgWebDeviceConfig1.prototype.SetDeviceConfig=function(a,b,c){var d=new ohnet.soaprequest("SetDeviceConfig",this.url,this.domain,this.type,this.version);d.writeStringParameter("DeviceConfig",a),d.send(function(a){b&&b(a)},function(a,b){c&&c(a,b)})},CpProxyAvOpenhomeOrgWebDeviceConfig1.prototype.GetWiFiList=function(a,b){new ohnet.soaprequest("GetWiFiList",this.url,this.domain,this.type,this.version).send(function(b){b.WiFiList=ohnet.soaprequest.readStringParameter(b.WiFiList),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgWebDeviceConfig1.prototype.SetTimeZone=function(a,b,c,d,e){var f=new ohnet.soaprequest("SetTimeZone",this.url,this.domain,this.type,this.version);f.writeStringParameter("TimeZone",a),f.writeStringParameter("CurrentTime",b),f.writeStringParameter("TimeStamp",c),f.send(function(a){d&&d(a)},function(a,b){e&&e(a,b)})};var CpProxyAvOpenhomeOrgWebRendererConfig1=function(a,b){this.url=window.location.protocol+"//"+b+"/"+a+"/av.openhome.org-WebRendererConfig-1/control",this.domain="av-openhome-org",this.type="WebRendererConfig",this.version="1",this.serviceName="av.openhome.org-WebRendererConfig-1",this.subscriptionId="",this.udn=a,this.serviceProperties={},this.serviceProperties.RendererConfig=new ohnet.serviceproperty("RendererConfig","string")};CpProxyAvOpenhomeOrgWebRendererConfig1.prototype.subscribe=function(a){ohnet.subscriptionmanager.addService(this,a)},CpProxyAvOpenhomeOrgWebRendererConfig1.prototype.unsubscribe=function(){ohnet.subscriptionmanager.removeService(this.subscriptionId)},CpProxyAvOpenhomeOrgWebRendererConfig1.prototype.RendererConfig_Changed=function(a){this.serviceProperties.RendererConfig.addListener(function(b){a(ohnet.soaprequest.readStringParameter(b))})},CpProxyAvOpenhomeOrgWebRendererConfig1.prototype.GetRendererConfig=function(a,b){new ohnet.soaprequest("GetRendererConfig",this.url,this.domain,this.type,this.version).send(function(b){b.RendererConfig=ohnet.soaprequest.readStringParameter(b.RendererConfig),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgWebRendererConfig1.prototype.SetRendererConfig=function(a,b,c){var d=new ohnet.soaprequest("SetRendererConfig",this.url,this.domain,this.type,this.version);d.writeStringParameter("RendererConfig",a),d.send(function(a){b&&b(a)},function(a,b){c&&c(a,b)})};var CpProxyAvOpenhomeOrgServerConfig1=function(a,b){this.url=window.location.protocol+"//"+b+"/"+a+"/av.openhome.org-ServerConfig-1/control",this.domain="av-openhome-org",this.type="ServerConfig",this.version="1",this.serviceName="av.openhome.org-ServerConfig-1",this.subscriptionId="",this.udn=a,this.serviceProperties={},this.serviceProperties.Alive=new ohnet.serviceproperty("Alive","bool"),this.serviceProperties.SubscriptValue=new ohnet.serviceproperty("SubscriptValue","string")};CpProxyAvOpenhomeOrgServerConfig1.prototype.subscribe=function(a){ohnet.subscriptionmanager.addService(this,a)},CpProxyAvOpenhomeOrgServerConfig1.prototype.unsubscribe=function(){ohnet.subscriptionmanager.removeService(this.subscriptionId)},CpProxyAvOpenhomeOrgServerConfig1.prototype.Alive_Changed=function(a){this.serviceProperties.Alive.addListener(function(b){a(ohnet.soaprequest.readBoolParameter(b))})},CpProxyAvOpenhomeOrgServerConfig1.prototype.SubscriptValue_Changed=function(a){this.serviceProperties.SubscriptValue.addListener(function(b){a(ohnet.soaprequest.readStringParameter(b))})},CpProxyAvOpenhomeOrgServerConfig1.prototype.SetServerName=function(a,b,c){var d=new ohnet.soaprequest("SetServerName",this.url,this.domain,this.type,this.version);d.writeStringParameter("ServerName",a),d.send(function(a){b&&b(a)},function(a,b){c&&c(a,b)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetServerVersion=function(a,b){new ohnet.soaprequest("GetServerVersion",this.url,this.domain,this.type,this.version).send(function(b){b.ServerVersion=ohnet.soaprequest.readStringParameter(b.ServerVersion),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetProgressInfo=function(a,b){new ohnet.soaprequest("GetProgressInfo",this.url,this.domain,this.type,this.version).send(function(b){b.Progress=ohnet.soaprequest.readStringParameter(b.Progress),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetScanVersion=function(a,b){new ohnet.soaprequest("GetScanVersion",this.url,this.domain,this.type,this.version).send(function(b){b.ScanVersion=ohnet.soaprequest.readStringParameter(b.ScanVersion),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetWorkMode=function(a,b){new ohnet.soaprequest("GetWorkMode",this.url,this.domain,this.type,this.version).send(function(b){b.WorkMode=ohnet.soaprequest.readStringParameter(b.WorkMode),b.WorkModeList=ohnet.soaprequest.readStringParameter(b.WorkModeList),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.SetWorkMode=function(a,b,c){var d=new ohnet.soaprequest("SetWorkMode",this.url,this.domain,this.type,this.version);d.writeStringParameter("WorkMode",a),d.send(function(a){b&&b(a)},function(a,b){c&&c(a,b)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.DelAllLocalDB=function(a,b){new ohnet.soaprequest("DelAllLocalDB",this.url,this.domain,this.type,this.version).send(function(b){a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.InitHDD=function(a,b){new ohnet.soaprequest("InitHDD",this.url,this.domain,this.type,this.version).send(function(b){a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.Rescan=function(a,b){new ohnet.soaprequest("Rescan",this.url,this.domain,this.type,this.version).send(function(b){a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.HandMount=function(a,b){new ohnet.soaprequest("HandMount",this.url,this.domain,this.type,this.version).send(function(b){a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.HandUMount=function(a,b){new ohnet.soaprequest("HandUMount",this.url,this.domain,this.type,this.version).send(function(b){a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetDiskInfo=function(a,b){new ohnet.soaprequest("GetDiskInfo",this.url,this.domain,this.type,this.version).send(function(b){b.IsConnected=ohnet.soaprequest.readBoolParameter(b.IsConnected),b.StatusCode=ohnet.soaprequest.readStringParameter(b.StatusCode),b.StatusInfo=ohnet.soaprequest.readStringParameter(b.StatusInfo),b.Capacity=ohnet.soaprequest.readStringParameter(b.Capacity),b.FileCount=ohnet.soaprequest.readStringParameter(b.FileCount),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetSMBConfig=function(a,b){new ohnet.soaprequest("GetSMBConfig",this.url,this.domain,this.type,this.version).send(function(b){b.SMBAddr=ohnet.soaprequest.readStringParameter(b.SMBAddr),b.SMBUserName=ohnet.soaprequest.readStringParameter(b.SMBUserName),b.SMBPassWord=ohnet.soaprequest.readStringParameter(b.SMBPassWord),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.SetSMBConfig=function(a,b,c,d,e){var f=new ohnet.soaprequest("SetSMBConfig",this.url,this.domain,this.type,this.version);f.writeStringParameter("SMBAddr",a),f.writeStringParameter("SMBUserName",b),f.writeStringParameter("SMBPassWord",c),f.send(function(a){d&&d(a)},function(a,b){e&&e(a,b)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetDriveMountResult=function(a,b){new ohnet.soaprequest("GetDriveMountResult",this.url,this.domain,this.type,this.version).send(function(b){b.DriveMountResult=ohnet.soaprequest.readBoolParameter(b.DriveMountResult),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.EditTrack=function(a,b,c){var d=new ohnet.soaprequest("EditTrack",this.url,this.domain,this.type,this.version);d.writeStringParameter("EditValue",a),d.send(function(a){b&&b(a)},function(a,b){c&&c(a,b)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.ScanVersionDiff=function(a,b){new ohnet.soaprequest("ScanVersionDiff",this.url,this.domain,this.type,this.version).send(function(b){b.ScanVersionDiffValue=ohnet.soaprequest.readStringParameter(b.ScanVersionDiffValue),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetInitHDDResult=function(a,b){new ohnet.soaprequest("GetInitHDDResult",this.url,this.domain,this.type,this.version).send(function(b){b.InitHDDResult=ohnet.soaprequest.readBoolParameter(b.InitHDDResult),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetHDDHasInited=function(a,b){new ohnet.soaprequest("GetHDDHasInited",this.url,this.domain,this.type,this.version).send(function(b){b.HDDHasInited=ohnet.soaprequest.readBoolParameter(b.HDDHasInited),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.USBImport=function(a,b){new ohnet.soaprequest("USBImport",this.url,this.domain,this.type,this.version).send(function(b){a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetDISKCapacity=function(a,b){new ohnet.soaprequest("GetDISKCapacity",this.url,this.domain,this.type,this.version).send(function(b){b.DISKTotal=ohnet.soaprequest.readStringParameter(b.DISKTotal),b.DISKUsed=ohnet.soaprequest.readStringParameter(b.DISKUsed),b.DISKAvailable=ohnet.soaprequest.readStringParameter(b.DISKAvailable),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.ForceRescan=function(a,b){new ohnet.soaprequest("ForceRescan",this.url,this.domain,this.type,this.version).send(function(b){a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetCurrentScanFile=function(a,b){new ohnet.soaprequest("GetCurrentScanFile",this.url,this.domain,this.type,this.version).send(function(b){b.ScanFile=ohnet.soaprequest.readStringParameter(b.ScanFile),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.GetServerConfig=function(a,b){new ohnet.soaprequest("GetServerConfig",this.url,this.domain,this.type,this.version).send(function(b){b.GetValue=ohnet.soaprequest.readStringParameter(b.GetValue),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgServerConfig1.prototype.SetServerConfig=function(a,b,c){var d=new ohnet.soaprequest("SetServerConfig",this.url,this.domain,this.type,this.version);d.writeStringParameter("SetValue",a),d.send(function(a){b&&b(a)},function(a,b){c&&c(a,b)})};var CpProxyAvOpenhomeOrgWebProcessorConfig1=function(a,b){this.url=window.location.protocol+"//"+b+"/"+a+"/av.openhome.org-WebProcessorConfig-1/control",this.domain="av-openhome-org",this.type="WebProcessorConfig",this.version="1",this.serviceName="av.openhome.org-WebProcessorConfig-1",this.subscriptionId="",this.udn=a,this.serviceProperties={},this.serviceProperties.ProcessorConfig=new ohnet.serviceproperty("ProcessorConfig","string")};CpProxyAvOpenhomeOrgWebProcessorConfig1.prototype.subscribe=function(a){ohnet.subscriptionmanager.addService(this,a)},CpProxyAvOpenhomeOrgWebProcessorConfig1.prototype.unsubscribe=function(){ohnet.subscriptionmanager.removeService(this.subscriptionId)},CpProxyAvOpenhomeOrgWebProcessorConfig1.prototype.ProcessorConfig_Changed=function(a){this.serviceProperties.ProcessorConfig.addListener(function(b){a(ohnet.soaprequest.readStringParameter(b))})},CpProxyAvOpenhomeOrgWebProcessorConfig1.prototype.GetProcessorConfig=function(a,b){new ohnet.soaprequest("GetProcessorConfig",this.url,this.domain,this.type,this.version).send(function(b){b.ProcessorConfig=ohnet.soaprequest.readStringParameter(b.ProcessorConfig),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgWebProcessorConfig1.prototype.SetProcessorConfig=function(a,b,c){var d=new ohnet.soaprequest("SetProcessorConfig",this.url,this.domain,this.type,this.version);d.writeStringParameter("ProcessorConfig",a),d.send(function(a){b&&b(a)},function(a,b){c&&c(a,b)})};var CpProxyAvOpenhomeOrgWebClockConfig1=function(a,b){this.url=window.location.protocol+"//"+b+"/"+a+"/av.openhome.org-WebClockConfig-1/control",this.domain="av-openhome-org",this.type="WebClockConfig",this.version="1",this.serviceName="av.openhome.org-WebClockConfig-1",this.subscriptionId="",this.udn=a,this.serviceProperties={},this.serviceProperties.Alive=new ohnet.serviceproperty("Alive","bool"),this.serviceProperties.ClockConfig=new ohnet.serviceproperty("ClockConfig","string")};CpProxyAvOpenhomeOrgWebClockConfig1.prototype.subscribe=function(a){ohnet.subscriptionmanager.addService(this,a)},CpProxyAvOpenhomeOrgWebClockConfig1.prototype.unsubscribe=function(){ohnet.subscriptionmanager.removeService(this.subscriptionId)},CpProxyAvOpenhomeOrgWebClockConfig1.prototype.Alive_Changed=function(a){this.serviceProperties.Alive.addListener(function(b){a(ohnet.soaprequest.readBoolParameter(b))})},CpProxyAvOpenhomeOrgWebClockConfig1.prototype.ClockConfig_Changed=function(a){this.serviceProperties.ClockConfig.addListener(function(b){a(ohnet.soaprequest.readStringParameter(b))})},CpProxyAvOpenhomeOrgWebClockConfig1.prototype.GetClockConfig=function(a,b){new ohnet.soaprequest("GetClockConfig",this.url,this.domain,this.type,this.version).send(function(b){b.ClockConfig=ohnet.soaprequest.readStringParameter(b.ClockConfig),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgWebClockConfig1.prototype.SetClockConfig=function(a,b,c){var d=new ohnet.soaprequest("SetClockConfig",this.url,this.domain,this.type,this.version);d.writeStringParameter("ClockConfig",a),d.send(function(a){b&&b(a)},function(a,b){c&&c(a,b)})};var CpProxyAvOpenhomeOrgWebDACConfig1=function(a,b){this.url=window.location.protocol+"//"+b+"/"+a+"/av.openhome.org-WebDACConfig-1/control",this.domain="av-openhome-org",this.type="WebDACConfig",this.version="1",this.serviceName="av.openhome.org-WebDACConfig-1",this.subscriptionId="",this.udn=a,this.serviceProperties={},this.serviceProperties.Alive=new ohnet.serviceproperty("Alive","bool"),this.serviceProperties.DACConfig=new ohnet.serviceproperty("DACConfig","string")};CpProxyAvOpenhomeOrgWebDACConfig1.prototype.subscribe=function(a){ohnet.subscriptionmanager.addService(this,a)},CpProxyAvOpenhomeOrgWebDACConfig1.prototype.unsubscribe=function(){ohnet.subscriptionmanager.removeService(this.subscriptionId)},CpProxyAvOpenhomeOrgWebDACConfig1.prototype.Alive_Changed=function(a){this.serviceProperties.Alive.addListener(function(b){a(ohnet.soaprequest.readBoolParameter(b))})},CpProxyAvOpenhomeOrgWebDACConfig1.prototype.DACConfig_Changed=function(a){this.serviceProperties.DACConfig.addListener(function(b){a(ohnet.soaprequest.readStringParameter(b))})},CpProxyAvOpenhomeOrgWebDACConfig1.prototype.GetDACConfig=function(a,b){new ohnet.soaprequest("GetDACConfig",this.url,this.domain,this.type,this.version).send(function(b){b.DACConfig=ohnet.soaprequest.readStringParameter(b.DACConfig),a&&a(b)},function(a,c){b&&b(a,c)})},CpProxyAvOpenhomeOrgWebDACConfig1.prototype.SetDACConfig=function(a,b,c){var d=new ohnet.soaprequest("SetDACConfig",this.url,this.domain,this.type,this.version);d.writeStringParameter("DACConfig",a),d.send(function(a){b&&b(a)},function(a,b){c&&c(a,b)})};